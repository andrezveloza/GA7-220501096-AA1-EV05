(()=>{var xr={67832:(G,B,t)=>{"use strict";t.d(B,{rm:()=>R});var y=t(35608),D=t.n(y);const w=null,j=y.ungzip,h=i=>w(new TextEncoder().encode(i)),R=i=>new TextDecoder().decode(j(new Uint8Array(i)))},71789:(G,B,t)=>{"use strict";t.d(B,{Qs:()=>n,vn:()=>_,Ev:()=>f});var y=t(81165),D=t(53705),w=t(92029),j=t(3153);const h="hzv5",R="init",i="flpk",s=(m,b)=>m.slice(-3)+"/"+m+"/"+b+".zip",S=()=>globalThis[h],n=()=>(0,D.i3)(S()),c=()=>(0,w.hK)(S(),"missing HZV5 data"),_=async()=>(c(),S()[R]),f=async m=>{if(c(),(0,j.cQ)(m))throw new Error("no cmt data");const[b,a,o,e]=S()[i],r={t10s:b[0],size:b[1],tre:(0,y.J)(b[2])},l=a.map(P=>{let[C,M,d]=P;return{t10s:C,size:M,pbx:(0,y.J)(d)}}),v=o.map(P=>{let[C,M]=P;return{t10s:C,pch:M}});return[r,l,v,new Date(e)]}},7106:(G,B,t)=>{"use strict";t.d(B,{Lp:()=>f,Vv:()=>e,_M:()=>R,gG:()=>n,hc:()=>_,lD:()=>c,mb:()=>m,xK:()=>S});var y=t(34605),D=t(12107),w=t(67173),j=t(94189),h=t(38099);const R=(r,l)=>{const v=r.tableData&&r.tableData.links,P=r.tableData.mergeCells;if(!v)return"";const C=[],{selectionLeftTopInfo:{x:M,y:d},selectionRightBottomInfo:{x:L,y:K}}=l;for(let T=M;T<=L;T++)for(let x=d;x<=K;x++)C.push(v[x][T]);if(P[M+"-"+d]){const[T,x]=P[M+"-"+d];if(M+T-1===L&&d+x-1===K)return C[0]}return(C.length>1?"":C[0]).split(",").map(T=>{var x;return((x=r.interactions.find(X=>X.subKey===T))==null?void 0:x.key)||""})},i={"text-align":["textAlign","center"],"vertical-align":["verticalAlign","middle"],"align-items":["alignItems","center"],"justify-content":["justifyContent","center"],"font-size":["fontSize",14],color:["color","#101010"],"font-weight":["fontWeight","normal"],"font-style":["fontStyle","normal"],"text-decoration":["textDecoration","normal"],"line-height":["lineHeight","20px"],padding:["padding",4],"white-space":["whiteSpace","per-line"]},s={center:"center",left:"flex-start",right:"flex-end",justify:"space-between"},S=["default","noBorderInterlacing","hasBorderInterlacing","topBg","leftBg","topLeftBg"],n=r=>{const{tableConfig:{innerBorderV:l,innerBorderH:v,outerBorder:P}}=r;return{innerBorderV:(0,w.O_)(l),innerBorderH:(0,w.O_)(v),outerBorder:(0,w.O_)(P)}},c=r=>{const l=[];return Object.entries(r).forEach(v=>{let[P,C]=v;const[M,d]=C,[L,K]=P.split("-");for(let I=0;I<M;I++)for(let g=0;g<d;g++){const T=Number(L)+I+"-"+(Number(K)+g);T!==P&&l.push(T)}}),l},_=(r,l,v,P)=>{let C={selectArea:{width:0,height:0,top:-3e3,left:-3e3},copyArea:{width:0,height:0,top:-3e3,left:-3e3},firstCell:{width:0,height:0,background:"#fff"}};if(!r)return C;try{const{selectionLeftTopInfo:{x:M,y:d},selectionRightBottomInfo:{x:L,y:K}}=r,{top:I,left:g}=D.R.tableHandle.el.querySelector(".jexcel_content").getBoundingClientRect(),{top:T,left:x,height:X,width:oe}=D.R.tableHandle.el.querySelector('[data-xy="'+M+"-"+d+'"]').getBoundingClientRect();let ne=1,fe=1;for(let Q=M;Q<=L;Q++)ne+=v[Q].width;for(let Q=d;Q<=K;Q++)fe+=l[Q].height;let Z=null;if(P){const{start:Q,end:ae,isV:le,isToTopOrLeft:ge}=P;let Ae=-2,Te=-2;const{x:Re,y:ue}=ae,{x:Be,y:xe}=Q;for(let Ue=Be;Ue<=Re;Ue++)Ae+=v[Ue].width;for(let Ue=xe;Ue<=ue;Ue++)Te+=l[Ue].height;let je,ze;ge&&({top:je,left:ze}=D.R.tableHandle.el.querySelector('[data-xy="'+Be+"-"+xe+'"]').getBoundingClientRect()),Z={width:le?Ae+1:Ae+ne+1,height:le?Te+fe:Te,top:((ge&&le?je:T)-I+2)/D.R.externalFunc.getMbScale()*100,left:((ge&&!le?ze:x)-g+2)/D.R.externalFunc.getMbScale()*100}}C={firstCell:{width:oe/D.R.externalFunc.getMbScale()*100,height:X/D.R.externalFunc.getMbScale()*100},copyArea:Z,selectArea:{width:ne,height:fe,top:(T-I)/D.R.externalFunc.getMbScale()*100,left:(x-g)/D.R.externalFunc.getMbScale()*100}}}catch(M){console.error("gJSBS",M)}return C},f=r=>{const l={};return m(r).forEach((P,C)=>{const M=i[C]&&i[C][0]||C;if(M==="alignItems")l.justifyContent=P;else if(M==="justifyContent")l.alignItems=P;else if(M==="background"){const d=(0,y.Gd)(P);l[M]=d}else l[M]=P}),l.alignItems=l.textAlign?s[l.textAlign]:"flex-start",l},m=r=>{const l=new Map;return r&&r.split(";").filter(v=>v).forEach(v=>{const[P,C]=v.split(":");l.set(P.trim(),C.trim())}),l},b={ha:"left",va:"middle","font-size":14,color:"#101010",boldType:0,"font-style":"normal","text-decoration":"normal","line-height":20,padding:4,background:"#FFFFFF"},a={"flex-start":"top",center:"middle","flex-end":"bottom"},o=r=>{const l=(0,j.OI)(r);return(0,h.Qq)({isEnable:!0,color:(0,j.ls)(l)})},e=r=>{const l=m(r),v={...b};return l.forEach((P,C)=>{["font-size","line-height","padding"].includes(C)?v[C]=parseInt(P.replace("px","")):C==="font-weight"?v.boldType=+(P==="bold"):C==="text-align"?v.ha=P:C==="align-items"?v.va=a[P]:v[C]=P}),{appearance:{background:o(v.background)},text:{boldType:v.boldType,color:v.color,fontSize:v["font-size"],fontStyle:v["font-style"],lineHeight:v["line-height"],textDecoration:v["text-decoration"],ha:v.ha,va:v.va,padding:v.padding}}}},79486:(G,B,t)=>{"use strict";t.d(B,{Bs:()=>X,Q0:()=>P,hD:()=>fe,jr:()=>ne,om:()=>v,q8:()=>T,yS:()=>g});var y=t(87587),D=t(15670),w=t(21940),j=t(12155),h=t(38246),R=t(66421),i=t(34384),s=t(29815),S=t(71789),n=t(9756),c=t(53233),_=t(78467),f=t(27056),m=t(7221),b=t(38133),a=t(85689),o=t(79857),e=t(43980),r=t(45294);t.g.ENV&&t.g.ENV.IS_SKT_HTTP&&(0,w.WL)(!0),(0,o.T)(e.uT,e.n_);const l=async(Z,Q)=>{console.warn("[onTransferError]",Z,Q),Z==="Tot"||Z==="5XX"?MB.notice({text:I18N.Common.offline_alert,duration:5*1e3,showClose:!0,priority:1}):Z==="4XX"&&(window.onbeforeunload=void 0,MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>MB.global.onBackButtonClick()))},v=async Z=>{let{cid:Q,project_meta_cid:ae,userId:le}=Z;return(0,w.od)({userId:le,projCid:Q,flpakKey:ae,isDummyCmt:!0,isAllowDat:!0,onTransferError:l})},P=async Z=>{const{sdkStore:Q}=await(0,w.Qb)({flpakKey:Z});return Q},C=Z=>{let{cssCur:Q,emitCur:ae}=Z,le={locKey:"",curX:NaN,curY:NaN};document.addEventListener("pointermove",(0,y.P2)(()=>{try{if(Q.getSocketStat().length<=1)return;const ge=(0,r.U)();if(!ge)return;const{current:{currentScreen:Ae},screencontainer:{cursorPos:Te}}=ge,Re=Ae&&(Ae.cid||Ae.key);if(!Re||!Te)return;const{x:ue,y:Be}=Te;if(le.locKey===Re&&le.curX===ue&&le.curY===Be)return;ae(Re,ue,Be),le={locKey:Re,curX:ue,curY:Be}}catch(ge){console.error("TODO: cssCur push error",ge)}},.05*1e3,!0),{passive:!0})},M=(0,y.P2)(()=>{var Z,Q;(Z=MB)==null||(Q=Z.__store__)==null||Q.dispatch({type:"entry:rebuild:screen-widget-tree"})},.5*1e3),d=(0,y.P2)(()=>{var Z,Q,ae,le,ge;!((Z=MB)==null||(Q=Z.__store__)==null)&&Q.dispatch&&MB.__store__.dispatch({type:"entry:comment:rebuild:commentList"}),!((ae=MB)==null||(le=ae.webpackInterface)==null||(ge=le.store)==null)&&ge.dispatch&&MB.webpackInterface.store.dispatch({type:"entry:comment:rebuild:commentList"})},.5*1e3),L={log:Z=>{let{type:Q,payload:ae}=Z},repaint:Z=>{let{type:Q,payload:ae}=Z;Q===h.K&&d()}},K={repaint:Z=>{let{type:Q,payload:ae}=Z;Q===j.K&&M()}},I=(Z,Q)=>{if(Z.getFlatTree().get("B@main").sub.length===0){const ae=(0,n.wc)([],Q);Z.applyDiff(ae),Z.resetUndo()}},g=async Z=>{let{projectBasicCid:Q}=Z;const{projectBasic:ae,projectMetaList:le}=await(0,c.zf)(Q),[ge]=le;{const{userId:Ae,flatKey:Te}=await(0,c.tr)({projectBasicCid:Q});console.log("[p2edit] uId="+Ae+" key="+Te+" pbCid="+Q);const Re=await(0,w.od)({userId:Ae,projCid:Q,flpakKey:Te,isAllowDat:!0,isAllowCmt:!0,isAllowCur:!0,onTransferError:l});Re.roSdkStore=Re.sdkStore.createRoSdkStore(),Object.assign(globalThis,{...Re,rootSdk:Re}),C(Re),sdkStore.subscribe(K.repaint),cmtStore.subscribe(L.repaint),I(flatStore,ae)}return{projectBasic:ae,projectMeta:ge}},T=async Z=>{let{projectBasicCid:Q,project_basic:ae,project_meta:le,accessToken:ge,password:Ae}=Z;const Te=ae,Re=le;{const{userId:ue,flatKey:Be}=await(0,c.MT)({projectBasicCid:Q,accessToken:ge,password:Ae});console.log("[p2edit] uId="+ue+" key="+Be+" pbCid="+Q);const xe=!!ue;try{const je=await(0,w.od)({userId:ue,projCid:Q,flpakKey:Be,isAllowDat:xe,isAllowCmt:xe,isAllowCur:xe,token:ge,passwd:Ae});je.roSdkStore=je.sdkStore.createRoSdkStore(),Object.assign(globalThis,{...je,rootSdk:je}),(0,b.s_)()||C(je),sdkStore.subscribe(K.repaint),cmtStore.subscribe(L.repaint),I(flatStore,Te)}catch(je){const ze=Number(je.toString().split("status")[1].split(":")[1].split(",")[0]);return(0,_.mB)({status:ze})}}return{projectBasic:Te,projectMeta:Re}},x=async()=>{const Z=createFlatStore(createInitialFlatTree(),createClockStore({})),Q=createSdkStore(Z),ae=createShowMeTheTree(Z),le=createShowMeHotTree(Q);Object.assign(globalThis,{flatStore:Z,sdkStore:Q,showMeTheTree:ae,showMeHotTree:le});const ge=initMockBasicData(Q);if(Z.applyDiff(ge),DevUrlOptions.getIsPlayAxure())buildAxureData(Q);else{switch(DevUrlOptions.getTestData()){case"td1":testDataSet.buildTestData1(ge);break;case"td2":testDataSet.buildTestData2(ge);break;case"td3":testDataSet.buildTestData3(ge);break;default:testDataSet.buildTestData1(ge);break}Z.applyDiff(ge)}Z.resetUndo()},X=async Z=>{let{projectBasicCid:Q,project_basic:ae,project_meta:le,accessToken:ge,password:Ae,projectVersion:Te}=Z;const Re=ae,ue=le;{const{userId:Be,flatKey:xe}=await(0,f.tr)({prj2VersionCid:Te,projectCid:Q});console.log("[p2edit] uId="+Be+" key="+xe+" pbCid="+Q);try{const je=await(0,w.od)({userId:Be,projCid:Q,flpakKey:xe,isAllowDat:!0,isAllowCmt:!1,isAllowCur:!1,token:ge,passwd:Ae});je.roSdkStore=je.sdkStore.createRoSdkStore(),Object.assign(globalThis,{...je,rootSdk:je}),I(flatStore,Re)}catch(je){const ze=Number(je.toString().split("status")[1].split(":")[1].split(",")[0]);return(0,_.mB)({status:ze})}}return{projectBasic:Re,projectMeta:ue}},oe=async Z=>{let{project_meta:Q}=Z;const ae=Q;{const le=ae.cid;try{const ge=await setupSdk({userId:null,flpakKey:le,isDummyCmt:!0});ge.roSdkStore=ge.sdkStore.createRoSdkStore(),Object.assign(globalThis,{...ge,rootSdk:ge}),sdkStore.subscribe(K.repaint)}catch(ge){const Ae=Number(ge.toString().split("status")[1].split(":")[1].split(",")[0]);return crashedPageWithUser({status:Ae})}}return{projectMeta:ae}},ne=async Z=>{let{projectBasicCid:Q,project_basic:ae,project_meta:le}=Z;const ge=ae,Ae=le;{const Te="",Re=le.cid;try{const ue=await(0,w.od)({userId:Te,projCid:Q,flpakKey:Re,isDummyCmt:!0,__fetchFlpakAsync:S.Ev});ue.roSdkStore=ue.sdkStore.createRoSdkStore(),Object.assign(globalThis,{...ue,rootSdk:ue}),C(ue),sdkStore.subscribe(K.repaint),cmtStore.subscribe(L.repaint),I(flatStore,ge)}catch(ue){const Be=Number(ue.toString().split("status")[1].split(":")[1].split(",")[0]);return(0,_.mB)({status:Be})}}return{projectBasic:ge,projectMeta:Ae}},fe=async Z=>{let{projectBasicCid:Q}=Z;const{market_template:ae,project_metas:le}=await(0,m.Mv)(Q),ge=le[0],Ae=ge.cid;{const Te=await(0,w.od)({userId:null,projCid:Q,flpakKey:Ae,isAllowDat:!0,isAllowCmt:!0,isAllowCur:!0,onTransferError:l});Te.roSdkStore=Te.sdkStore.createRoSdkStore(),Object.assign(globalThis,{...Te,rootSdk:Te}),C(Te),sdkStore.subscribe(K.repaint),cmtStore.subscribe(L.repaint),I(flatStore,ae)}return{projectBasic:ae,projectMeta:ge}}},66216:(G,B,t)=>{"use strict";t.d(B,{Sm:()=>y.Sm,WX:()=>y.WX,XC:()=>y.XC,e7:()=>y.e7});var y=t(95890),D=t(72969),w=t.n(D),j=t(96106)},74223:(G,B,t)=>{"use strict";t.d(B,{I2:()=>h,MI:()=>R,f1:()=>j});var y=t(1074),D=t.n(y),w=t(70423);const j=(i,s)=>{if(!(i!=null&&i.cid))return-1;let S=0,n="",c=i;for(;c&&!c.root_project&&(S=S+1,n=c.parent_cid,!!n);)c=s.get(n);return S};function h(i){return i&&Object.entries(i).reduce((s,S)=>{let[n,c]=S;return Object.assign(s,{[D()(n)]:c})},{})}const R=(i,s,S)=>{const n=(0,w.Rv)()?"_self":s;return window.open(i,n,S)}},56620:(G,B,t)=>{"use strict";t.d(B,{K4:()=>Ae,KG:()=>ae,P:()=>Z,Z1:()=>n,dm:()=>ne,eb:()=>_,gA:()=>x,gR:()=>r,gT:()=>f,iw:()=>Te,jk:()=>P,nG:()=>v,s9:()=>Re,wZ:()=>oe,xM:()=>fe});var y=t(7108),D=t.n(y),w=t(98674),j=t(27783),h=t(8465),R=t(68557),i=t(11685),s=t(66180),S=t(65266);const n=(0,h.V)(()=>(0,w.ZO)(window.MBLocale,window.I18N)),c=(0,h.V)(()=>(0,w.sA)(window.MBLocale,window.I18N)),_=[i.l.WRichText,i.l.WRect,i.l.WOval,i.l.WPolygon,i.l.WStar,i.l.WVector,i.l.WTriangle],f=[i.l.WRichText,i.l.WRect,i.l.WOval,i.l.WLine,i.l.WImage,i.l.WLR],m=[i.l.WMTextInput,i.l.WMTextArea,i.l.WMSelect,i.l.WMFileInput,i.l.WSelectionControlRadio,i.l.WSelectionControlCheckbox,i.l.WAndroidSwitch,i.l.WIOSSwitch,i.l.WSlider,i.l.WDigitalStepper],b=[i.l.WDropMenu,i.l.WNavigationMenu,i.l.WNavigationMenuV,i.l.WNavigationMenuH,i.l.WMobileTabBars,i.l.WSegmentedControl,i.l.WCollapse,i.l.WTabs,i.l.WPaginationMobile,i.l.WPaginationWeb],a=[i.l.WBarChart,i.l.WHorizontalBarChart,i.l.WLineChart,i.l.WLineAreaChart,i.l.WMixedBarLineChart,i.l.WPieChart,i.l.WRingChart,i.l.WProgressChart,i.l.WRadarChart],o=[i.l.WImage,i.l.WCarousel,i.l.WWebpage,i.l.WVideo,i.l.WAudio,i.l.WQRCode,i.l.WMapView,i.l.WMTooltip],e=[i.l.WRichText,i.l.WRect,i.l.WOval,i.l.WLine,i.l.WImage,i.l.WLR,i.l.WButton,i.l.WButtonSolid,i.l.WPlaceholder,i.l.WTable,i.l.WSticky,i.l.WTear,i.l.WArrow,i.l.WIphoneXSB,i.l.WMTextInput,i.l.WMTextArea,i.l.WMSelect,i.l.WDropMenu,i.l.WPolygon,i.l.WStar,i.l.WTriangle],r=[i.l.WButton,i.l.WButtonSolid,i.l.WPlaceholder,i.l.WTable,i.l.WSticky,i.l.WArrow,i.l.WMTextInput,i.l.WMTextArea,i.l.WMSelect,i.l.WPolygon,i.l.WStar,i.l.WTriangle,i.l.WCarousel,i.l.WWebpage,i.l.WVideo,i.l.WAudio,i.l.WQRCode,i.l.WMFileInput,i.l.WMTooltip,i.l.WMapView,i.l.WTear,i.l.WIphoneXSB],l=[i.l.BarChart,i.l.HorizontalBarChart,i.l.LineChart,i.l.LineAreaChart,i.l.PieChart,i.l.RingChart,i.l.ProgressChart,i.l.RadarChart],v=[i.l.WDropMenu,i.l.WNavigationMenu,i.l.WNavigationMenuV,i.l.WNavigationMenuH,i.l.WCollapse,i.l.WSegmentedControl,i.l.WTabs,i.l.WPaginationMobile,i.l.WPaginationWeb,i.l.WSlider,i.l.WDigitalStepper,i.l.WIOSSwitch,i.l.WAndroidSwitch,i.l.WMobileTabBars,i.l.WSelectionControlRadio,i.l.WSelectionControlCheckbox],P=[i.l.WRect,i.l.WOval,i.l.WPolygon,i.l.WStar,i.l.WVector,i.l.WLine,i.l.WTriangle],C=e.map(ue=>j.qw[ue]),M=m.map(ue=>j.qw[ue]),d=b.map(ue=>j.qw[ue]),L=()=>a.map(ue=>j.qw[ue]),K=o.map(ue=>j.qw[ue]),I=[...v].map(ue=>j.qw[ue]),g=[...f,...r].map(ue=>j.qw[ue]),T=[...f,...r].filter(ue=>![i.l.PG,i.l.Annotate].includes(ue)).map(ue=>j.qw[ue]),x=ue=>{let{mode:Be="",withDynamicWidget:xe,marketTemplateList:je,builtinListInvisibleSet:ze=new Set}=ue;if(Be==="library"){if(!xe)return{comboGroupList:[],screenList:[]};const Ue=[],Ge=[];for(const Ve of je)Ve.category==="combo_group"?Ue.push(Ve):Ve.category==="screen_list"&&Ge.push(Ve);return{comboGroupList:Ue,screenList:Ge}}else{if(!xe)return{comboGroupList:[],screenList:[]};const Ue=[],Ge=[];for(const Ve of je){const{cid:ht}=Ve;ze.has(ht)||(Ve.category==="combo_group"?Ue.push(Ve):Ve.category==="screen_list"&&Ge.push(Ve))}return{comboGroupList:Ue,screenList:Ge}}},X=ue=>{const[Be,xe,je,ze,Ue,Ge,Ve,ht]=ue;return{groupCid:Be,title:xe,id:je,cat:ze,view_box:Ue,path:Ge,keywords:Ve,lib:ht}},oe=ue=>{const Be=[];for(const xe of ue){if(!xe)continue;const je=X(xe);je.type=R.em[je.title]||"svg",Be.push(je)}return Be},ne=ue=>{const xe=(Ue=>{let Ge=C;if(Ue){const Ve=C.map(lt=>lt),ht=n();Ge=Ve.concat(ht)}return{cid:s.$V,groupName:I18N.dConst.library.highCommon,items:Ge}})(ue);let je=d;if(ue){const Ue=d.map(Ge=>Ge);Ue.splice(1,0,c()),je=Ue}return[{...xe},{cid:s.Ag,groupName:I18N.Resources.form_widget,items:M},{cid:s.rC,groupName:I18N.Resources.nav_widget,items:je},{cid:s.Pz,groupName:I18N.Resources.chart_widget,items:L()},{cid:s.q8,groupName:I18N.Resources.multimedia_widget,items:K}]},fe=()=>ne(!1).map(ue=>{let{cid:Be,groupName:xe}=ue;return{cid:Be,groupName:xe}}),Z=(ue,Be)=>{const ze=(ue?g.concat(n()).concat(c()):T).concat(I).concat(L()).filter(Ue=>{let{name:Ge}=Ue;return I18N.w[Ge]?I18N.w[Ge].includes(Be):Ge.includes(Be)});return ze.length>0?{cid:s.gb,groupName:I18N.LeftSidePanel.builtin,type:S.B.Widget,items:ze}:null},Q="2022-04-13 00:00:00",ae=ue=>ue?D()(ue).isBefore(Q)?!0:D()().isAfter(D()(ue).add(1,"days")):!1,le={Draft:1,RichDraft:2,Text:3},ge=ue=>ue===i.l.WSticky||ue===i.l.WTear?le.Draft:_.includes(ue)?le.RichDraft:le.Text,Ae=ue=>ge(ue)===le.Draft,Te=ue=>ge(ue)===le.RichDraft,Re=ue=>ge(ue)===le.Text},41768:(G,B,t)=>{"use strict";t.d(B,{$$:()=>d,AX:()=>M,D6:()=>o,ER:()=>C,Eb:()=>_,Fv:()=>P,GX:()=>x,I:()=>I,I3:()=>e,Lc:()=>fe,Oc:()=>s,Py:()=>n,Q2:()=>S,RT:()=>w,Sf:()=>ne,YE:()=>j,_:()=>m,_D:()=>h,ad:()=>r,an:()=>g,d$:()=>b,eF:()=>f,h8:()=>oe,hA:()=>T,jr:()=>a,kj:()=>c,p4:()=>X,vL:()=>v,yM:()=>K,zt:()=>l});var y=t(67894);const D={iphone:0,android:1,ipad:2,web:3,apple_watch:4,smart_car:5,customize:6},w=Object.entries(y).map(Z=>{let[Q,ae]=Z;return{device:Q,modalList:Object.entries(ae).map(le=>{let[ge,{name:Ae,width:Te,height:Re,hide:ue}]=le;return{name:Ae,width:Te,height:Re,hide:ue,key:ge}})}}).sort((Z,Q)=>D[Z.device]-D[Q.device]),j=Object.entries(y).reduce((Z,Q)=>{let[ae,le]=Q;return Object.assign(Z,Object.entries(le).reduce((ge,Ae)=>{let[Te,{name:Re,width:ue,height:Be,hide:xe}]=Ae;return Object.assign(ge,{[Te]:{name:Re,width:ue,height:Be,device:ae,hide:xe}})},{Android:{name:"Android",width:360,height:640,device:"android"}}))},{}),h=["iphone_12_pro_max","iphone_12_pro","iphone_se"],i=Object.entries(y).map(Z=>{let[Q,ae]=Z;return{device:Q,modelList:Object.entries(ae).map(le=>{let[ge,{name:Ae}]=le;return{name:Ae,key:ge}})}}).filter(Z=>["iphone","android"].includes(Z.device)).reduce((Z,Q)=>[...Z,...Q.modelList],[]).map(Z=>Z.key),s=Z=>i.includes(Z);let S=function(Z){return Z.LIGHT="light",Z.DARK="dark",Z}({});const n="dark",c={grid_size:10,theme:S.LIGHT},_="#ffffff",f={h:20,v:10},m={row:{count:0,gutter:20,size:144},col:{count:4,gutter:20,size:0}},b="rgba(41, 141, 248, 0.24)",a="screen-history-onLeave-project",o=!!Number(sessionStorage.getItem("inClowdz")),e={light:"rgba(245, 245, 245, 1)",dark:"rgba(21, 21, 21, 1)"},r={[S.LIGHT]:4126537215,[S.DARK]:353703423},l=[4,8,16,32,64,100,120,150,200,300,400,500,600,800,1e3,1600,3200,4e3],v=l[0],P=l[l.length-1],C=18,M=144,d=98,L=380,K=36,I=250,g=240,T=42,x=250,X=240,oe=184,ne=48,fe=(Z,Q)=>{const ae=Q==null?void 0:Q.fill;return!ae||!(ae!=null&&ae.fillIsVisible)?r[Z||S.LIGHT]:ae.solidColor}},68951:(G,B,t)=>{"use strict";t.d(B,{O:()=>D});var y=t(26844);let D=function(w){return w[w.USER_COMBO=y._H.USER_COMBO]="USER_COMBO",w[w.ORG_COMBO=y._H.ORG_COMBO]="ORG_COMBO",w[w.PROJECT_MAIN=y._H.PROJECT_MAIN]="PROJECT_MAIN",w[w.PROJECT_TRASHCAN=y._H.PROJECT_TRASHCAN]="PROJECT_TRASHCAN",w[w.PROJECT_TEMPLATE=y._H.PROJECT_TEMPLATE]="PROJECT_TEMPLATE",w[w.PANEL_TEMPLATE=y._H.PANEL_TEMPLATE]="PANEL_TEMPLATE",w}({})},4091:(G,B,t)=>{"use strict";t.d(B,{S3:()=>D,kC:()=>h,ky:()=>j,mp:()=>R,pX:()=>y});const y="/proto",D=s=>y+"/"+s,w=s=>{const S=/^\/proto\/design\/(?:([^/]+?))$/i.exec(s);return S?S[1]:new Error("project cid error")},j=s=>{let{search:S,pathname:n}=s;return n.includes("/sharing")?n.includes("dashboard")||n.includes("htmlzip")?n.split("/").at(-3):n.includes("embed/v2")?location.pathname.split("/").at(-4):n.split("/").at(-2):new URLSearchParams(S).get("token")||/^\/proto\/([^/]+?)(?:\/forum|\/uichina|\/embed|\/embed\/v2|\/htmlzip|\/sharing|\/ro)?\/?$/i.exec(n)[1]},h="/p2mkt_view",R=s=>h+"/"+s,i=s=>/^\/p2mkt_view\/(?:([^/]+?))$/i.exec(s)[1]},62609:(G,B,t)=>{"use strict";t.d(B,{K:()=>D,N:()=>w});var y=t(25926);const D=function(j,h,R){const i=h.getGuidesData()||"[]",s=new Set(JSON.parse(i)),S=new Set;return{checkGuideHasShown:n=>s.has(n),checkGuideToBeShown:n=>S.has(n),getState:()=>({commonGuidesHasShown:Array.from(s),commonGuidesToBeShown:Array.from(S)}),tryToShowGuide:n=>{var c,_;if(s.has(n)||!((c=MB)!=null&&(_=c.user)!=null&&_.id))return;const f=document.getElementById("MD_"+n);if(f){f.style.display="block";return}S.add(n),(0,y.k)(n,j,R)},markGuideAsRead:n=>{s.add(n),h.setGuidesData(JSON.stringify(Array.from(s)))},batchMarkGuideAsRead:n=>{n.forEach(c=>s.add(c)),h.setGuidesData(JSON.stringify(Array.from(s)))},closeGuide:n=>{const c=document.getElementById("MD_"+n);c&&c.parentNode&&c.parentNode.removeChild(c)},closeAllGuide:()=>{const n=document.getElementById("GUIDES");n&&n.parentNode&&n.parentNode.removeChild(n)},removeGuide:n=>{s.delete(n),h.setGuidesData(JSON.stringify(Array.from(s)))}}},w=j=>{let{store:h,api:R,commonGuidesData:i,isDesign:s,isPreview:S}=j;MB.commonGuideHelper=D(h,{getGuidesData:()=>i,setGuidesData:R.updateUserCommonGuidesData},{isDesign:s,isPreview:S})}},65266:(G,B,t)=>{"use strict";t.d(B,{B:()=>y});let y=function(D){return D.Widget="search_widget",D.MarketTemplate="search_template",D.Group="search_group",D.SelfMakeCombo="search_make_combo",D.Resources="search_resources",D.IconList="search_icon_list",D.Icon="search_icon",D.Asset="search_asset",D.FindPicture="search_find_picture",D}({})},76637:(G,B,t)=>{"use strict";t.d(B,{NM:()=>R,PV:()=>i});var y=t(7485),D=t(66216),w=t(89870);let j;(function(s){function S(c,_){const f={..._};for(const[m,b]of Object.entries(c))f[m]===void 0&&(f[m]=b);return f}s.merge=S;function n(c,_){const f={};for(const[m,b]of Object.entries(c))f[m]=_(b);return f}s.mapValues=n})(j||(j={}));let h;(function(s){function S(n){const c={};for(const[_,f]of Object.entries(n))f.shortcut!==void 0&&f.action!==void 0&&f.system!==!0&&(c[f.shortcut]=f.action);return c}s.toKeys=S})(h||(h={}));const R=(0,y.memo)(s=>{const S=(0,y.useContext)(D.XC),n=(0,w.I0)();return(0,y.useEffect)(()=>{const c=j.mapValues(s.sheet.keys,f=>()=>Array.isArray(f)?f.map(m=>n(m)):n(f)),_={...s.sheet,keys:c};return S.bind(_),()=>{S.unbind(_)}}),null}),i=(0,y.memo)(s=>{const S=(0,y.useContext)(D.XC),n=(0,w.I0)();return(0,y.useEffect)(()=>{const c=j.mapValues(s.sheet.keys,m=>()=>Array.isArray(m)?m.map(b=>n(b)):n(m)),_={...s.sheet,keys:c},f=[...S.sheetsBound];return f.forEach(m=>S.unbind(m)),S.bind(_),()=>{S.unbind(_),f.forEach(m=>S.bind(m))}}),null})},14049:(G,B,t)=>{"use strict";t.d(B,{Z:()=>R});var y=t(89870),D=t(77646),w=t(77200),j=t(40251);const h=(0,D.P1)([w.XL,w.jQ,w.GP,w.yT,w.M0],(i,s,S,n,c)=>{const{isEmbedV2:_,isSquare:f}=S;return{isPanelPreviewMode:n,isFullScreenMode:i,isMinimized:s,isEmbedV2:_,isSquare:f,leftPaneWidth:c}}),R=(0,y.$j)(i=>h(i))(j.Z)},59780:(G,B,t)=>{"use strict";t.d(B,{Z:()=>R});var y=t(89870),D=t(77646),w=t(77200),j=t(56960);const h=(0,D.P1)([w.Ds,w.os,w.v8,w.H9,w.ts,w.kc],(i,s,S,n,c,_)=>{let{isFullScreenMode:f}=_;const m=!(s.x===n.x&&s.y===n.y);return{mode:i,isDisplaced:m,isProjectMain:S,topBtnRight:f?100:0,zoomOptionBarRight:16,currentUser:c,isFullScreenMode:f}}),R=(0,y.$j)(i=>h(i))(j.Z)},16335:(G,B,t)=>{"use strict";t.d(B,{Z:()=>S});var y=t(89870),D=t(77646),w=t(77200),j=t(31033),h=t(4218),R=t(5259),i=t(19029);const s=(0,D.P1)([R.dq,w.Ds,w.v8,w.XL,w.jQ,i.Yb],(n,c,_,f,m,b)=>{const a=c===j.nh,o=n&&MB.user.id;return{commentMode:n,isLayerPanelShow:a,isCommentPanelShow:o,isFullScreenMode:f,isMinimized:m,isStickyTearpanelShow:b}}),S=(0,y.$j)(n=>s(n))(h.Z)},10737:(G,B,t)=>{"use strict";t.d(B,{Z:()=>i});var y=t(89870),D=t(77646),w=t(77200),j=t(86800);const h=s=>s.container.artboards.isShowSplash,R=(0,D.P1)([w.CL,w.vo,w.gz,h,w.GP,w.yT,w.Uq],(s,S,n,c,_,f,m)=>{let{activePageKey:b,activeCanvasKey:a}=m;return{screen:s,project:S,isImmersive:n,isShowSplash:c,previewOptions:_,isPanelPreviewMode:f,activePageKey:b,activeCanvasKey:a}}),i=(0,y.$j)(s=>R(s))(j.Z)},63160:(G,B,t)=>{"use strict";t.d(B,{R:()=>y});const y={keys:{"ctrl+enter":{type:"entry:enter:full-screen-mode"},"command+enter":{type:"entry:enter:full-screen-mode"},esc:{type:"entry:preview:escape:key"},"ctrl+numpad_add":{type:"entry:preview:zoom-in"},"command+numpad_add":{type:"entry:preview:zoom-in"},"ctrl+=":{type:"entry:preview:zoom-in"},"command+=":{type:"entry:preview:zoom-in"},"ctrl+numpad_subtract":{type:"entry:preview:zoom-out"},"command+numpad_subtract":{type:"entry:preview:zoom-out"},"ctrl+-":{type:"entry:preview:zoom-out"},"command+-":{type:"entry:preview:zoom-out"},"ctrl+numpad_0":{type:"entry:preview:set:scale",payload:{scale:100}},"command+numpad_0":{type:"entry:preview:set:scale",payload:{scale:100}},"ctrl+0":{type:"entry:preview:set:scale",payload:{scale:100}},"command+0":{type:"entry:preview:set:scale",payload:{scale:100}},"ctrl+numpad_1":[{type:"entry:auto-fit:preview:scale"},{type:"entry:preview:reset:canvas:offset"}],"command+numpad_1":[{type:"entry:auto-fit:preview:scale"},{type:"entry:preview:reset:canvas:offset"}],"ctrl+1":[{type:"entry:auto-fit:preview:scale"},{type:"entry:preview:reset:canvas:offset"}],"command+1":[{type:"entry:auto-fit:preview:scale"},{type:"entry:preview:reset:canvas:offset"}]}}},68517:(G,B,t)=>{"use strict";t.d(B,{An:()=>v,Bh:()=>P,Cp:()=>e,E9:()=>r,PG:()=>C,iF:()=>a,iy:()=>m,mF:()=>c,oS:()=>l,qb:()=>b,sx:()=>o,w:()=>f});var y=t(34605),D=t(57427),w=t(56741),j=t(50072),h=t(16822),R=t(67173),i=t(94189),s=t(95100),S=t(55827);const n=(M,d,L)=>{const{x:K,y:I}=M,{x:g,y:T}=d,x=Math.sqrt((K-g)*(K-g)+(I-T)*(I-T)),X=Math.atan2(T-I,g-K),oe=Math.cos(X),ne=Math.sin(X);return{x:M.x,y:M.y,complex:{a:oe*x,b:ne*x,c:-ne*x*(L||1),d:oe*x*(L||1)}}},c=M=>{if(M.type===j.Y_.LinearGradient){const{v:d,x:L,y:K,complex:I,colors:g,stops:T}=M,x=w.wx.parse({x:L,y:K,complex:I}),X=D.S.xy(L,K),oe={u:X.x,v:X.y},ne=D.S.add(x.applyWithoutXY(D.S.xy(1,0)),X),fe={u:ne.x,v:ne.y};return{fillIsVisible:d,fill:"linearGradient",pointFrom:oe,pointTo:fe,widthEllipse:0,knobList:T.map((Z,Q)=>({rate:Z,color:(0,y.q)({R:g[Q][0]*255,G:g[Q][1]*255,B:g[Q][2]*255,A:g[Q][3]*100})}))}}else if(M.type===j.Y_.RadialGradient){const{v:d,x:L,y:K,complex:I,colors:g,stops:T}=M,x=w.wx.parse({x:L,y:K,complex:I}),X=D.S.xy(L,K),oe={u:X.x,v:X.y},ne=D.S.add(x.applyWithoutXY(D.S.xy(1,0)),X),fe={u:ne.x,v:ne.y},Z=I.d/I.a||-I.c/I.b;return{fillIsVisible:d,fill:"radialGradient",pointFrom:oe,pointTo:fe,widthEllipse:Z,knobList:T.map((Q,ae)=>({rate:Q,color:(0,y.q)({R:g[ae][0]*255,G:g[ae][1]*255,B:g[ae][2]*255,A:g[ae][3]*100})}))}}else if(M.type===j.Y_.Solid){const{v:d,color:L}=M;return{fillIsVisible:d,fill:"solid",solidColor:(0,y.q)({R:L[0]*255,G:L[1]*255,B:L[2]*255,A:L[3]*100})}}else throw new Error("not compatiable")},_=M=>{const{R:d,G:L,B:K,A:I}=(0,y.is)(M);return[d/255,L/255,K/255,I/100]},f=(M,d)=>{let{w:L,h:K}=d;if(M.fill==="linearGradient"){const{fillIsVisible:I,pointFrom:g,pointTo:T,knobList:x}=M,X={x:g.u,y:g.v},oe={x:T.u,y:T.v},{x:ne,y:fe,complex:Z}=n(X,oe);return{v:I,blend:0,type:1,o:1,x:ne,y:fe,complex:{a:Z.a,b:Z.b,c:Z.c*Math.pow(K/L,2),d:Z.d},stops:x.map(Q=>Q.rate),colors:x.map(Q=>_(Q.color))}}else if(M.fill==="radialGradient"){const{fillIsVisible:I,pointFrom:g,pointTo:T,widthEllipse:x,knobList:X}=M,oe={x:g.u,y:g.v},ne={x:T.u,y:T.v},{x:fe,y:Z,complex:Q}=n(oe,ne,x);let ae=Q;return w.wx.parse({complex:Q,x:fe,y:Z}).decompose().ro/Math.PI*180%90!==0&&(ae={a:Q.a,b:Q.b,c:Q.c*Math.pow(K/L,2),d:Q.d}),{v:I,blend:0,type:2,o:1,x:fe,y:Z,complex:ae,stops:X.map(le=>le.rate),colors:X.map(le=>_(le.color))}}else if(M.fill==="solid"){const{fillIsVisible:I,solidColor:g}=M;return{v:I,blend:0,type:0,color:_(g)}}else throw new Error("not compatiable: "+M)},m=M=>{if(M.type===j.Y_.LinearGradient){const{v:d,o:L,x:K,y:I,type:g,blend:T,complex:x,colors:X,stops:oe}=M,ne=w.wx.parse({x:K,y:I,complex:x}),fe=D.S.xy(K,I),Z=D.S.add(ne.applyWithoutXY(D.S.xy(1,0)),fe);return[Number(d),T,(0,s.x_)(L),g,(0,S.Lm)(fe),(0,S.Lm)(Z),(0,s.iA)(0),oe.map((Q,ae)=>""+(0,s.x_)(Q)+(0,S.LU)({r:X[ae][0],g:X[ae][1],b:X[ae][2],a:X[ae][3]}))].join(",")}else if(M.type===j.Y_.RadialGradient){const{v:d,o:L,x:K,y:I,type:g,blend:T,complex:x,colors:X,stops:oe}=M,ne=w.wx.parse({x:K,y:I,complex:x}),fe=D.S.xy(K,I),Z=D.S.add(ne.applyWithoutXY(D.S.xy(1,0)),fe),Q=x.d/x.a||-x.c/x.b;return[Number(d),T,(0,s.x_)(L),g,(0,S.Lm)(fe),(0,S.Lm)(Z),(0,s.iA)(Q),oe.map((ae,le)=>""+(0,s.x_)(ae)+(0,S.LU)({r:X[le][0],g:X[le][1],b:X[le][2],a:X[le][3]}))].join(",")}else if(M.type===j.Y_.Solid){const{v:d,type:L,blend:K,color:I}=M;return[Number(d),K,(0,s.x_)(0),L,(0,S.LU)({r:I[0],g:I[1],b:I[2],a:I[3]})].join(",")}else throw new Error("not compatiable")},b=(M,d)=>{const L=M.split(","),{w:K,h:I}=d;if(Number(L[3])===j.Y_.LinearGradient){const[g,T,x,X,oe,ne,fe,...Z]=L,{x:Q,y:ae,complex:le}=n((0,S.s$)(oe),(0,S.s$)(ne));return{v:g!=="0",blend:Number(T),type:Number(X),o:(0,s.Ul)(x),x:Q,y:ae,complex:{a:le.a,b:le.b,c:le.c*Math.pow(I/K,2),d:le.d},stops:Z.map(ge=>(0,s.Ul)(ge.slice(0,2))),colors:Z.map(ge=>Object.values((0,S.A$)(ge.slice(2))))}}else if(Number(L[3])===j.Y_.RadialGradient){const[g,T,x,X,oe,ne,fe,...Z]=L,{x:Q,y:ae,complex:le}=n((0,S.s$)(oe),(0,S.s$)(ne),(0,s.mq)(fe));let ge=le;return w.wx.parse({complex:le,x:Q,y:ae}).decompose().ro/Math.PI*180%90!==0&&(ge={a:le.a,b:le.b,c:le.c*Math.pow(I/K,2),d:le.d}),{v:g!=="0",blend:Number(T),type:Number(X),o:(0,s.Ul)(x),x:Q,y:ae,complex:ge,stops:Z.map(Ae=>(0,s.Ul)(Ae.slice(0,2))),colors:Z.map(Ae=>Object.values((0,S.A$)(Ae.slice(2))))}}else if(Number(L[3])===j.Y_.Solid){const[g,T,x,X,oe]=L;return{v:g!=="0",blend:Number(T),type:Number(X),color:Object.values((0,S.A$)(oe))}}else throw new Error("not compatiable: "+M)},a=M=>{const d=f(M.fill,{w:M.width,h:M.height});return d.v?d.type===j.Y_.LinearGradient?"url('data:image/svg+xml;charset=utf8,"+encodeURIComponent((0,R.pO)(d))+"')":d.type===j.Y_.RadialGradient?"url('data:image/svg+xml;charset=utf8,"+encodeURIComponent((0,R.fg)(d))+"')":d.type===j.Y_.Solid?h.I.toRGBAStr(d.color):"":"transparent"},o=function(M,d){if(d===void 0&&(d=!0),typeof M=="number"){const L=(0,i.ls)(M),K=h.I.rgba(L.R/255,L.G/255,L.B/255,L.A/100);return[d?1:0,1,"zz",j.Y_.Solid,(0,S.LU)({r:K[0],g:K[1],b:K[2],a:K[3]})].join(",")}else if(typeof M=="object"){const L=h.I.rgba(M.r/255,M.g/255,M.b/255,M.a/100);return[d?1:0,1,"zz",j.Y_.Solid,(0,S.LU)({r:L[0],g:L[1],b:L[2],a:L[3]})].join(",")}else if(M.startsWith("#")){let L=M;L.length<7&&(L="#"+M[1]+M[1]+M[2]+M[2]+M[3]+M[3]);const K=h.I.hex(L);return[d?1:0,1,"zz",j.Y_.Solid,(0,S.LU)({r:K[0],g:K[1],b:K[2],a:K[3]})].join(",")}else{const L=h.I.getRGBAColor(M);return[d?1:0,1,"zz",j.Y_.Solid,(0,S.LU)({r:L[0],g:L[1],b:L[2],a:L[3]})].join(",")}},e=M=>{if(typeof M=="number")return{fillIsVisible:!0,fill:"solid",solidColor:M};if(typeof M=="object")return{fillIsVisible:!0,fill:"solid",solidColor:{R:M.R,G:M.G,B:M.B,A:M.A}};if(M.startsWith("#")){let d=M;d.length<7&&(d="#"+M[1]+M[1]+M[2]+M[2]+M[3]+M[3]);const L=h.I.hex(d);return{fillIsVisible:!0,fill:"solid",solidColor:(0,y.q)({R:L[0]*255,G:L[1]*255,B:L[2]*255,A:L[3]*100})}}else{const d=h.I.getRGBAColor(M);return{fillIsVisible:!0,fill:"solid",solidColor:(0,y.q)({R:d[0]*255,G:d[1]*255,B:d[2]*255,A:d[3]*100})}}},r=M=>{let d=M;d.length<7&&(d="#"+M[1]+M[1]+M[2]+M[2]+M[3]+M[3]);const L=h.I.hex(d);return(0,y.q)({R:L[0]*255,G:L[1]*255,B:L[2]*255,A:L[3]*100})},l=M=>{const d=M.split(","),L=(0,S.A$)(d[4]);return(0,i.SF)({R:Math.round(L.r*255),G:Math.round(L.g*255),B:Math.round(L.b*255),A:Math.round(L.a*100)})},v=M=>{const d=M.split(","),L=(0,S.A$)(d[4]);return"rgba("+Math.round(L.r*255)+","+Math.round(L.g*255)+","+Math.round(L.b*255)+","+L.a+")"},P=(M,d)=>{const L=M.split(",");if(Number(L[3])===j.Y_.Solid){const{r:K,g:I,b:g,a:T}=(0,S.A$)(L[4]);return h.I.rgb2hex({r:Math.round(K*255),g:Math.round(I*255),b:Math.round(g*255)})+"&"+T}else return b(M,d)},C=M=>{if(typeof M=="string"){const[d,L]=M.split("&"),{r:K,g:I,b:g}=h.I.hex2rgb(d);return[1,0,(0,s.x_)(1),0,(0,S.LU)({r:K/255,g:I/255,b:g/255,a:L})].join(",")}else return m(M)}},60747:(G,B,t)=>{"use strict";t.d(B,{Zl:()=>c,sD:()=>n,uL:()=>s});var y=t(94462),D=t(67894),w=t(2909),j=t(98385),h=t(41768);const R=Object.fromEntries(Object.entries(h.YE).filter(b=>{let[a]=b;return!["Android",...h._D].includes(a)})),i=b=>!!y[b.model],s=b=>i(b)?"device":"none",S=(b,a,o)=>{const e=c(b,a),r=o==="landscape";let l,v;return a==="device"&&e.bg?[l,v]=r?[e.height,e.width]:[e.width,e.height]:[l,v]=r?[b.height,b.width]:[b.width,b.height],{width:l,height:v}},n=(b,a,o,e)=>{const r=c(b,a),[l,v]=o?[r.height,r.width]:[r.width,r.height],P=e&&b.platform!=="web"?60:0;return{width:l,height:v+P}},c=(b,a)=>_(b,a)||f(b,a),_=(b,a)=>{let{model:o}=b;return a!=="device"?null:y[o]?{...y[o]}:null},f=(b,a)=>{const o=a==="none"?0:12,e=b.width+o*2,r=b.height+o*2,[l,v]=(0,w.CB)(b)?[Math.min(e,r),Math.max(e,r)]:[e,r];return{device:"default",top:o,left:o,width:l,height:v}},m=(b,a,o,e,r)=>{var l;const v=r===Orientation.landscape;let P=SHELL[a],C=(l=DEVICE_MODEL[b])==null?void 0:l[a];if(!C||C&&(v?e:o)!==C.width){const M=Object.keys(R).filter(d=>!HIDE_MODAL.includes(d)).find(d=>R[d].width===(v?e:o));if(!M)return null;C=R[M],P=SHELL[M]}return!P||!C?null:v?{...P,bg:P.bg+"_land",screenWidth:C.height,screenHeight:C.width,width:P.height,height:P.width,top:P.left,left:P.top}:{...P,screenWidth:C.width,screenHeight:C.height}}},59729:(G,B,t)=>{"use strict";t.d(B,{gn:()=>i,ll:()=>R});var y=t(74223);const D="jsid",w=()=>{try{const S=new URLSearchParams(location.search).get(D);S?window.localStorage.setItem(D,S):window.localStorage.removeItem(D)}catch(s){window.localStorage.removeItem(D)}},j=function(s){s===void 0&&(s=!1);try{if(ENV.IS_ON_PREMISES||ENV.IS_WONDER_SHARE)return"";const S=window.localStorage.getItem(D);return S?s?"&jsid="+S:"?jsid="+S:""}catch(S){return""}};function h(s){const S=/^[^?#]+\?([^#]+)/.test(s),n=j(S),c=n&&(s==null?void 0:s.includes(n==null?void 0:n.slice(1)));return""+s+(c?"":n)}const R=s=>{const S=h(s);location.href=S},i=(s,S,n)=>{const c=h(s);(0,y.MI)(c,S,n)}},14730:(G,B,t)=>{"use strict";t.d(B,{QT:()=>o,T_:()=>S,Tj:()=>_,ce:()=>b,qH:()=>c,tX:()=>n,vb:()=>m});var y=t(18582),D=t(20209),w=t(13228),j=t(59234),h=t(11685),R=t(52048);const i=Object.fromEntries(y.map(e=>[e.family,e.typeList.map(r=>(0,D.a7)(r,0))])),s=Object.fromEntries(y.map(e=>[e.family,["normal",...e.typeList.find(r=>r.toLowerCase().includes("italic"))?["italic"]:[]]])),S=()=>{const e=(0,w.e)(),r=$(e).find(".ah");let l=12;for(let v=12;v>=1;v--)r.css("font-size",v+"px"),r.css("line-height","100%"),r.text("a").height()===v&&(l=v);return l},n=e=>e.type===h.l.WRichText?{width:(0,j.bZ)(e),height:(0,j.xz)(e)}:{width:e.width,height:e.height},c=e=>e.type===h.l.WRichText?f(e):e.height,_=e=>e.type===h.l.WRichText?b(e):e.height,f=e=>{if(e.type!==h.l.WRichText)return null;const l=(0,w.e)().getElementsByClassName("auto-width")[0];l.classList.add(e.richTextV1.fontDirection),l.style.height=e.height+"px",l.innerHTML=(0,R.gh)(e);const v=l.getBoundingClientRect();return l.classList.remove(e.richTextV1.fontDirection),Math.ceil(v.width)},m=e=>{if(e.type!==h.l.WRichText)return null;const l=(0,w.e)().getElementsByClassName("auto-height")[0];l.classList.add(e.richTextV1.fontDirection),l.style.width=e.width+"px",l.innerHTML=(0,R.gh)(e);const v=l.getBoundingClientRect();return l.classList.remove(e.richTextV1.fontDirection),Math.ceil(v.height)},b=e=>{if(e.type!==h.l.WRichText)return null;const r=MB.__store__.getState().common.scale,l=document.getElementById("test-design-dom"+e.cid),v=(0,R.y1)(e.cid);let P;return l?P=l.getBoundingClientRect().height:P=v.getBoundingClientRect().height,Math.ceil(P/(r/100))},a=(e,r)=>{const l={...e[0],children:void 0},v={...e[0].children[0],text:void 0};return r.map(P=>({...l,children:[{...v,text:P}]}))},o=e=>{const r=new Set;return e.text.forEach(l=>{l.children.forEach(v=>{var P,C;let M=(0,D.a7)(v.fontWeight,v.boldType);M=(P=i[v.fontFamily])!=null&&P.includes(M)?M:400;const d=(C=s[v.fontFamily])!=null&&C.includes(v.fontStyle)?v.fontStyle:"normal",L=v.fontFamily+"|"+d+"|"+M;r.add(L)})}),r}},38625:(G,B,t)=>{"use strict";t.d(B,{CQ:()=>h,Gn:()=>j,iw:()=>S,ne:()=>s});var y=t(42966),D=t(52454),w=t(54635);const j=n=>{var c,_,f,m,b;const a=(c=MB)==null||(_=c.user)==null?void 0:_.id,o=a?(f=MB)!=null&&(m=f.currentProject)!=null&&(b=m.accesses)!=null&&b[a]?"\u9879\u76EE\u4F01\u4E1A\u6210\u5458":"\u975E\u9879\u76EE\u4F01\u4E1A\u6210\u5458":"\u672A\u767B\u5F55"},h=n=>{},R=n=>{var c,_;const f=(c=MB)!=null&&(_=c.currentProject)!=null&&_.is_org_project?"\u4F01\u4E1A\u9879\u76EE":"\u4E2A\u4EBA\u9879\u76EE"},i=(n,c,_,f)=>{const b=isSketchLayer(c.id)?c.type:i18nWidgetName(c.name)||""},s=n=>{const c=(0,w.Q7)()},S=(n,c,_)=>{}},49345:(G,B,t)=>{"use strict";t.d(B,{G1:()=>j,Sr:()=>D,ms:()=>h});var y=t(25797);const D=R=>(0,y.Gf)("/api/payment/v4/coupon/workspace_guide_2203_coupon",{space_type:R}),w=()=>fetchGetJSON("/api/web/v3/initial"),j=R=>(0,y.Gf)("/api/web/v3/account/workspace_guide_days",{org_cid:R}),h=()=>(0,y.EE)("/api/dashboard/v4/orgs/list")},53233:(G,B,t)=>{"use strict";t.d(B,{BG:()=>r,IS:()=>Tt,KQ:()=>X,MT:()=>It,W:()=>Q,YN:()=>f,ZP:()=>Bt,kk:()=>jt,sE:()=>Et,tr:()=>At,zf:()=>v});var y=t(76333),D=t(27056),w=t(7221),j=t(73669),h=t(25797),R=t(44766),i=t(68557),s=t(35517),S=t(22686),n=t(43980),c=t(79486);const _=(N,H)=>{const te=new Error("[NO SENTRY] "+N);return Object.assign(te,H),te},f=N=>(0,h.EE)("/api/web/v3/workspace/design/initial?project_cid="+N),m=(N,H)=>fetchGetJSON("/api/web/v3/workspace/design/readonly_initial?access_token="+N+"&password="+H),b=async(N,H)=>{const te="/api/flat/web_v1/preview/initial?access_token="+N+"&view_mode="+H,pe=await fetch(te,{credentials:"same-origin"}),Me=await pe.json();if(pe.status!==200)throw _("[fetchGetHead] failed with "+pe.status+": "+te,{status:pe.status,error_type:Me==null?void 0:Me.error_type});return Me},a=()=>(0,h.EE)("/api/web/v3/guide/guide_data"),o=N=>(0,h._Z)("/api/web/v3/guide/workspace_guides",{guide:{workspace_guides:N}}),e=N=>(0,h._Z)("/api/web/v3/guide/workspace_guides_2203",{guide:{workspace_guides_2203:N}}),r=(N,H)=>(0,h.IP)("/api/web/v4/project_upper/project_basics/"+N,{...H}),l=(N,H)=>(0,h.IP)("/api/flat/web_v1/fcg/"+N,{...H}),v=async N=>{const{project_basic:H,project_metas:te}=await(0,h.EE)("/api/web/v4/project_upper/project_basics/"+N);return{projectBasic:H,projectMetaList:te}},P=async N=>{const{library_accesses:H}=await(0,h.EE)("/api/web/v3/orgs/"+N+"/library_accesses");return{libraryAccesses:H}},C=async N=>{const{members:H}=await(0,h.EE)("/api/dashboard/v5/orgs/"+N+"/members");return H},M=()=>(0,h.EE)("/api/web/v3/configuration/design_activity"),d=()=>(0,h.EE)("/api/web/v3/configuration/square_topic"),L=()=>(0,h.EE)("/api/web/v3/configuration/workspace"),K=async()=>{let N=[];try{const H=await(0,h.EE)("/api/web/v3/configuration/square_search_keywords");H!=null&&H.keywords&&(N=H==null?void 0:H.keywords.split(/[,ï¼Œ]/))}catch(H){await(0,s.Vz)(H)}return N},I=async()=>{let N=[];try{const H=await(0,h.EE)("/api/library/v4/recent_keywords");H!=null&&H.keywords&&(N=H==null?void 0:H.keywords)}catch(H){await(0,s.Vz)(H)}return N},g=()=>(0,h._E)("/api/library/v4/recent_keywords"),T=N=>(0,h.Mn)("/api/library/v4/recent_keywords",{keyword:N}),x=async()=>{let N=null;try{const H=await(0,h.EE)("/api/library/v4/workspace_labels");H!=null&&H.keywords&&(N=H==null?void 0:H.keywords)}catch(H){await(0,s.Vz)(H)}return N},X=async()=>{var N;let H;try{H=await(0,h.EE)("/api/web/v3/project_upper/user_combo_groups.json")}catch(te){return await(0,s.Vz)(te),{}}return{userComboGroupList:(N=H)==null?void 0:N.user_combo_groups}},oe=async N=>{let H;try{H=await(0,h.bX)("/api/library/v4/users/combo_groups/"+N.cid,{...N})}catch(te){return await(0,s.Vz)(te),{}}return H},ne=N=>(0,h.IP)("/screen_aligns/"+N.cid,{...N}),fe=N=>(0,h._E)("/api/web/v3/project_upper/user_combo_groups/"+N+".json"),Z=N=>oe(N),Q=async N=>{var H;let{orgCid:te}=N,pe;try{pe=await(0,h.EE)("/api/web/v3/project_upper/org_combo_groups?org_cid="+te)}catch(Me){return await(0,s.Vz)(Me),{}}return{orgComboGroupList:(H=pe)==null?void 0:H.org_combo_groups}},ae=async(N,H)=>{let te;try{te=await(0,h.bX)("/api/library/v4/orgs/combo_groups/"+N.cid+"?org_cid="+H,{...N})}catch(pe){return await(0,s.Vz)(pe),{}}return te},le=N=>(0,h._E)("/api/web/v3/project_upper/org_combo_groups/"+N),ge=async N=>{const{org_combo_group:H}=await(0,h.IP)("/api/web/v3/project_upper/org_combo_groups/"+N.cid,{...N});return{org_combo_group:H}},Ae=async(N,H,te)=>{let{upperCid:pe,projectMetaCid:Me}=H,{nextUpperCid:Oe,nextProjectMetaCid:Ye}=te;try{await(0,h.Gf)("/project-buffer/prototype/check-transfer/screen-glue?upperCid="+pe,{projectMetaCid:Me,screenGlueCidList:N,nextUpperCid:Oe,nextProjectMetaCid:Ye})}catch(ve){await(0,s.Vz)(ve)}},Te=async N=>{let{orgComboGroupCid:H}=N,te;try{te=await(0,h.EE)("/api/web/v3/project_upper/org_combo_groups/"+H+".json")}catch(Qe){return await(0,s.Vz)(Qe),{}}const{project_meta:pe,screen_glues:Me,screen_metas:Oe,screen_aligns:Ye}=te,ve=[pe],Je=await(0,R.L9)({projectMetaList:ve,screenMetaList:Oe});return{projectMeta:pe,screenGlueList:Me,screenMetaList:Oe,projectScreenObjectList:Je,screenAligns:Ye}},Re=async N=>{let{userComboGroupCid:H}=N,te;try{te=await(0,h.EE)("/api/web/v3/project_upper/user_combo_groups/"+H+".json")}catch(Qe){return await(0,s.Vz)(Qe),{}}const{project_meta:pe,screen_glues:Me,screen_metas:Oe,screen_aligns:Ye}=te,ve=[pe],Je=await(0,R.L9)({projectMetaList:ve,screenMetaList:Oe});return{projectMeta:pe,screenGlueList:Me,screenMetaList:Oe,projectScreenObjectList:Je,screenAligns:Ye}},ue=async N=>{let{userLocale:H,projectBasicCid:te}=N;try{return await(0,c.yS)({projectBasicCid:te})}catch(pe){MB.global.popupHelper.alertAsync({desc:I18N.dModule.project_load_failed,isHTML:!0,confirmText:I18N.dModule.confirm}).then(()=>{MB.global.onBackButtonClick()}),(0,n.uT)("\u9879\u76EE\u6253\u4E0D\u5F00"),console.error(pe)}},Be=async N=>{const{project_metas:H,screen_metas:te,screen_glues:pe,market_template:Me,icon_group:Oe}=await(0,w.Mv)(N),{category:Ye}=Me,ve=Ye===S.yr;if(Ye===S.Jc){const{title:Qe,source:it}=Oe,ot=await(0,h.EE)(it),ft=i.em[Qe]||"svg",{iconGroupData:Zt,iconData:$t}=(0,i._7)(ot,ft);return{marketTemplate:Me,iconGroupData:Zt,iconData:$t}}else{const Qe=[];if(ve){const it={};te.forEach(ot=>{it[ot.screen_glue_cid]=ot.cid});for(const ot of pe){const{cid:ft,name:Zt,project_meta_cid:$t}=ot;Qe.push({cid:ft,name:Zt,type:Me.category,projectBasicCid:Me.cid,projectMetaCid:$t,screenGlue:ot,screenMetaCid:it[ot.cid]||""})}}else{const it=pe.find(ot=>ot.type==="project-main");for(const ot of te){const{cid:ft,name:Zt,project_meta_cid:$t,screen_glue_cid:Cr}=ot;it.cid===Cr&&Qe.push({cid:ft,name:Zt,type:Me.category,projectBasicCid:Me.cid,projectMetaCid:$t,screenGlue:it,screenMetaCid:ft})}}return{marketTemplate:Me,marketTemplateItemList:Qe,projectMetaList:H,screenGlueList:pe,screenMetaList:te}}},xe=async()=>{const N=await(0,w.Wk)(S.yr),H=await(0,w.Wk)(S.Jc),te=await(0,w.Wk)(S.md),pe=N.concat(H).concat(te),Me=pe.filter(Je=>{let{category:Qe}=Je;return[S.yr,S.md].includes(Qe)}),Oe=pe.filter(Je=>{let{category:Qe}=Je;return Qe===S.Jc}),Ye=new Map,ve=new Map;for(const Je of pe){const{category:Qe,cid:it}=Je;Qe===S.Jc?ve.set(it,Je):Ye.set(it,Je)}return{marketTemplateList:Me,iconLibraryList:Oe,marketTemplateListMap:Ye,iconLibraryListMap:ve}},je=N=>{let{marketTemplateCid:H}=N;return(0,h._E)("/api/community/v1/market_template/use/"+H)},ze=async N=>{let{projectMetaList:H,screenGlueList:te,screenMetaList:pe}=N;const Me=await(0,R.L9)({projectMetaList:H,screenMetaList:pe});return{marketTemplateDataMap:Ve(H,te,pe,Me)}},Ue=()=>(0,h.EE)("/api/community/v1/icon_group/builtin_icon_group"),Ge=async N=>{const{icon_group:{title:H,source:te},market_template:pe}=await(0,w.Mv)(N.cid),Me=await(0,h.EE)(te),Oe=i.em[H]||"svg",{iconGroupData:Ye,iconData:ve}=(0,i._7)(Me,Oe);return{iconGroupData:Ye,iconData:ve,marketTemplate:pe}},Ve=(N,H,te,pe)=>{const Me={};for(const Oe of N)Me[Oe.cid]={projectMeta:Oe,screenGlueList:[],screenMetaList:[],projectScreenObjectList:[]};for(const Oe of H)Me[Oe.project_meta_cid].screenGlueList.push(Oe);for(const Oe of te)Me[Oe.project_meta_cid].screenMetaList.push(Oe);for(const Oe of Object.values(Me))if(Oe.screenMetaList.length)for(const Ye of Oe.screenMetaList){const ve=pe.find(Je=>Je.cid===Ye.cid);ve&&Oe.projectScreenObjectList.push(ve)}return Me},ht=()=>Date.now(),lt=(N,H,te,pe)=>(0,h.kt)("/node-history-statistics/new_history",{action:N,project_cid:H,team_cid:te,org_cid:pe,time:ht()}),Yt=N=>{let{projectCid:H,teamCid:te,orgCid:pe}=N;lt(0,H,te,pe)};let Dt=null;const sr=N=>{let{projectCid:H,teamCid:te,orgCid:pe}=N;Dt&&ht()-Dt<60*5*1e3||(Dt=ht(),lt(1,H,te,pe))},ir=async()=>{try{const{asset_groups:N}=await(0,h.sE)("/api/web/v3/asset_data/me/asset_groups");return{userAssetGroupList:N}}catch(N){await(0,s.Vz)(N)}},ar=async N=>{let{orgCid:H}=N;try{const{asset_groups:te}=await(0,h.sE)("/api/web/v3/asset_data/org/asset_groups?org_cid="+H);return{orgAssetGroupList:te}}catch(te){await(0,s.Vz)(te)}},vt=async N=>{try{const{asset:H,user_asset:te}=await(0,h.NS)("/api/web/v3/asset_data/me/search_by_url",{image_url:N});return{asset:H,user_asset:te}}catch(H){await(0,s.Vz)(H)}},cr=async(N,H)=>{try{const{asset:te,org_asset:pe}=await(0,h.NS)("/api/web/v3/asset_data/org/search_by_url",{image_url:N,org_cid:H});return{asset:te,org_asset:pe}}catch(te){await(0,s.Vz)(te)}},nt=async N=>{try{const{user_asset_group:H}=await(0,h.bX)("/api/library/v4/users/asset_groups/"+N.cid,{...N});return{user_asset_group:H}}catch(H){await(0,s.Vz)(H)}},lr=async N=>{try{const{org_asset_group:H}=await(0,h.bX)("/api/library/v4/orgs/asset_groups/"+N.cid,{...N});return{org_asset_group:H}}catch(H){await(0,s.Vz)(H)}},pr=async N=>{try{return await(0,h.bX)("/users/assets/"+N.asset_cid,{...N})}catch(H){await(0,s.Vz)(H)}},bt=async N=>{try{return await(0,h.bX)("/orgs/assets/"+N.cid+"?org_cid="+N.org_cid,{...N})}catch(H){await(0,s.Vz)(H)}},St=async N=>{let{cid:H,name:te,groupCid:pe}=N;try{await(0,h.NS)("/users/assets",{cid:H,name:te,group_cid:pe})}catch(Me){await(0,s.Vz)(Me)}},Jt=async N=>{let{orgCid:H,cid:te,name:pe,groupCid:Me}=N;try{const Oe=await(0,h.NS)("/orgs/assets",{cid:te,org_cid:H,name:pe,group_cid:Me});return Oe==null?void 0:Oe.cid}catch(Oe){await(0,s.Vz)(Oe)}},ur=async N=>{let{user_asset_group_cid:H,org_cid:te,org_asset_group_cid:pe}=N;try{return(0,h.NS)("/api/web/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid:H,org_cid:te,org_asset_group_cid:pe})}catch(Me){await(0,s.Vz)(Me)}},Qt=async N=>{let{orgCid:H="me",keyword:te,type:pe="all"}=N;const{assets:Me,combos:Oe,asset_groups:Ye,combo_groups:ve,related_asset_groups:Je,related_combo_groups:Qe}=await(0,h.EE)("/api/web/v3/asset_data/search?org_cid="+H+"&keyword="+te+"&type="+pe);return{assets:Me.map(it=>({cid:it.asset_cid,...it})),combos:Oe,assetGroups:Ye,comboGroups:ve,relatedAssetGroups:Je,relatedComboGroups:Qe}},ut=async N=>{try{const{user_asset_group:H,user_assets:te}=await(0,h.sE)("/users/asset_groups/"+N);return{user_asset_group:H,userAssets:te}}catch(H){await(0,s.Vz)(H)}},dr=async N=>{try{const{org_asset_group:H,org_assets:te}=await(0,h.sE)("/orgs/asset_groups/"+N);return{org_asset_group:H,orgAssets:te}}catch(H){await(0,s.Vz)(H)}},qt=async N=>{await(0,h._E)("/users/assets/"+N)},zt=async N=>{await(0,h._E)("/orgs/assets/"+N.cid+"?org_cid="+N.org_cid)},Vt=async N=>{await(0,h._E)("/users/asset_groups/"+N)},hr=async N=>{await(0,h._E)("/orgs/asset_groups/"+N)},fr=N=>(0,h.EE)("/update_web_version?next_web_version="+N),er=N=>(0,h._Z)("/preferences/update",{...N}),Ft=(N,H)=>(0,h.bX)("/api/library/v4/users/combo_groups/"+N,{...H}),tr=N=>(H,te)=>{const pe={...te,org_cid:N};return(0,h.bX)("/api/library/v4/orgs/combo_groups/"+H,{...pe})},_r=async(N,H)=>{try{return await(0,h.bX)("/api/library/v4/users/asset_groups/"+N,{...H})}catch(te){await(0,s.Vz)(te)}},F=N=>async(H,te)=>{try{const pe={...te,org_cid:N};return await(0,h.bX)("/api/library/v4/orgs/asset_groups/"+H,{...pe})}catch(pe){await(0,s.Vz)(pe)}},ke=async(N,H)=>{let te=null;try{const pe=await(0,h.sE)("/api/community/v1/workspace?category="+N+"&plabel="+H);pe!=null&&pe.market_templates&&(te=pe==null?void 0:pe.market_templates)}catch(pe){await(0,s.Vz)(pe)}return te},Xe=async N=>{let H=null;try{const te=await(0,h.EE)("/flpak/w-p2wsearch?"+N);te!=null&&te.data&&(H=te)}catch(te){await(0,s.Vz)(te)}return H},dt=async N=>{let H=null;try{const te=await(0,h.EE)("/flpak/w-p2meta/"+N);te!=null&&te.length&&(H=te)}catch(te){await(0,s.Vz)(te)}return H},Et=async N=>{let{currentComboPanel:H,projectMetaCid:te}=N;try{await(0,h.Gf)("/flpak/w-migrate-"+H+"-combo-group/"+te+"?mode=normal")}catch(pe){await(0,s.Vz)(pe)}},At=async N=>{let{projectBasicCid:H}=N;try{const{userId:te,flatKey:pe}=await(0,h.EE)("/api/flat/web_v1/proj2-edit-info?prj2Cid="+H);return{userId:te,flatKey:pe}}catch(te){await(0,s.Vz)(te)}},It=async N=>{let{projectBasicCid:H,accessToken:te,password:pe}=N;try{const{userId:Me,flatKey:Oe}=await(0,h.EE)("/api/flat/web_v1/proj2-preview-info?prj2Cid="+H+"&access_token="+te+"&password="+pe);return{userId:Me,flatKey:Oe}}catch(Me){await(0,s.Vz)(Me)}},Tt=N=>(0,h.EE)("/api/dashboard/v5/orgs/"+N),jt=async N=>{const{project:H}=await(0,h.EE)("/api/dashboard/v5/projects/"+N);return H},Bt={requestProjectFullData:ue,requestUserComboGroupList:X,requestOrgComboGroupList:Q,requestCreateUserComboGroup:oe,requestCreateOrgComboGroup:ae,requestDeleteUserComboGroup:fe,requestUpdateUserComboGroup:Z,requestDeleteOrgComboGroup:le,requestUpdateOrgComboGroup:ge,requestProjectTransferScreenGlue:Ae,requestUserComboGroupDataFromCid:Re,requestOrgComboGroupDataFromCid:Te,requestSketchArtboardList:y.cH,requestSketchArtboardById:y.LD,requestSliceByArtboardId:y.s,requestSliceZipByArtboardId:y.LT,requestUserCommonGuidesData:a,updateUserCommonGuidesData:o,updateUser2203GuidesData:e,checkSharingPermission:y.b9,fetchProjectComment:y.Jk,fetchProjectScreenCommentThreadCountMap:y.bN,requestMarketTemplateDataForLibrary:xe,requestMarketTemplateDataFromCid:Be,requestMarketTemplateItemListDataForLibrary:ze,requestMarketTemplateItemUnused:je,fetchCreateCommentThread:y.Q6,fetchCreateComment:y.C6,fetchDeleteCommentThread:y.bz,fetchDeleteComment:y.sv,updateProjectBasicsInfo:r,updateComboProjectBasicsInfo:l,getProjectAllVersions:D.Bl,postCreateNewVersion:D.nG,putUpdateVersionInfo:D.dp,postCheckoutVersion:D.UJ,getProjectOnlineCollaborators:D.go,deleteVersion:D.h_,requestProjectShare:j.o7,updateCurrentProjectShare:j.Of,getAllSharings:j.UC,trackViewProject:Yt,trackEditProject:sr,requestUserAssetGroupList:ir,requestOrgAssetGroupList:ar,requestMeAssetDataBySearchUrl:vt,requestOrgAssetDataBySearchUrl:cr,requestUpdateUserAssetGroup:nt,requestUpdateOrgAssetGroup:lr,requestUpdateUserAsset:pr,requestUpdateOrgAsset:bt,requestDeleteUserAsset:qt,requestDeleteOrgAsset:zt,requestDeleteUserAssetGroup:Vt,requestDeleteOrgAssetGroup:hr,requestCreateOrgAsset:Jt,requestCreateUserAsset:St,requestUserAssetGroupToOrgAssetGroup:ur,requestLibrarySearchData:Qt,requestOrgMembers:C,requestAllLibraryAccess:P,requestDesignInitialData:f,requestBuiltinIconGroup:Ue,collectProjectMetaDataMap:Ve,requestConfigurationData:M,requestConfigurationSquareTopicData:d,requestWorkspaceConfiguration:L,requestConfigurationHotKeyWords:K,requestRecentKeywords:I,requestDeleteRecentKeywords:g,requestAddRecentKeywords:T,requestConfigurationWorkspaceLabels:x,requestUpdateRecentImportResources:w.Im,requestUserAssetsDataFromCid:ut,requestOrgAssetsDataFromCid:dr,requestUserStarredList:w.Wk,requestUserUsedResources:w.jj,requestStarredResources:w.kU,requestUnStarredResources:w.ZW,requestResourcesDetailData:w.Mv,requestRecentResourcesList:w.pS,requestHotIcons:w.w3,requestResourceHisotry:w.D4,requestResourcesListForSource:w.AY,requestIconGroupIconDataForCid:Ge,requestResourcesListByCategory:w._l,requestUpdateScreenAlign:ne,requestUpdateWebVersion:fr,requestUpdatePreference:er,requestSortUserAssetGroup:_r,requestSortOrgAssetGroup:F,requestSortUserComboGroup:Ft,requestSortOrgComboGroup:tr,requestFindMarketTemplates:ke,requestSearchResourcesData:Xe,requestResourcesDetails:dt}},76333:(G,B,t)=>{"use strict";t.d(B,{C6:()=>P,Jk:()=>r,LD:()=>b,LT:()=>o,Q6:()=>v,b9:()=>e,bN:()=>l,bz:()=>C,cH:()=>m,s:()=>a,sv:()=>M});var y=t(44766),D=t(25797),w=t(73669),j=t(46295);const h=g=>{let{isVersions:T}=g;return{requestPreviewSetting:n,requestPreviewInitialData:s,requestPreviewEmbedInitial:_,requestProjectFullDataByAccessToken:f,requestSketchArtboardList:m,requestSketchArtboardById:b,requestSliceByArtboardId:a,requestSliceZipByArtboardId:o,checkSharingPermission:e,fetchProjectComment:r,fetchProjectScreenCommentThreadCountMap:l,requestProjectShare:T?requestProjectShareVersion:requestProjectSharePreview,requestUserCommonGuidesData:R,updateUserCommonGuidesData:i,fetchCreateCommentThread:v,fetchCreateComment:P,fetchDeleteCommentThread:C,fetchDeleteComment:M,updateProjectBasicsInfo:d,updateComboProjectBasicsInfo:L,requestPreviewInitialData4ReadOnlyV2:S}},R=()=>fetchGetJSON("/api/web/v3/guide/guide_data"),i=g=>fetchPutHead("/api/web/v3/guide/workspace_guides",{guide:{workspace_guides:g}}),s=async g=>{let{projectAccessToken:T,projectEncryptedPassword:x}=g;const X=x?"&password="+x:"";return(0,D.EE)("/api/web/v3/workspace/design/readonly_initial?access_token="+T+X)},S=async g=>{let{projectAccessToken:T,view_mode:x}=g;return fetchGetJSON("/api/flat/web_v1/preview/initial?access_token="+T+"&view_mode="+x)},n=g=>{let{projectAccessToken:T,password:x}=g;return(0,D.EE)("/api/web/v3/workspace/preview/setting?access_token="+T+"&password="+(x||""))},c=g=>{let{projectAccessToken:T,password:x}=g;return(0,D.EE)("/api/flat/web_v1/preview/setting?access_token="+T+"&password="+(x||""))},_=g=>{let{projectAccessToken:T}=g;return(0,D.EE)("/api/web/v3/workspace/preview/embed_initial?access_token="+T)},f=async g=>{let{projectAccessToken:T,projectEncryptedPassword:x,userLocale:X,projectVersion:oe}=g;const ne=await(0,y.lA)({projectBasicAccessToken:T,projectBasicEncryptedPassword:x,userLocale:X,projectVersion:oe});if(!ne)return;const{projectMetaList:[fe],screenGlueList:Z,screenMetaList:Q,projectScreenObjectList:ae,projectBasic:le,screenAlignList:ge}=ne;return{projectMeta:fe,screenGlueList:Z,screenMetaList:Q,projectScreenObjectList:ae,projectBasic:le,screenAlignList:ge}},m=g=>(0,D.EE)("/api/web/v3/project_data/artboards?project_cid="+g),b=g=>(0,D.EE)("/api/web/v3/project_data/artboards/layers?artboard_id="+g),a=g=>(0,D.EE)("/api/web/v3/project_data/artboards/slices_json?artboard_id="+g),o=g=>{let{artboardId:T,encryptedPassword:x}=g;return(0,D.EE)("/api/web/v3/project_data/artboards/slices_zip?artboard_id="+T+"&encrypted_password="+x)},e=async g=>{try{const{result:T}=await(0,D.EE)("/api/accesses/v4/project/"+g+"/permission_check?permission=P:update");return T}catch(T){return!1}},r=g=>{let{projectCid:T,projectEncryptedPassword:x,accessToken:X}=g;return(0,D.EE)("/api/prototype/point_comments/v3/comments?project_cid="+T+"&password="+(x||"")+"&access_token="+X)},l=g=>{let{projectAccessToken:T,projectEncryptedPassword:x}=g;return(0,D.EE)("/api/web/v3/workspace/preview/"+T+"/screen_comments_thread_count_map?encrypted_password="+(x||""))},v=g=>(0,D._Z)("/api/prototype/point_comments/v3/commentthreads/"+g.cid+".json",{...g}),P=g=>(0,D._Z)("/api/prototype/point_comments/v3/comments/"+g.cid+".json",{...g}),C=g=>(0,D.Bh)("/api/prototype/point_comments/v3/commentthreads/"+g+".json"),M=g=>(0,D.Bh)("/api/prototype/point_comments/v3/comments/"+g+".json"),d=(g,T)=>fetchPutJSON("/api/web/v3/project_upper/project_basics/"+g,{...T}),L=(g,T)=>fetchPutJSON("/api/flat/web_v1/fcg/"+g,{...T}),K=(g,T)=>fetchGetJSON("/api/web/v3/project_upper/project_basics/auth/"+g+"?password="+T);var I={requestPreviewSetting:n,requestPreviewSettingV2:c,requestPreviewInitialData:s,requestProjectFullDataByAccessToken:f,requestSketchArtboardList:m,requestSketchArtboardById:b,requestSliceByArtboardId:a,requestSliceZipByArtboardId:o,checkSharingPermission:e,requestPreviewEmbedInitial:_,fetchProjectComment:r,fetchProjectScreenCommentThreadCountMap:l,requestProjectShare:w.o7,fetchCreateCommentThread:v,fetchCreateComment:P,fetchDeleteCommentThread:C,fetchDeleteComment:M}},46295:(G,B,t)=>{"use strict";const y={access_token:"",comment_permission:"",device_model:"",highlight:!0,password:"",project_cid:"",screen_visible_switch:!1,screen_visible_list:[],shell_type:"device",simulator_type:"device",sticky:!0,view_access:"private",view_count:0,view_prd:!1,wechat:!1},D=async()=>({projectShareMock:y})},9795:(G,B,t)=>{"use strict";t.d(B,{F:()=>S,f:()=>n});var y=t(67041),D=t(18030),w=t(2568),j=t(76188),h=t(57237),R=t(99284),i=t(47416);const s=[{key:"md",data:w},{key:"mb",data:j},{key:"ci",data:h},{key:"fa5",data:D},{key:"antFill",data:R},{key:"antOutline",data:i}],S={};s.forEach(c=>{let{key:_,data:f}=c;return f.forEach(m=>{m.type=_,_==="fa5"?S[_+"-"+m.id+"-"+m.lib]=m:S[_+"-"+m.id]=m})});const n={};y.forEach(c=>{c.type="fa",n["fa-"+c.id]=c})},68557:(G,B,t)=>{"use strict";t.d(B,{G5:()=>R,_7:()=>w,em:()=>j,lo:()=>h});var y=t(37506);const D=i=>{const[s,S,n,c,_,f,m,b]=i;return{id:s,cat:S,view_box:n,path:c,keywords:_,lib:f,fill:m,stroke:b}},w=(i,s)=>{const S={},n={},c=[];S.All=c;for(const _ of i){const f=D(_);f.cid=(0,y._G)(),f.icongroup=!0,f.type=s,c.push(f);const{cat:m}=f;if(n[f.cid]=f,m)for(const b of m.split(","))(S[b]||(S[b]=[])).push(f)}return{iconGroupData:S,iconData:n}},j={"Font Awesome":"fa","Font Awesome 5":"fa5","Material Design":"md",MockingBot:"mb",Mockitt:"mb","Custom Icons":"ci","Ant Icon OutLine":"antOutline","Ant Icon Fill":"antFill",Zenticons:"ze","Hawcons Stroke":"haStroke","Hawcons Fill":"haFill","RemixIcon Line":"riLine","RemixIcon Fill":"riFill","Icon Font":"if","Strawberry Line":"stLine",Strawberry:"st",Icofont:"if",iconfont:"if",IconPark:"iconPark","Semi Design":"semiDesign","Arco Design":"arcoDesign"},h={fa:"Font Awesome",md:"Material Design",mb:"Mockitt",ci:"Custom Icons",fa5:"Font Awesome 5",antOutline:"Ant Icon OutLine",antFill:"Ant Icon Fill",ze:"Zenticons",haStroke:"Hawcons Stroke",haFill:"Hawcons Fill",riLine:"RemixIcon Line",riFill:"RemixIcon Fill",if:"Icon Font",stLine:"Strawberry Line",st:"Strawberry",iconPark:"IconPark",semiDesign:"Semi Design\u56FE\u6807\u5E93",arcoDesign:"Arco Design"},R=["Icon Font","Icofont","iconfont"]},32380:(G,B,t)=>{"use strict";t.d(B,{H:()=>h,m:()=>j});var y=t(25797),D=t(69930),w=t(65155);const j=function(R){var i;R===void 0&&(R="");const{isExperience:s,isLoggedExperience:S}=(i=MB.global)==null?void 0:i.designOptions;if(R==="isSave"){if(s)return MB.global.popupHelper.loginAsync({onConfirm:h}),!0;if(S){const n=MB.getRootProject&&MB.getRootProject();return MB.global.popupHelper.teamSelectModalAsync({projectCid:n==null?void 0:n.cid,onConfirm:c=>D.R.api.experienceTriggerAllSaveAfterLogin(c)}),!0}else return!1}else return s?(MB.global.popupHelper.loginAsync({onConfirm:h}),!0):!1},h=async()=>{if((0,w._$)()){window.top.location.reload();return}const{user:R}=await(0,y.EE)("/api/web/v3/initial");(0,y._Z)("/api/web/v3/guide/complete_workspace_guide"),MB.user=R,Object.assign(MB.global.designOptions,{isExperience:!1,isLoggedExperience:!0}),MB.action("update:design:options",{designOptions:{...MB.global.designOptions}}),MB.action("current:update:state",{currentUser:R});const i=MB.getRootProject&&MB.getRootProject();MB.global.popupHelper.teamSelectModalAsync({projectCid:i==null?void 0:i.cid,onConfirm:s=>D.R.api.experienceTriggerAllSaveAfterLogin(s)})}},95534:(G,B,t)=>{"use strict";t.d(B,{Z:()=>S});var y=t(20018),D=t(7485),w=t(7627),j=t.n(w),h=t(14974),R=t(71464),i=t(27004),s=t(35269);class S extends D.PureComponent{constructor(){super(...arguments),(0,y.Z)(this,"setComponentRef",c=>this.modal=c),(0,y.Z)(this,"getEntry",()=>{const c=new URLSearchParams(location.search),_=c&&c.get("view_mode");return _?R.I[_]:""})}componentDidMount(){const{dispatch:c,onConfirm:_}=this.props,f=this;window.onmessage=async function(m){m.data==="loginSuccess"?(typeof c=="function"&&c({type:"modal:update:state",payload:{loginModal:{isOpen:!1}}}),_()):m.data==="close"&&f.modal.close()},i.x.userSourceTrack(this.getEntry())}render(){const{isOpen:c,onClose:_,type:f,source:m}=this.props,b=this.getEntry(),a=b?"&entry="+b:"",o=location.origin+"/embed/auth_box?type="+f+(m?"&source="+m:"")+a;return(0,s.jsx)(h.B,{isOpen:c,onClose:_,ref:this.setComponentRef,className:"login-modal",children:(0,s.jsx)("iframe",{src:o})})}}(0,y.Z)(S,"propTypes",{source:j().string,isOpen:j().bool,type:j().string,dispatch:j().func,onConfirm:j().func,onClose:j().func}),(0,y.Z)(S,"defaultProps",{type:"signin"})},59217:(G,B,t)=>{"use strict";t.d(B,{t:()=>R});var y=t(70103),D=t(24978),w=t(79212),j=t(57313),h=t(24455);const R=i=>{const s=(0,D.gk)(),S=(0,y.MT)(w.Z,(0,y.md)(s.middleware));return s.setEntryMap(j.T),i.getSelectedTrees=()=>(0,h.nAE)(S.getState()),i.__store__=S,i.action=(n,c)=>S.dispatch({type:n,payload:c}),i.getScale=()=>(0,h.yZr)(S.getState()),i.getNextWidgetZ=()=>(0,h.YTF)(S.getState()),i.getCurrentProjectMeta=()=>(0,h.e4v)(S.getState()),i.getCurrentScreen=()=>(0,h.CL6)(S.getState()),i.getCurrentDesignOptions=()=>(0,h.DTi)(S.getState()),i.getRootProject=()=>(0,h.OnT)(S.getState()),i.getScreenDataMap=()=>(0,h.giy)(S.getState()),i.getSelectionItems=()=>(0,h.dAH)(S.getState()),i.getRootItems=()=>(0,h.ZVZ)(S.getState()),i.renderLinks=()=>{S.dispatch({type:"entry:refresh:link-list"})},i.renderScreenList=()=>{S.dispatch({type:"entry:update:screen:list"})},i.workspaceAlertAsync=n=>{let{title:c,desc:_,confirmText:f,renderDesc:m}=n;return new Promise(b=>{S.dispatch({type:"modal:update:confirm:state",payload:{isOpen:!0,canCancel:!1,title:c,desc:_,confirmText:f,renderDesc:m,onCancel:()=>b(!1),onConfirm:()=>b(!0)}})})},i.workspaceConfirmAsync=n=>{let{title:c,desc:_,className:f,confirmText:m,cancelText:b,renderDesc:a}=n;return new Promise(o=>{S.dispatch({type:"modal:update:confirm:state",payload:{isOpen:!0,className:f,title:c,desc:_,confirmText:m,cancelText:b,renderDesc:a,onCancel:()=>o(!1),onConfirm:()=>o(!0)}})})},i.DesignLibraryConfirmAsync=n=>{let{title:c,desc:_,className:f,confirmText:m,cancelText:b,onModalConfirm:a,renderDesc:o}=n;return new Promise(e=>{S.dispatch({type:"modal:update:confirm:state",payload:{isOpen:!0,className:f,title:c,desc:_,confirmText:m,cancelText:b,renderDesc:o,onCancel:()=>e(!1),onConfirm:()=>{e(!0),a()}}})})},S}},47662:(G,B,t)=>{"use strict";t.d(B,{J:()=>w});var y=t(20209),D=t(40769);const w=j=>{(0,y.zO)({defaultStyle:D.P,getStyleStr:{fontFamily:/modao.cc/.test(j)?h=>h+", sans-serif":h=>h}})}},23555:(G,B,t)=>{"use strict";t.d(B,{Z:()=>j});var y=t(89870),D=t(77200),w=t(98589);const j=(0,y.$j)(h=>{const R=(0,D.kc)(h),i=(0,D.GP)(h),{isWonderShare:s,isOnPremises:S}=(0,D.CD)(h),n=(0,D.Ds)(h);return{user:(0,D.ts)(h),mode:n,previewOptions:i,previewSetting:R,isWonderShare:s,isOnPremises:S,isHiddenToolBar:(0,D.qe)(h)}})(w.Z)},77200:(G,B,t)=>{"use strict";t.d(B,{Bi:()=>Ge,CD:()=>b,CL:()=>Q,Ci:()=>Ve,Ds:()=>je,EB:()=>Ae,EK:()=>oe,EZ:()=>ze,Eg:()=>ut,Ei:()=>lt,GP:()=>m,H9:()=>hr,HR:()=>ue,IR:()=>xe,Kv:()=>Qt,M0:()=>v,M2:()=>l,N2:()=>ge,N7:()=>X,NK:()=>Ue,Nu:()=>cr,Ny:()=>lr,Rp:()=>x,S7:()=>le,T4:()=>sr,Uq:()=>nt,V2:()=>vt,W9:()=>r,WM:()=>fe,Wf:()=>tr,XL:()=>ar,_L:()=>e,cM:()=>T,d9:()=>Yt,e4:()=>I,fq:()=>ur,gh:()=>C,gi:()=>Jt,gz:()=>bt,it:()=>er,jQ:()=>Dt,jX:()=>fr,kc:()=>f,ki:()=>Be,ku:()=>g,nB:()=>ir,nS:()=>M,nV:()=>Te,os:()=>Vt,pt:()=>a,px:()=>dr,qe:()=>d,rJ:()=>o,tF:()=>_,ts:()=>n,uX:()=>ht,v8:()=>Z,vo:()=>K,wp:()=>Re,yT:()=>ae,yZ:()=>zt,z7:()=>c});var y=t(77646),D=t(31033),w=t(18166),j=t(29661),h=t(54635),R=t(41768),i=t(11685),s=t(63697),S=t(38133);const n=F=>F.model.user,c=F=>F.container.common.scale,_=F=>F.container.common.screenCommentThreadCountMap,f=F=>F.container.previewSetting,m=F=>F.container.common.previewOptions,b=F=>F.container.common.designOptions,a=F=>F.container.common.guideOptions,o=F=>F.container.common.experienceSnapshotUrlMap,e=F=>F.container.common.offset,r=F=>F.container.common.keyFlags.isSpaceDown,l=F=>F.container.common.keyFlags.isShiftDown,v=F=>F.container.common.leftPaneWidth,P=F=>F.container.common.previewOptions.isVersionEmbedded,C=F=>F.container.common.preference.theme,M=F=>F.container.common.panelHeight,d=F=>F.container.common.isHiddenToolBar,L=F=>F.model.screens,K=F=>F.container.current.rootProject,I=F=>F.container.current.projectMeta,g=F=>F.container.current.screenGlue,T=F=>F.container.current.projectShare,x=F=>F.container.current.previewCommonGuidesHasShown,X=F=>F.container.current.previewCommonGuidesToBeShown,oe=F=>F.container.current.screenMetaList,ne=F=>F.container.current.refreshCount,fe=F=>F.container.current.STRenderArea,Z=F=>!0,Q=F=>F.container.current.screenMeta,ae=F=>F.container.current.isPanelPreviewMode,le=F=>F.container.current.isCommunityComboPreview,ge=F=>F.container.current.panelPreviewBasketKey,Ae=F=>F.container.current.isPreviewCombo,Te=F=>F.container.current.folderStore,Re=F=>F.container.current.folderTreeData,ue=F=>F.container.previewSetting.simulatorType,Be=F=>F.container.previewSetting.isShowShell,xe=F=>F.container.previewSetting.isDummyApk,je=F=>F.container.previewSetting.toolbarActiveItem,ze=F=>F.container.previewSetting.isStickyShow,Ue=F=>F.container.previewSetting.isStickyAvailable,Ge=F=>F.container.previewSetting.isHighlight,Ve=F=>F.container.previewSetting.isShowOfflineModal,ht=F=>F.container.previewSetting.isAppOffline,lt=F=>F.container.previewSetting.isAppCacheNeedUpToDate,Yt=F=>F.container.previewSetting.isStatePanelShow,Dt=F=>F.container.previewSetting.isMinimized,sr=F=>F.container.sharingManager.isShowSharingManager,ir=(0,y.P1)([je],F=>({isPreview:F==="preview",isInspect:F==="inspect",isComment:F==="comment"})),ar=F=>F.container.previewSetting.isFullScreenMode,vt=F=>F.container.previewSetting.isShowColorPicker,cr=F=>F.container.previewSetting.theme,nt=F=>F.container.runner,lr=F=>F.container.runner.activeCid,pr=(0,y.P1)([nt],F=>{var ke;const{activeCid:Xe,screenInfoMap:dt}=F;return(ke=dt[Xe])==null?void 0:ke.canvasId}),bt=(0,y.P1)([je],F=>F===D.nh||F===D.Ab),St=(0,y.P1)([je,ue],(F,ke)=>[D.nh,D.Ab].includes(F)||ke!=="device"),Jt=(0,y.P1)([L],F=>{const ke={};return F.forEach(Xe=>ke[Xe.cid]=Xe),ke}),ur=F=>F.container.current.screenTreeData,Qt=(0,y.P1)([L,I,g,T],(F,ke,Xe,dt)=>{if((0,S.ax)()){const{screen_visible_list:At,screen_visible_switch:It}=dt;if(It){const{screenTreeData:Tt}=(0,j.$)(At);return Tt}}const{screenTreeData:Et}=(0,j.pb)();return Et}),ut=(0,y.P1)([Qt],F=>(0,w.qv)(F).filter(ke=>ke.bunch===i.l.RbPage)),dr=(0,y.P1)([ut],F=>F.filter(ke=>!(0,w.Vx)(ke))),qt=F=>F.container.common.viewport,zt=F=>F.container.common.scale,Vt=F=>F.container.common.offset,hr=F=>F.container.common.currentScreenOriginOffset,fr=F=>F.container.common.hasChangedScaleManually,er=(0,y.P1)([nt,qt,zt,g,Re],(F,ke,Xe,dt,Et)=>{let At=[Et,...Et.children];const{width:It,height:Tt}={};let jt=1/0,Bt=1/0,N=-1/0,H=-1/0;const{x:te,y:pe,w:Me,h:Oe}=(0,s.Ud)(At);jt=te,N=te+Me,Bt=pe,H=pe+Oe,jt=Math.min(jt*Xe/100,-ke.width*3/2),N=Math.max(N*Xe/100,ke.width*3/2),Bt=Math.min(Bt*Xe/100,-ke.height*3/2),H=Math.max(H*Xe/100,ke.height*3/2);const Ye=dt.height>Tt?dt.height:Tt,ve=dt.width>It?dt.width:It;let Je=Math.max(-jt,N,0),Qe=Math.max(-Bt,H,0);const it=ke.height*100/Ye,ot=ke.width*100/ve;return Xe>ot&&(Je+=(Xe-ot)*5),Xe>it&&(Qe+=(Xe-it)*10),Ft(Je*2,Qe*2)}),Ft=(0,h.LL)((F,ke)=>({x:F,y:ke})),tr=(0,y.P1)([C,K],(F,ke)=>ke.attr instanceof Object&&ke.attr.bgcolor||R.I3[F]),_r=(0,y.P1)([Q,qt,zt,Vt,g],(F,ke,Xe,dt,Et)=>{if(!ke)return{canvasTop:0,canvasLeft:0};const[At,It]=[F.width,F.orientation==="portrait"?Et.height:Et.width],Tt=Math.round(dt.x),jt=Math.round(dt.y);return{canvasTop:ke.top+Math.floor((ke.height-It*Xe/100)/2)+jt,canvasLeft:Math.floor((window.innerWidth-At*Xe/100)/2)+Tt}})},46807:(G,B,t)=>{"use strict";t.d(B,{Z:()=>j});var y=t(89870),D=t(77200),w=t(56719);const j=(0,y.$j)(h=>{const R=(0,D.kc)(h),i=(0,D.GP)(h),s=(0,D.S7)(h),S=(0,D.EB)(h);return{previewOptions:i,previewSetting:R,isCommunityComboPreview:s,isPreviewCombo:S}})(w.Z)},6301:(G,B,t)=>{"use strict";var y=t(46198),D=t(71789),w=t(77276),j=t(7485),h=t(39110),R=t(21202);const i={"sk-bouncedelay":"ZBrU7Yes6CevGkk6hArA"};window.$=window.jQuery=t(8435),t(39488),t(64615),t(63371),t(51575),t(11460);var s=t(14730),S=t(46807),n=t(20018),c=t(14049),_=t(16335),f=t(59780),m=t(89870),b=t(26750),a=t(34788),o=t.n(a),e=t(88662),r=t(60747),l=t(33258),v=t(41768),P=t(7627),C=t.n(P);const M={shell:"PM26Ljznui8RJWuxUXab"};var d=t(35269);class L extends j.PureComponent{render(){const{isHTMLZip:k,project:U,shellType:W,isLandscape:Y}=this.props,J=K(W,U,Y,k),ee=W==="device"&&J===null?"none":W;return(0,d.jsx)("div",{className:M.shell+" "+ee,style:J})}}L.propTypes={isHTMLZip:C().bool,project:C().object,shellType:C().string,isLandscape:C().bool};function K(V,k,U,W){switch(V){case"device":{const Y=(0,r.Zl)(k,V);if(!Y.bg)return null;const J=U?Y.bg+"_land":Y.bg,[ee,he,me,de]=U?[-Y.left,-Y.top,Y.height,Y.width]:[-Y.top,-Y.left,Y.width,Y.height];return{top:ee,left:he,width:me,height:de,backgroundImage:"url("+((0,D.Qs)()?".":"")+"/mb-proto2/images/devices/"+J+".png)"}}case"default":return null;case"none":return null}}var I=t(77200),g=t(21563),T=t(45090);const x=T.default.div.withConfig({displayName:"style__StyledAppSplash",componentId:"sc-11mlfir-0"})(["position:absolute;width:100%;height:100%;background:#f5f5f5;overflow:hidden;margin-bottom:500px;top:0;z-index:2;img{position:absolute;width:100%;height:100%;}.loading{display:flex;align-items:center;justify-content:center;position:absolute;top:50%;width:100%;height:30px;.splash-loading{width:30px;height:30px;}}&.landscape{img{transform:rotate(90deg);transform-origin:bottom left;}}"]);class X extends j.PureComponent{render(){const{homeScreen:k,url:U,isPanelPreviewMode:W}=this.props,Y=0,J=0;let ee;return k.width!==Y?ee={top:0-Y,width:J,height:Y}:ee={top:0,width:Y,height:"101%"},(0,d.jsxs)(x,{className:o()("splash",k.orientation),style:{backgroundColor:k.bgcolor},children:[U&&!W&&(0,d.jsx)("img",{src:U,style:ee}),(0,d.jsx)("div",{className:"loading",children:(0,d.jsx)(g.Z,{className:"splash-loading"})})]})}}var oe=t(77646),ne=t(55639),fe=t.n(ne),Z=t(4145),Q=t(99470),ae=t(18166),le=t(70956),ge=t(16043),Ae=t(25631),Te=t(30733);const Re="local_embed_toast_show";function ue(){const V=(0,Te.RD)(Re,null,Te.cM.Boolean),k=()=>{(0,Te.iO)(Re,!0,Te.cM.Boolean),W(!0)},[U,W]=(0,j.useState)(V);return(0,d.jsx)(d.Fragment,{children:!U&&(0,d.jsxs)(Be,{isOpen:!0,children:[(0,d.jsx)("div",{className:"placeholder"}),(0,d.jsxs)("div",{className:"content",children:[(0,d.jsx)("img",{src:"/mb-workspace/images/preview/loading.gif",alt:"Loading..."}),(0,d.jsx)("span",{children:"\u53CC\u6307\u70B9\u51FB\u5C4F\u5E55\u8C03\u51FA\u8BBE\u7F6E\u9762\u677F"}),(0,d.jsx)("span",{children:"\u53EF\u76F4\u63A5\u8DF3\u8F6C\u9875\u9762"})]}),(0,d.jsx)("div",{className:"close-btn",children:(0,d.jsx)(ge.q,{onClick:k,name:"design/close_sm"})})]})})}const Be=(0,T.default)(Ae.Z).withConfig({displayName:"EmbedToastModal__StyledPreviewAuthModal",componentId:"sc-f18fpm-0"})(["width:80%;min-width:255px;display:flex;flex-direction:row;padding-bottom:25px;.placeholder{width:10%;}.content{width:80%;display:flex;flex-direction:column;align-items:center;}.close-btn{display:flex;flex-direction:row-reverse;width:10%;height:32px;svg{width:32px;height:32px;}}"]);var xe=t(44051),je=t(17315);class ze extends j.PureComponent{constructor(k){super(k),(0,n.Z)(this,"setElementRef",U=>this.$elem=U),(0,n.Z)(this,"initCollapseKeySet",()=>{const{activeCid:U,screenTreeData:W}=this.props,Y=(0,ae._i)(U,W),J=new Set(Y.map(ee=>{let{cid:he}=ee;return he}));this.setState({collapseKeySet:J})}),(0,n.Z)(this,"handleScreenMetaExpand",U=>{let{cid:W}=U;const{collapseKeySet:Y}=this.state,J=new Set(Y);Y.has(W)?J.delete(W):J.add(W),this.setState({collapseKeySet:J})}),(0,n.Z)(this,"handleSelectScreenMeta",(U,W)=>{const{activeCid:Y,dispatch:J}=this.props;(0,ae.Vx)(W)||(Y===W.cid?this.handleScreenMetaExpand(W):J({type:"entry:sync-runner:set-screen",payload:{cid:W.cid}}))}),(0,n.Z)(this,"handleClosePreviewSetting",()=>{this.setState({isOpen:!1})}),(0,n.Z)(this,"onClickOutside",U=>{let{target:W}=U;this.$elem.contains(W)||this.handleClosePreviewSetting()}),(0,n.Z)(this,"renderScreenMetaItem",U=>{let{depth:W,screenMeta:Y,hasScreenMetaChildren:J,collapseScreenMetaCidSet:ee,activeScreenMetaCid:he,dispatch:me}=U;const{runnerState:de}=this.props,{cid:Ee}=Y,ie=he===Ee,ye=ee.has(Ee),Se=J||(0,ae.Vx)(Y);return(0,d.jsx)(Q.Z,{depth:W,screenMeta:Y,isActive:ie,isExpand:ye,showExpander:Se,actionProps:this.literalActionProps,dispatch:me,runnerState:de})}),this.state={isOpen:!1,collapseKeySet:new Set},this.literalActionProps={onExpand:this.handleScreenMetaExpand,onSelect:this.handleSelectScreenMeta}}componentDidMount(){const k=this,U=document.querySelector("#workspace"),W=new(fe()).Manager(U);W.add(new(fe()).Tap({event:"doubletap",pointers:2})),W.on("doubletap",function(Y){k.setState({isOpen:!0})}),this.initCollapseKeySet()}render(){const{project:k,screenTreeData:U,activeCid:W,isStatePanelShow:Y,dispatch:J,runnerState:ee,previewOptions:he}=this.props,{isOpen:me,collapseKeySet:de}=this.state,{isEmbedV1:Ee,isEmbedV2:ie}=he;return(0,d.jsxs)(d.Fragment,{children:[(Ee||ie)&&(0,d.jsx)(ue,{}),me&&(0,d.jsx)(xe.N8,{className:"mask"}),ee.activeCid!==""&&(0,d.jsxs)(xe.eE,{className:o()({"is-open":me}),ref:this.setElementRef,children:[!Y&&(0,d.jsxs)(je.Z,{children:[(0,d.jsxs)("div",{className:"theHeader",children:[(0,d.jsx)("div",{className:"backBtn","data-value":""}),(0,d.jsx)("div",{className:"headerTitle",children:(0,d.jsx)("div",{className:"headerName",children:(0,le.FQ)(k.name)})})]}),(0,d.jsx)("div",{className:o()("screen-list",{"when-ws":!1}),children:(0,d.jsx)(Z.Z,{collapseScreenMetaCidSet:de,activeScreenMetaCid:W,isExpandTree:!1,screenTreeData:U,renderScreenMetaItem:this.renderScreenMetaItem,dispatch:J})})]}),!Y&&(0,d.jsx)(Ue,{onClose:this.handleClosePreviewSetting}),me&&(0,d.jsx)(b.ZP,{target:document,onClick:(0,b.Yc)(this.onClickOutside,{capture:!0})})]})]})}}(0,n.Z)(ze,"propTypes",{project:C().object,dispatch:C().func,activeCid:C().string,screenTreeData:C().object,isStatePanelShow:C().bool,runnerState:C().object,previewOptions:C().object});const Ue=(0,j.memo)(V=>{let{onClose:k}=V;return(0,d.jsx)("div",{className:"theFooter",onClick:k,children:I18N.pPreview.mobileMenu.cancel})});Ue.propTypes={onClose:C().func};const Ge=(0,oe.P1)([I.Kv,I.CL,I.vo,I.d9,I.Uq],(V,k,U,W,Y)=>{const J=k.cid;return{screenTreeData:V,activeCid:J,project:U,isStatePanelShow:W,runnerState:Y}}),Ve=(0,m.$j)(V=>Ge(V))(ze);var ht=t(57690),lt=t(54861),Yt=t(38281),Dt=t(43852);class sr extends j.PureComponent{constructor(k){super(k),(0,n.Z)(this,"shouldHasBorderRadius",(U,W)=>!U||W!=="device"?!1:!!U.includes("iphone_14")),this.state={homeScreen:k.screen}}componentDidMount(){const{previewOptions:k,isImmersive:U,isReadRunner:W}=this.props;if(W)return;const{isMobile:Y}=k;if(Y){const J=()=>{setTimeout(()=>{this.forceUpdate()},100)},ee="onorientationchange"in window?"orientationchange":"resize";window.addEventListener(ee,J,!1)}MB.runnerController.initEventHandler(document.querySelector("#app"),{isImmersive:U,isMobile:Y})}render(){const{project:k,screen:U,scale:W,bgcolor:Y,isImmersive:J,isShowSplash:ee,isPanelPreviewMode:he,isShellShow:me,simulatorType:de,previewOptions:Ee,isReadRunner:ie}=this.props,{homeScreen:ye}=this.state,{isMobile:Se}=Ee,{splash:Pe=""}=k;let be=(0,l.Wi)(U,k.device);const Ce=de==="outside_artboard",De=J||de!=="device";Se&&(be+=" is-mobile"),Ce&&De&&(be+=" is-outside-visible");const Fe=this.shouldHasBorderRadius(k==null?void 0:k.model,de);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(Dt.i,{id:"simulator",className:be,children:[(0,d.jsx)("div",{id:"app",style:{borderRadius:Fe?"12px":void 0},children:(0,d.jsx)(Yt.Z,{})}),ee&&(0,d.jsx)(X,{homeScreen:ye,url:Pe,isPanelPreviewMode:he}),(0,d.jsx)(lt.y,{}),Se&&(0,d.jsx)(ht.b,{})]}),Se&&(0,d.jsx)(Ve,{previewOptions:Ee})]})}}const ir=V=>V.container.artboards.isShowSplash,ar=(0,m.$j)(V=>{const k=(0,I.CL)(V),U=(0,I.vo)(V),W=(0,I.gz)(V),Y=ir(V),J=(0,I.GP)(V),ee=(0,I.yT)(V),he=(0,I.HR)(V),me=(0,I.z7)(V);return{bgcolor:(0,I.Wf)(V),screen:k,project:U,previewOptions:J,isImmersive:W,isShowSplash:Y,isPanelPreviewMode:ee,simulatorType:he,scale:me,isReadRunner:!0}})(sr);class vt extends j.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"state",{isDraggingCanvas:!1}),(0,n.Z)(this,"handleKeyDown",k=>{const{dispatch:U}=this.props,W=k.target.matches("input")||k.target.matches("textarea");k.keyCode===32&&!W&&(k.preventDefault(),U({type:"preview:set:key:flags",payload:{isSpaceDown:!0}}))}),(0,n.Z)(this,"handleKeyUp",()=>{this.props.dispatch({type:"preview:reset:key:flags"})}),(0,n.Z)(this,"handleMouseDown",k=>{const{isSpaceDown:U}=this.props;(k.button===1||U)&&this.initDraggingCanvas(k)}),(0,n.Z)(this,"handleScaleAndOffsetChange",(k,U,W)=>this.props.dispatch({type:"design:set:scale-and-offset",payload:{scale:W,offset:{x:k,y:U}}})),(0,n.Z)(this,"handleOffsetChange",(k,U)=>{this.props.dispatch({type:"entry:preview:set:canvas:offset",payload:{offset:{x:k,y:U}}})})}initDraggingCanvas(k){const U=k.clientX,W=k.clientY,{x:Y,y:J}=this.props.canvasOffset;this.setState({isDraggingCanvas:!0});const ee=me=>{const de={x:Y+(me.clientX-U),y:J+(me.clientY-W)};this.props.dispatch({type:"entry:preview:set:canvas:offset",payload:{offset:de}})},he=()=>{this.setState({isDraggingCanvas:!1}),document.removeEventListener("mousemove",ee),document.removeEventListener("mouseup",he)};document.addEventListener("mousemove",ee),document.addEventListener("mouseup",he)}render(){const{scale:k,canvasOffset:U,project:W,screenGlue:Y,screen:J,isSpaceDown:ee,isStickyShow:he,isStickyAvailable:me,simulatorType:de,isShowShell:Ee,isLayerActive:ie,isCommentActive:ye,isFullScreenMode:Se,isPreviewActive:Pe,isHTMLZip:be,theme:Ce}=this.props,{isDraggingCanvas:De}=this.state,{x:Fe,y:$e}=U,at=ie||ye,mt=at||!Ee||de!=="device"?"none":(0,r.uL)(W),gt=!at&&(0,l.SZ)({screenGlue:Y,screen:J,project:W}),Ot=J.orientation==="landscape"||J.width===W.height,Gt={width:375,height:812,minWidth:375,minHeight:812,transform:"matrix(1, 0, 0, 1, "+Fe+", "+$e+")"},xt={transform:"scale("+k/100+")"},_t=o()({"wait-drag":ee||De,"is-immersive":at,"is-comment-active":ye,"is-screen-expanded":at||de!=="device","is-fullscreen-mode":Se}),yt={backgroundColor:v.I3[Ce]};return(0,d.jsxs)(e.Z,{x:Fe,y:$e,scale:k,style:yt,id:"simulator-container",className:_t,isDisabled:De,onMouseDown:this.handleMouseDown,onScaleAndOffsetChange:this.handleScaleAndOffsetChange,onOffsetChange:this.handleOffsetChange,children:[(ct,Rt,Ht)=>(0,d.jsx)("div",{className:"screen-viewport",style:Gt,children:(0,d.jsxs)("div",{className:"zoom-area",style:xt,children:[(0,d.jsx)(ar,{isShellShow:gt}),gt&&(0,d.jsx)(L,{isHTMLZip:be,project:W,shellType:mt,isLandscape:Ot})]})},"1"),(0,d.jsx)(b.ZP,{target:document,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp})]})}}const cr=(0,m.$j)(V=>{const{container:{common:{offset:k,keyFlags:{isSpaceDown:U}}}}=V,{isHTMLZip:W}=(0,I.GP)(V),Y=(0,I.z7)(V),J=(0,I.CL)(V),ee=(0,I.vo)(V),he=(0,I.ku)(V),me=(0,I.NK)(V),de=(0,I.EZ)(V),Ee=(0,I.XL)(V),ie=(0,I.Nu)(V),{isPreview:ye,isInspect:Se,isComment:Pe}=(0,I.nB)(V),be=(0,I.HR)(V),Ce=(0,I.ki)(V);return{scale:Y,canvasOffset:k,screen:J,project:ee,screenGlue:he,simulatorType:be,isSpaceDown:U,isStickyShow:de,isPreviewActive:ye,isLayerActive:Se,isCommentActive:Pe,isFullScreenMode:Ee,isHTMLZip:W,isShowShell:Ce,isStickyAvailable:me,theme:ie}})(vt);var nt=t(66216),lr=t(63160),pr=t(76637),bt=t(24011);const St=T.default.div.withConfig({displayName:"styles__StyledApp",componentId:"sc-7okk49-0"})(["width:100%;height:100%;display:flex;flex-direction:column;background:",";.preview-content-container{position:relative;flex:1;display:flex;overflow:hidden;}"],V=>V.theme.color_background_icon_hover);class Jt extends j.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"keyboardManager",new nt.Sm)}preventDefault(k){k.preventDefault()}render(){return(0,d.jsx)(nt.XC.Provider,{value:this.keyboardManager,children:(0,d.jsx)(bt.Z,{children:(0,d.jsxs)(St,{onContextMenu:this.preventDefault,children:[(0,d.jsxs)("div",{id:"preview-content-container",className:"preview-content-container",children:[(0,d.jsx)(c.Z,{}),(0,d.jsx)(cr,{}),(0,d.jsx)(f.Z,{}),(0,d.jsx)(_.Z,{})]}),(0,d.jsx)(pr.NM,{sheet:lr.R}),(0,d.jsx)(ht.F,{})]})})})}}var ur=t(10737),Qt=t(23555),ut=t(70423);const dr=V=>{const{isEmbedV1:k=!1}=V||{};return{isDesktop:!((0,ut.tq)()||k),isInApp:!1,isMultiLink:!1,isMobile:(0,ut.tq)(),isIOSClient:(0,ut.B0)(),isStandAlone:(0,ut.IF)(),isEmbedV1:k,isEmbedV2:!1,isHTMLZip:!1,isUIChina:(0,ut.Md)(),isForum:(0,ut._j)(),isElectron:(0,ut.d)(),isSquare:!1,isVersionEmbedded:!1,isFeishu:(0,ut.Rv)(),isWechat:(0,ut.CL)(),...V}},qt=V=>{const{isMobile:k,isEmbedV2:U,isSquare:W,isVersionEmbedded:Y}=V;return k?ur.Z:U||W?S.Z:Y?Jt:Qt.Z};var zt=t(64721),Vt=t(78467),hr=t(75985),fr=t(76333);const er=V=>localStorageRemoveItem(V+"_pwd"),Ft=V=>(0,Te.GQ)(V+"_pwd"),tr=(V,k)=>localStorageSetItem(V+"_pwd",k),_r=V=>{const k=async(U,W,Y)=>{try{const{isHTMLZip:J,isMobile:ee}=getPreviewOptions(MB.webpackInterface.store.getState());J||(ee&&MB.messageBucket.send("ready"),await checkAuthorization(U,W),MB.global.popupHelper.promptGetPasswordAsync(!1));const he=await V({projectAccessToken:U,projectVersion:Y,projectEncryptedPassword:W,userLocale:window.MBLocale});return tr(U,W),he}catch(J){console.error("[getProjectFullData] failed: "+J),er(U)}};return async U=>{let{projectAccessToken:W,projectVersion:Y,projectEncryptedPassword:J,isPasswordRequired:ee}=U;return J=J||new URLSearchParams(location.search).get("password")||Ft(W),await F(k,ee,W,J,Y)||[]}},F=async(V,k,U,W,Y)=>{let J;if(J=await V(U,W,Y),!J&&!k){var ee,he;(ee=MB)==null||(he=ee.messageBucket)==null||he.send("mobileLoadProjectError",{errMsg:I18N.dPages.no_permission_to_app})}let me=1/0,de=!1,Ee=0;for(;!J&&me;)Ee++,me--,W=md5(await MB.global.popupHelper.promptGetPasswordAsync(!0,de)),J=await V(U,W,Y),J||(de=!0);return MB.global.popupHelper.promptGetPasswordAsync(!1),J},ke=async(V,k)=>{let U;try{U=await checkAuthorization(V,k)}catch(W){U=W}return U},Xe=async function(V,k){k===void 0&&(k=MB.global.popupHelper);let U=!1,W=md5(await k.promptGetPasswordAsync(!0,!1));for((await ke(V,W)).status===403&&(U=!0);U;)W=md5(await k.promptGetPasswordAsync(!0,U)),(await ke(V,W)).status===403?U=!0:U=!1;return k.promptGetPasswordAsync(!1),W},dt=(V,k,U)=>{if(!V)return!0;if(k){var W;return(U==null||(W=U.permissions.find(J=>J.user_id===V.id))==null?void 0:W.role)===void 0}else return V.id!==U.owner_id};var Et=t(69930),At=t(86185),It=t(53233),Tt=t(79486),jt=t(70103),Bt=t(23895),N=t(47423);const H={isInNewGuide:!1,isOnPremises:!1,canUploadToSquare:!1},te=function(V){V===void 0&&(V="POPUP-HELPER-ROOT");const k=document.createElement("div");k.id=V,document.body.appendChild(k);const U=(0,jt.MT)(Bt.Z);y.render((0,d.jsx)(m.zt,{store:U,children:(0,d.jsx)(N.Z,{})}),k);const{confirmAsync:W,alertAsync:Y,alertAsyncWide:J,alertAsyncBlocked:ee,promptGetPasswordAsync:he,loginAsync:me,teamSelectModalAsync:de,sharingAsync:Ee,chargeAsync:ie,upgradeChatGPTAsync:ye}=pe(U.dispatch);return{confirmAsync:W,alertAsync:Y,alertAsyncWide:J,alertAsyncBlocked:ee,promptGetPasswordAsync:he,loginAsync:me,teamSelectModalAsync:de,sharingAsync:Ee,chargeAsync:ie,upgradeChatGPTAsync:ye,destroy:()=>{y.unmountComponentAtNode(k),k.remove()}}},pe=V=>({confirmAsync:ie=>{let{className:ye,title:Se,desc:Pe,isHTML:be,confirmText:Ce,cancelText:De,isClose:Fe}=ie;return new Promise($e=>V({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,className:ye,title:Se,desc:Pe,isHTML:be,type:"alert",alertType:"confirm",canClose:Fe!==!1,canCancel:!0,canConfirm:!0,cancelText:De,confirmText:Ce,onCancel:()=>$e(!1),onConfirm:()=>$e(!0)}}}))},alertAsync:ie=>{let{title:ye,desc:Se,isHTML:Pe,confirmText:be}=ie;return new Promise(Ce=>V({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:ye,desc:Se,isHTML:Pe,type:"alert",alertType:"alert",canClose:!0,canCancel:!1,canConfirm:!0,confirmText:be,onConfirm:()=>Ce()}}}))},alertAsyncWide:ie=>{let{title:ye,desc:Se,isHTML:Pe,confirmText:be}=ie;return new Promise(Ce=>V({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:ye,desc:Se,isHTML:Pe,type:"functional",alertType:"alert",canClose:!0,canCancel:!1,canConfirm:!0,confirmText:be,onConfirm:()=>Ce()}}}))},alertAsyncBlocked:ie=>{let{title:ye,desc:Se,isHTML:Pe,confirmText:be}=ie;return new Promise(Ce=>V({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:ye,desc:Se,isHTML:Pe,type:"alert",alertType:"alert",canClose:!1,canCancel:!1,canConfirm:!0,confirmText:be,onConfirm:()=>Ce()}}}))},promptGetPasswordAsync:(ie,ye)=>new Promise(Se=>V({type:"modal:update:state",payload:{previewAuthModal:{isOpen:ie,isWrongPwd:ye,onConfirm:Pe=>Pe&&Se(Pe)}}})),loginAsync:ie=>{let{onCancel:ye=Me,onConfirm:Se=Me,type:Pe="signin",source:be}=ie;return V({type:"modal:update:state",payload:{loginModal:{source:be,isOpen:!0,type:Pe,onCancel:ye,onConfirm:Se}}})},teamSelectModalAsync:ie=>{let{projectCid:ye="",onCancel:Se=Me,onConfirm:Pe=Me}=ie;return V({type:"modal:update:state",payload:{teamSelectModal:{isOpen:!0,projectCid:ye,onCancel:Se,onConfirm:Pe}}})},sharingAsync:ie=>{let{project:ye,theme:Se,isGuestMode:Pe,screenMetaList:be=[],onUpdateProject:Ce=Me,extraInfo:De=H,screenMetaCidToVisit:Fe,user:$e}=ie;return V({type:"modal:update:state",payload:{sharingModal:{isOpen:!0,project:ye,theme:Se,extraInfo:De,isGuestMode:Pe,screenMetaList:be,onUpdateProject:Ce,screenMetaCidToVisit:Fe,user:$e}}})},chargeAsync:ie=>V({type:"modal:update:state",payload:{chargeOverlay:{isOpen:!0,...ie}}}),upgradeChatGPTAsync:ie=>V({type:"modal:update:state",payload:{upgradeChatGPTModal:{isOpen:!0,...ie}}})}),Me=()=>{};var Oe=t(46295),Ye=t(62609);const{MB:ve}=window;ve.f.inSharing=!0;const Je=V=>{let{initialData:k,designOptions:U,previewOptions:W,popupHelper:Y,sharing:J,password:ee,api:{requestProjectFullDataByAccessToken:he,requestSketchArtboardList:me,requestSketchArtboardById:de,requestSliceByArtboardId:Ee,requestSliceZipByArtboardId:ie,checkSharingPermission:ye,fetchProjectComment:Se,fetchProjectScreenCommentThreadCountMap:Pe,requestProjectShare:be,requestUserCommonGuidesData:Ce,updateUserCommonGuidesData:De,fetchCreateCommentThread:Fe,fetchCreateComment:$e,fetchDeleteCommentThread:at,fetchDeleteComment:mt,updateProjectBasicsInfo:gt,updateComboProjectBasicsInfo:Ot}}=V;const{isMobile:Gt,isIOSClient:xt,isStandAlone:_t,isHTMLZip:yt}=W;ve.config.minFS=calcMinFontSize(),(_t||xt)&&(document.documentElement.style.height="100vh");const{runnerController:ct,messageBucket:Rt,webpackInterface:Ht,PreviewApp:kt}=createPreviewRelated(getPreviewComponentByOptions(W));return setExternal({api:{requestSketchArtboardList:me,requestSketchArtboardById:de,requestSliceByArtboardId:Ee,requestSliceZipByArtboardId:ie,checkSharingPermission:ye,fetchProjectComment:Se,fetchProjectScreenCommentThreadCountMap:Pe,requestUserCommonGuidesData:Ce,updateUserCommonGuidesData:De,fetchCreateCommentThread:Fe,fetchCreateComment:$e,fetchDeleteCommentThread:at,fetchDeleteComment:mt,updateProjectBasicsInfo:gt,updateComboProjectBasicsInfo:Ot}}),Object.assign(ve,{runnerController:ct,messageBucket:Rt,webpackInterface:Ht,global:{popupHelper:Y,designOptions:U}}),ve.webpackInterface.store.dispatch({type:"entry:init:preview:options",payload:{previewOptions:W}}),{requestData:async Kt=>{var wt,nr,Wt,or;let{projectAccessToken:Ut,projectEncryptedPassword:Tr,isPasswordRequired:gr,projectBasicCid:jr}=Kt;const{user:Sr,org:Er,team:Lr,orgList:Or,preference:Kr,MBSketchPluginDownloadURL:wr,canEditByCurrentUser:Ir,project_basic:zr,project_meta:an,space:cn}=k,ln=getIsNeedInputPassword(Sr,cn,zr);let Dr=loadProjectEncryptedPassword(Ut);const un=await tryCheckAuthorization(Ut,Dr);if(gr&&ln&&un.status===403){var Vr;ve==null||(Vr=ve.messageBucket)==null||Vr.send("ready"),Dr=await checkAuthorizationWithPrompt(Ut,createPopupHelper()),saveProjectEncryptedPassword(Ut,Dr)}let br,Br;try{const{projectBasic:Nt,projectMeta:Ar}=await requestProjectFullDataFlat4ReadOnly({projectBasicCid:jr,accessToken:Ut,project_basic:zr,project_meta:an,password:Dr||ee});br=Nt,Br=Ar}catch(Nt){return setTimeout(()=>{var Ar,$r;return ve==null||(Ar=ve.messageBucket)==null?void 0:Ar.send("mobileLoadProjectError",{errMsg:"\u4EC5\u4F01\u4E1A\u6210\u5458\u53EF\u89C1-"+(ve!=null&&($r=ve.user)!=null&&$r.id?"\u5DF2\u767B\u5F55\u4F46\u975E\u4F01\u4E1A\u6210\u5458":"\u672A\u767B\u5F55")})},1e3),crashedPageWithUser(Nt)}ve.webpackInterface.store.dispatch({type:"entry:preview:update:current:sharing",payload:{sharing:J}}),ve.webpackInterface.store.dispatch({type:"entry:init:preview:preference",payload:{preference:Kr||{}}});const dn=Ir&&(Br.is_org_project?!((wt=br)!=null&&wt.expired):!((nr=br)!=null&&nr.expired)||Sr.apps.length<=Sr.free_projects_count);if(Object.assign(ve,{user:Sr||{},canEditByCurrentUser:dn,org:Er||void 0}),ve.webpackInterface.store.dispatch({type:"entry:state:init"}),(Wt=ve.user)!=null&&Wt.id&&Er)try{const Nt=await DesignAPI.requestOrgMembers(Er.cid);ve.members=Nt}catch(Nt){console.log(Nt)}(or=ve.user)!=null&&or.id&&ve.webpackInterface.store.dispatch({type:"entry:comment:rebuild:commentList"}),hideLoading();let Zr="[]";try{const{guide:Nt}=await Ce();Zr=(Nt==null?void 0:Nt.workspace_guides)||[]}catch(Nt){console.error("\u83B7\u53D6 guide_data \u5931\u8D25")}return initCommonGuide({store:ve.webpackInterface.store,commonGuidesData:Zr,api:{updateUserCommonGuidesData:De},isDesign:!1,isPreview:!0}),{projectAlike:br,projectMeta:Br,projectShare:J}},renderPreview:(Kt,wt,nr,Wt)=>{if(Wt!=null&&Wt.screen_visible_switch&&(Wt==null?void 0:Wt.screen_visible_list.length)===0)return setTimeout(()=>{var gr;return ve==null||(gr=ve.messageBucket)==null?void 0:gr.send("mobileLoadProjectError",{errMsg:"\u9875\u9762\u65E0\u753B\u677F\uFF0C\u65E0\u6CD5\u9884\u89C8"})},1e3),_jsx(CrashedPage,{errorType:404,customTitle:I18N.dModule.zero_screen_err_title,customDes:I18N.dModule.zero_screen_err_des,isShowSecondaryBtn:!1,primaryClick:()=>backToHomePageWithSaTrack("zh-CN","\u539F\u578B-\u5206\u4EAB\u94FE\u63A5\u9875\u9762\u4E3A\u7A7A")});const or=new KeyboardManager,Ut=new URLSearchParams(location.search),Tr=Gt?"preview":Ut.has("inspect")?"inspect":Ut.has("comment")?"comment":"preview";return _jsx(KeyboardManagerContext.Provider,{value:or,children:_jsx(TooltipsManagerProvider,{children:_jsx(kt,{store:Ht.store,previewMode:Tr,projectAlike:Kt,projectMeta:wt,projectShare:Wt})})})}}},Qe=V=>{let{initialData:k,designOptions:U,previewOptions:W,popupHelper:Y,sharing:J,password:ee,api:{requestProjectFullDataByAccessToken:he,requestSketchArtboardList:me,requestSketchArtboardById:de,requestSliceByArtboardId:Ee,requestSliceZipByArtboardId:ie,checkSharingPermission:ye,requestProjectShare:Se,requestUserCommonGuidesData:Pe,updateUserCommonGuidesData:be,updateProjectBasicsInfo:Ce,updateComboProjectBasicsInfo:De}}=V;const{isMobile:Fe,isIOSClient:$e,isStandAlone:at,isHTMLZip:mt}=W;ve.config.minFS=(0,s.T_)(),(at||$e)&&(document.documentElement.style.height="100vh");const{runnerController:gt,messageBucket:Ot,webpackInterface:Gt,PreviewApp:xt}=(0,zt.o)(qt(W));return(0,Et.J)({api:{requestSketchArtboardList:me,requestSketchArtboardById:de,requestSliceByArtboardId:Ee,requestSliceZipByArtboardId:ie,checkSharingPermission:ye,requestUserCommonGuidesData:Pe,updateUserCommonGuidesData:be,updateProjectBasicsInfo:Ce,updateComboProjectBasicsInfo:De}}),Object.assign(ve,{runnerController:gt,messageBucket:Ot,webpackInterface:Gt,global:{popupHelper:Y,designOptions:U}}),ve.webpackInterface.store.dispatch({type:"entry:init:preview:options",payload:{previewOptions:W}}),{requestData:async _t=>{var yt;let{projectAccessToken:ct,projectEncryptedPassword:Rt,isPasswordRequired:Ht,projectBasicCid:kt}=_t;const{user:Kt,org:wt,team:nr,orgList:Wt,preference:or,MBSketchPluginDownloadURL:Ut,canEditByCurrentUser:Tr,project_basic:gr,project_meta:jr,space:Sr}=k,Er=Ft(ct);let Lr,Or;try{const{projectBasic:wr,projectMeta:Ir}=await(0,Tt.jr)({projectBasicCid:kt,accessToken:ct,project_basic:gr,project_meta:jr,password:Er||ee});Lr=wr,Or=Ir}catch(wr){return(0,Vt.mB)(wr)}return ve.webpackInterface.store.dispatch({type:"preview:set:current-projectShare",payload:{projectShare:J}}),ve.webpackInterface.store.dispatch({type:"entry:preview-setting:update:is-highlight",payload:{isHighlight:(yt=J.highlight)!=null?yt:!0}}),ve.webpackInterface.store.dispatch({type:"entry:init:preview:preference",payload:{preference:or||{}}}),Object.assign(ve,{user:Kt||{},canEditByCurrentUser:!1,org:wt||void 0}),ve.webpackInterface.store.dispatch({type:"entry:state:init"}),(0,At.Z)(),{projectAlike:Lr,projectMeta:Or}},renderPreview:(_t,yt,ct,Rt)=>{if(Rt!=null&&Rt.screen_visible_switch&&(Rt==null?void 0:Rt.screen_visible_list.length)===0)return setTimeout(()=>{var wt;return ve==null||(wt=ve.messageBucket)==null?void 0:wt.send("mobileLoadProjectError",{errMsg:"\u9875\u9762\u65E0\u753B\u677F\uFF0C\u65E0\u6CD5\u9884\u89C8"})},1e3),(0,d.jsx)(w.Z,{errorType:404,customTitle:I18N.dModule.zero_screen_err_title,customDes:I18N.dModule.zero_screen_err_des,isShowSecondaryBtn:!1,primaryClick:()=>(0,Vt.HM)("zh-CN","\u539F\u578B-\u5206\u4EAB\u94FE\u63A5\u9875\u9762\u4E3A\u7A7A")});const Ht=new nt.Sm,kt=new URLSearchParams(location.search),Kt=Fe?"preview":kt.has("inspect")?"inspect":kt.has("comment")?"comment":"preview";return(0,d.jsx)(nt.XC.Provider,{value:Ht,children:(0,d.jsx)(bt.Z,{children:(0,d.jsx)(xt,{store:Gt.store,previewMode:Kt,projectAlike:_t,projectMeta:yt,projectShare:Rt})})})}}},it=V=>{let{initialData:k,designOptions:U,previewOptions:W,popupHelper:Y,api:{requestProjectFullDataByAccessToken:J,requestSketchArtboardList:ee,requestSketchArtboardById:he,requestSliceByArtboardId:me,requestSliceZipByArtboardId:de,checkSharingPermission:Ee,fetchProjectComment:ie,fetchProjectScreenCommentThreadCountMap:ye,requestProjectShare:Se,requestUserCommonGuidesData:Pe,updateUserCommonGuidesData:be,fetchCreateCommentThread:Ce,fetchCreateComment:De,fetchDeleteCommentThread:Fe,fetchDeleteComment:$e,updateProjectBasicsInfo:at,updateComboProjectBasicsInfo:mt},experienceLoginModalHelper:gt}=V;const{isIOSClient:Ot,isStandAlone:Gt}=W,xt=projectShareMock;ve.config.minFS=calcMinFontSize(),(Gt||Ot)&&(document.documentElement.style.height="100vh");const{runnerController:_t,messageBucket:yt,webpackInterface:ct,PreviewApp:Rt}=createPreviewRelated(getPreviewComponentByOptions(W));return setExternal({api:{requestSketchArtboardList:ee,requestSketchArtboardById:he,requestSliceByArtboardId:me,requestSliceZipByArtboardId:de,checkSharingPermission:Ee,fetchProjectComment:ie,fetchProjectScreenCommentThreadCountMap:ye,requestUserCommonGuidesData:Pe,updateUserCommonGuidesData:be,fetchCreateCommentThread:Ce,fetchCreateComment:De,fetchDeleteCommentThread:Fe,fetchDeleteComment:$e,updateProjectBasicsInfo:at,updateComboProjectBasicsInfo:mt}}),Object.assign(ve,{runnerController:_t,messageBucket:yt,webpackInterface:ct,global:{popupHelper:Y,designOptions:U,experienceLoginModalHelper:gt}}),ve.webpackInterface.store.dispatch({type:"entry:init:preview:options",payload:{previewOptions:W}}),{requestData:async Ht=>{var kt;let{projectBasicCid:Kt}=Ht;const{user:wt,org:nr,preference:Wt}=k,{projectBasic:or,projectMeta:Ut}=await requestExperienceFullDataFlat({projectBasicCid:Kt});return ve.webpackInterface.store.dispatch({type:"preview:set:current-projectShare",payload:{projectShare:xt}}),ve.webpackInterface.store.dispatch({type:"entry:init:preview:preference",payload:{preference:Wt||{}}}),Object.assign(ve,{user:wt||{},canEditByCurrentUser:!1,org:nr||void 0}),ve.webpackInterface.store.dispatch({type:"entry:state:init"}),(kt=ve.user)!=null&&kt.id&&ve.webpackInterface.store.dispatch({type:"entry:comment:rebuild:commentList"}),hideLoading(),{projectAlike:or,projectMeta:Ut}},renderPreview:(Ht,kt,Kt)=>{const wt=new KeyboardManager,nr="preview";return _jsx(KeyboardManagerContext.Provider,{value:wt,children:_jsx(TooltipsManagerProvider,{children:_jsx(Rt,{store:ct.store,previewMode:nr,projectAlike:Ht,projectMeta:kt,projectShare:xt})})})}}};var ot=t(38625),ft=t(32380),Zt=t(37506),$t=t(53236),Cr=t(70826);const Wr=V=>{let{projectMeta:k,screenGlueList:U,screenMetaList:W,screenObjectList:Y,nextUpperCid:J,nextProjectMetaCid:ee=getRandomProjectMetaCid()}=V;const he=buildProjectDocument({projectMeta:k,screenGlueList:U,screenMetaList:W,screenObjectList:Y}),{projectDocument:me}=remapProjectStoreLocalProjectDocument(he,createRemapOptionForFullProjectDocument({projectMetaCid:k.cid,remapProjectMetaCid:ee})),{projectMeta:de,screenGlueList:Ee,screenMetaList:ie,screenObjectList:ye}=unbuildProjectDocument(me);return de.upper_cid=J,{projectMeta:de,screenGlueList:Ee,screenMetaList:ie,screenObjectList:ye}};var Ur=t(44766),Xr=t(15670),Yr=t(67832);const q=async(V,k,U)=>{const W=packFlatTree(V),Y=gzipStringToU8A(W),J="/flpak/w-paknewft?"+new URLSearchParams({upperType:"project-basic",type:"proto2",teamCid:k,treLen:String(Y.byteLength),treRawLen:String(W.length)}),ee=await fetch(J,{method:"POST",body:Y,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(U))}});if(!ee.ok)throw Object.assign(new Error("failed to create new flpak: "+J),{status:ee.status});return ee.json()};var p=t(59729);const A=async V=>{MB.safeLoading&&MB.safeLoading(I18N.dApis.save);const k=MB.getRootProject(),U={name:k.title,device:k.device,model:k.model,width:k.width,height:k.height,attr:k.attr};try{const{clientData:{upperCid:W}}=await newFlpakFromTree(window.fssDat.getFlatStore().getFlatTree(),V,U);refreshLocationHref("/proto/design/"+W)}catch(W){console.error("eTASAL",W)}},u={workspace:"me",link_line:!0,link_display:2,grid:!1,grid_size:10,ruler:!0,show_ruler_line:!0,show_align_line:!0,guide:!0,dashboard_guides:'["switch_workspace","design_mode"]',app_order:"asc",theme:"light",contain_select:!1,show_tooltip:!0,show_fs_warning:!0,show_toolbar_text:!0,show_drag_mode:!0,layout_information:null,recent_icons:"[]",recent_svg_icons:"[]",icon_size:null,icon_color:null,notification_status_filter:"all",builtin_list_invisible:"[]",show_daily_tips:!0,use_native_eyedropper:!1,state_link_default_transition:1,panel_link_default_transition:1},E=async()=>({...await requestWorkspaceInitialData(),preference}),O=async V=>{MB.safeLoading&&MB.safeLoading("\u9879\u76EE\u6062\u590D\u4E2D\uFF0C\u8BF7\u7A0D\u540E...");const{prevProjectBasicAttrs:k,projectMeta:U,importProjectBasicCid:W}=MB.importData,Y={...U,upper_cid:W};await fetchPostHead("/api/admin/v3/project_basic/recovery",{upper_cid:W,team_cid:V,project_meta:Y,prevProjectBasicAttrs:k})},z=async()=>{const{projectDocumentToRecover:V,isImportImage:k,importImagePrefix:U}=window.RECOVERY_DATA,{projectAlikeBasicJSON:W,projectMeta:Y,screenGlueNodeList:J}=V,ee=[],{screenGlueList:he,screenMetaList:me,screenObjectList:de}=unbuildProjectDocument({projectMeta:Y,screenGlueNodeList:J}),{cid:Ee,name:ie,device:ye,model:Se,width:Pe,height:be,visibility:Ce}=W,De=getRandomProjectMetaCid(),{projectMeta:Fe,screenGlueList:$e,screenMetaList:at,screenObjectList:mt}=duplicateProjectMeta({nextUpperCid:Ee,nextProjectMetaCid:De,projectMeta:Y,screenGlueList:he,screenMetaList:me,screenObjectList:de}),gt=getRandomCid("pr");if(MB.importData={prevProjectBasicAttrs:{name:ie,device:ye,model:Se,width:Pe,height:be,visibility:Ce},projectMeta:Fe,importProjectBasicCid:gt},k){const Ot=new Set([W.splash]);for(const{stateList:_t}of mt)for(const{itemList:yt}of _t)for(const ct of yt)ct.image&&ct.image.charAt(0)==="/"&&Ot.add(""+U+ct.image);const Gt=[...Ot].filter(Boolean),xt={};for(const _t of Gt){const{asset:yt}=await fetchPutJSON("/api/admin/v3/assets/create_from_url",{project_cid:gt,asset_url:_t,user_id:MB.user.id});xt[_t]=yt.image}for(const{stateList:_t}of mt)for(const{itemList:yt}of _t)for(const ct of yt)ct.image&&ct.image.charAt(0)==="/"&&(ct.image=xt[""+U+ct.image])}return{projectMeta:Fe,screenGlueList:$e,screenMetaList:at,projectScreenObjectList:mt,projectBasic:W,screenAlignList:ee}};var re=t(7221);const se=async V=>({...await fetchGetJSON("/api/web/v3/experience/design/initial?market_template_cid="+V),preference:{workspace:"me",link_line:!0,link_display:2,grid:!1,grid_size:10,ruler:!0,show_ruler_line:!0,show_align_line:!0,guide:!0,dashboard_guides:'["switch_workspace", "design_mode"]',app_order:"asc",theme:"light",contain_select:!1,show_tooltip:!0,show_fs_warning:!0,show_drag_mode:!0,layout_information:null,recent_icons:"[]",recent_svg_icons:"[]",icon_size:null,icon_color:null,notification_status_filter:"all",builtin_list_invisible:"[]",show_daily_tips:!0,state_link_default_transition:1,panel_link_default_transition:1,recently_used_screen_meta_icons:"[]"}}),ce=async V=>{let{projectUpperCid:k}=V;const{projectMetaList:[U],screenGlueList:W,screenMetaList:Y,projectScreenObjectList:J,projectUpper:ee,screenAlignList:he}=await fetchDataMarketTemplate({projectUpperCid:k}),me=getRandomProjectMetaCid();U.upper_type="project-basic";const{projectMeta:de,screenGlueList:Ee,screenMetaList:ie,screenObjectList:ye}=duplicateProjectMeta({nextUpperCid:k,nextProjectMetaCid:me,projectMeta:U,screenGlueList:W,screenMetaList:Y,screenObjectList:J}),Se=new Map;return ie.forEach((Pe,be)=>{const Ce=Y[be],{cid:De,project_meta_cid:Fe}=Ce,$e="/snapshot.png?projectMetaCid="+Fe+"&screenMetaCid="+De+"&screenStateCid=FIRST_STATE&zoomMode=thumbnail&cacheTag=cache";Se.set(Pe.cid,$e)}),MB.experienceData={projectUpperCid:k,projectMeta:de,experienceSnapshotUrlMap:Se},{projectMeta:de,screenGlueList:Ee,screenMetaList:ie,projectScreenObjectList:ye,projectBasic:{...ee,limitation:{collaborators:0,storage:2e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:6553500,screens:6553500,commentable:!0}},screenAlignList:he,experienceSnapshotUrlMap:Se}},_e=async()=>({marketTemplateList:[],marketTemplateListMap:new Map,iconLibraryList:[],iconLibraryListMap:new Map}),Le=V=>{const k={...V,created_at:new Date().valueOf()},U={cid:getRandomCid("p"),mtime:Date.now()/1e3,upper_cid:k.cid,upper_type:"user-combo"};return{user_combo_group:k,project_meta:U}},We=V=>{let{isLoggedIn:k,isImport:U}=V;return{requestUserAssetGroupList:()=>k||U?designAPI.requestUserAssetGroupList():{userAssetGroupList:[]},requestConfigurationData:designAPI.requestConfigurationData,requestConfigurationSquareTopicData:designAPI.requestConfigurationSquareTopicData,requestWorkspaceConfiguration:designAPI.requestWorkspaceConfiguration,requestConfigurationHotKeyWords:designAPI.requestConfigurationHotKeyWords,requestRecentKeywords:designAPI.requestRecentKeywords,requestDeleteRecentKeywords:designAPI.requestDeleteRecentKeywords,requestAddRecentKeywords:designAPI.requestAddRecentKeywords,requestConfigurationWorkspaceLabels:designAPI.requestConfigurationWorkspaceLabels,requestIconGroupIconDataForCid:designAPI.requestIconGroupIconDataForCid,requestFindMarketTemplates:designAPI.requestFindMarketTemplates,requestSearchResourcesData:designAPI.requestSearchResourcesData,requestResourcesDetails:designAPI.requestResourcesDetails,requestHotIcons:designAPI.requestHotIcons,requestMarketTemplateDataFromCid:designAPI.requestMarketTemplateDataFromCid,requestUpdateScreenAlign:designAPI.requestUpdateScreenAlign,requestSketchArtboardList:async()=>({artboards:[]}),requestSketchArtboardById:()=>null,requestSliceByArtboardId:async()=>({slices:[]}),requestSliceZipByArtboardId:async()=>({url:"/mock-slice.zip",status:200}),requestUserCommonGuidesData:async()=>({guide:{dashboard_guides:"",workspace_guides:'["newFeature", "videoTip", "widgetState", "pageState", "trashTip", "versioins"]',workspace_guides_version:"v2",default_team_cid:""},guide_project_template_cid:""}),updateUserCommonGuidesData:()=>null,updateUser2203GuidesData:()=>null,checkSharingPermission:async()=>(await new Promise(W=>setTimeout(W,100)),!0),fetchProjectComment:async()=>({org:null,team:null,members:[],threads:[],comments:[]}),fetchProjectScreenCommentThreadCountMap:()=>null,updateProjectBasicsInfo:()=>null,updateComboProjectBasicsInfo:()=>null,requestProjectShare,updateCurrentProjectShare:()=>null,requestMarketTemplateFullDataByCid:W=>{let{projectUpperCid:Y}=W;return U?requestMarketTemplateFullDataByCidImport():ce({projectUpperCid:Y})},requestUserComboGroupDataFromCid:W=>{let{userComboGroupCid:Y}=W;return k||U?designAPI.requestUserComboGroupDataFromCid({userComboGroupCid:Y}):null},requestUserComboGroupList:W=>k||U?designAPI.requestUserComboGroupList(W):{userComboGroupList:[]},requestCreateUserComboGroup:W=>k||U?designAPI.requestCreateUserComboGroup(W):Le(W),requestUpdateUserComboGroup:W=>k||U?designAPI.requestUpdateUserComboGroup(W):{user_combo_group:W},requestDeleteUserComboGroup:W=>k||U?designAPI.requestDeleteUserComboGroup(W):null,requestMarketTemplateDataForLibrary:()=>k||U?designAPI.requestMarketTemplateDataForLibrary():_e(),requestMarketTemplateItemUnused:W=>{let{marketTemplateCid:Y}=W;return k||U?designAPI.requestMarketTemplateItemUnused({marketTemplateCid:Y}):null},requestMarketTemplateItemListDataForLibrary:W=>{let{projectMetaList:Y,screenGlueList:J,screenMetaList:ee}=W;return k||U?designAPI.requestMarketTemplateItemListDataForLibrary({projectMetaList:Y,screenGlueList:J,screenMetaList:ee}):null},experienceTriggerAllSaveAfterLogin:W=>U?experienceTriggerAllSaveAfterLoginImport(W):experienceTriggerAllSaveAfterLogin(W),requestUserStarredList,requestUserUsedResources,requestStarredResources,requestUnStarredResources,requestResourcesDetailData,requestRecentResourcesList,requestResourcesListForSource,requestUpdateRecentImportResources,requestResourcesListByCategory:W=>{let{category:Y,keyword:J}=W;return designAPI.requestResourcesListByCategory({category:Y,keyword:J})}}},Ze=async V=>{let{initialData:k,previewOptions:U,api:W,projectAccessToken:Y,projectEncryptedPassword:J,isPasswordRequired:ee,$root:he,projectBasicCid:me,sharing:de,password:Ee}=V;const ie={isDesign:!0,isExperience:!1,isLoggedExperience:!1,isOnPremises:!!k.is_on_premises,isWonderShare:!!k.is_wonder_share},{requestData:ye,renderPreview:Se}=initPreview({api:W,initialData:k,popupHelper:createPopupHelper(),previewOptions:U,designOptions:ie,sharing:de,password:Ee});ee&&setTimeout(()=>previewNoAccessSaTrack("\u5BC6\u7801\u67E5\u770B-\u9700\u8F93\u5165\u5BC6\u7801"),0);const{projectAlike:Pe,projectMeta:be,projectShare:Ce}=await ye({projectAccessToken:Y,projectEncryptedPassword:J,isPasswordRequired:ee,projectBasicCid:me}),De=location.hash||"",Fe=De&&De.startsWith("#screen=")&&De.substr(8);ReactDOM.render(Se(Pe,be,Fe,Ce),he)},He=async V=>{let{initialData:k,previewOptions:U,api:W,projectAccessToken:Y,projectEncryptedPassword:J,isPasswordRequired:ee,$root:he,projectBasicCid:me,sharing:de,password:Ee}=V;const ie={isDesign:!0,isExperience:!1,isLoggedExperience:!1,isOnPremises:!!k.is_on_premises,isWonderShare:!!k.is_wonder_share},{requestData:ye,renderPreview:Se}=Qe({api:W,initialData:k,popupHelper:te(),previewOptions:U,designOptions:ie,sharing:de,password:Ee});ee&&setTimeout(()=>(0,ot.CQ)("\u5BC6\u7801\u67E5\u770B-\u9700\u8F93\u5165\u5BC6\u7801"),0);const{projectAlike:Pe,projectMeta:be}=await ye({projectAccessToken:Y,projectEncryptedPassword:J,isPasswordRequired:ee,projectBasicCid:me}),Ce=location.hash||"",De=Ce&&Ce.startsWith("#screen=")&&Ce.substr(8);y.render(Se(Pe,be,De),he)},Ke=async V=>{let{initialData:k,previewOptions:U,$root:W,projectBasicCid:Y}=V;const{user:J}=k,ee=!!J,he={isDesign:!0,isExperience:!ee,isLoggedExperience:ee,isOnPremises:!!k.is_on_premises,isWonderShare:!!k.is_wonder_share},me=createExperienceAPI({isLoggedIn:ee,isImport:!1}),{requestData:de,renderPreview:Ee}=initExperiencePreview({api:me,initialData:k,popupHelper:createPopupHelper(),previewOptions:U,designOptions:he,experienceLoginModalHelper}),{projectAlike:ie,projectMeta:ye}=await de({projectBasicCid:Y}),Se=location.hash||"",Pe=Se&&Se.startsWith("#screen=")&&Se.substr(8);ReactDOM.render(Ee(ie,ye,Pe),W)};var Ne=t(62737),st=t(21426),Ie=t(1e3);const tt=T.default.div.withConfig({displayName:"styles__StyledExampleApp",componentId:"sc-93zovs-0"})(["&{position:absolute;top:0;left:0;bottom:0;right:0;transition:all 0.2s ease-in-out;.mb-loading{position:absolute;top:50%;left:50%;margin-top:-50px;margin-left:-50px;width:100px;height:100px;}}.mb-design-page{&,#mb-toolbar,.mb-left-panel{transition:all 0.2s ease-in-out;}&.is-collapse{opacity:0;#mb-toolbar{transform:translateY(-100%);}.mb-left-panel{transform:translateX(-100%);}.mb-rightpane{transform:translateX(100%);}}}.mb-preview-page{position:absolute;top:0;left:0;width:100%;bottom:0;font-size:12px;transition:all 0.2s ease-in-out;&.is-collapse{opacity:0;}}"]);var qe=t(43980),rt=t(27940),pt=t(4091),et=t(65155);const Ct=V=>/\/app\/experience\//.test(V),Pt=V=>/\/app\/design\//.test(V),Lt=V=>/\/app\//.test(V)&&!Ct(V)&&!Pt(V);class Mt extends j.PureComponent{constructor(k){var U;super(k),U=this,(0,n.Z)(this,"mousewheelHandle",ie=>{const ye=ie.deltaX||ie.wheelDeltaX;if(!ye)return;const Se=document.getElementById("workspace"),Pe=Se.scrollLeft+Se.offsetWidth===Se.scrollWidth&&ye>0,be=Se.scrollLeft===0&&ye<0;(Pe||be)&&ie.preventDefault()}),(0,n.Z)(this,"playDesignPageLeaveAnimation",function(ie){return ie===void 0&&(ie=200),U.setState({isDesignCollapse:!0}),new Promise(ye=>setTimeout(ye,ie))}),(0,n.Z)(this,"handleBackButtonClick",async()=>{var ie;if((0,et._$)()){(0,et.gB)(et.Kk.enterPreview);return}const{initialData:{goback_url:ye}}=this.props;await this.playDesignPageLeaveAnimation(),location.replace(ye||"/dashboard/"+(((ie=MB.currentOrg)==null?void 0:ie.cid)||"me"))}),(0,n.Z)(this,"handlePlayButtonClick",async(ie,ye,Se)=>{let{isInspect:Pe,isComment:be}=Se;await this.playDesignPageLeaveAnimation();const De={previewMode:Pe?"inspect":be?"comment":"preview",projectCid:ie,screenCid:ye};this.setState({isPreview:!0,previewData:De})}),(0,n.Z)(this,"handleDesignDidMount",()=>{this.setState({isLoading:!1,isDesignCollapse:!1})}),(0,n.Z)(this,"handleBackToDesign",()=>{this.setState({isPreview:!1,isDesignCollapse:!1})}),(0,n.Z)(this,"keyboardManager",new nt.Sm),this.state={isLoading:!0,isDataLoaded:!1,isDesignCollapse:!0,isPreview:!1,previewData:null,projectAlike:null,projectMeta:null};const{popupHelper:W,designOptions:Y,api:J,initialData:ee,prepareProjectUpper:he}=k,{requestData:me,renderDesign:de,renderPreview:Ee}=(0,st.a7)({api:J,popupHelper:W,experienceLoginModalHelper:ft.m,initialData:ee,designOptions:Y,prepareProjectUpper:he,onBackButtonClick:this.handleBackButtonClick,onPlayButtonClick:this.handlePlayButtonClick,onComponentDidMount:this.handleDesignDidMount});this.requestData=me,this.renderDesign=de}componentDidMount(){const k=performance.now(),{projectUpperCid:U,initialData:W,designOptions:Y}=this.props;let J=!1;location.pathname.includes((0,pt.S3)("review"))&&(J=!0),Promise.all([this.requestData(U,J),new Promise(he=>setTimeout(he,800))]).then(he=>{let[{projectAlike:me,projectMeta:de}]=he;this.setState({projectAlike:me,projectMeta:de},()=>{this.setState({isDataLoaded:!0})});const Ee=performance.now(),ie=Math.ceil((Ee-k)/1e3);typeof Ie.U1=="function"&&(0,Ie.U1)("load_success_project",{load_time:ie,project_name:W.projectName,project_cid:U,project_type:"\u539F\u578B V8",success:1,source:Y.isExperience?"\u7D20\u6750\u5E7F\u573A-\u7F16\u8F91\u539F\u578B":window.opener?document.referrer&&Lt(new URL(document.referrer))?"hover \u7F16\u8F91\u6309\u94AE":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u7F16\u8F91":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u65B0\u6807\u7B7E\u9875\u7F16\u8F91",preview_type:"\u7F16\u8F91\u6A21\u5F0F"}),ie>30&&(0,qe.uT)("\u7F16\u8F91\u533A----\u9879\u76EE\u6253\u5F00\u8D85\u8FC730s")}).catch(he=>{console.error("[ExampleApp] requestData failed",he),typeof Ie.U1=="function"&&(0,Ie.U1)("load_success_project",{project_type:"\u539F\u578B V8",success:0,error_type:he,preview_type:"\u7F16\u8F91\u6A21\u5F0F"})});const ee=document.getElementById("workspace");ee&&ee.addEventListener("mousewheel",this.mousewheelHandle)}componentWillUnmount(){const k=document.getElementById("workspace");k&&k.removeEventListener("mousewheel",this.mousewheelHandle,{capture:!0})}render(){const{screenCid:k,designOptions:U}=this.props,{isLoading:W,isDataLoaded:Y,isDesignCollapse:J,isPreview:ee,previewData:he,projectAlike:me,projectMeta:de}=this.state,{renderDesign:Ee,handleBackToDesign:ie,renderPreview:ye}=this,{isWonderShare:Se}=U;let Pe=!1;return location.pathname.includes((0,pt.S3)("review"))&&(Pe=!0),(0,d.jsx)(nt.XC.Provider,{value:this.keyboardManager,children:(0,d.jsx)(bt.Z,{children:(0,d.jsxs)(tt,{className:"example-app",children:[Y&&(0,d.jsx)(j.Fragment,{children:(0,d.jsx)(Ne.Z,{screenCid:k,isCollapse:J,projectAlike:me,projectMeta:de,renderDesign:Ee,isFromReadOnly:Pe})}),W&&(0,d.jsx)(g.Z,{className:"mb-loading",isNormal:Se})]})})})}}(0,n.Z)(Mt,"propTypes",{api:C().object,initialData:C().object,projectUpperCid:C().string,screenCid:C().string,designOptions:C().object,prepareProjectUpper:C().func,popupHelper:C().object});class Xt extends j.PureComponent{constructor(k){var U;super(k),U=this,(0,n.Z)(this,"playDesignPageLeaveAnimation",function(Ce){return Ce===void 0&&(Ce=200),U.setState({isDesignCollapse:!0}),new Promise(De=>setTimeout(De,Ce))}),(0,n.Z)(this,"handleBackButtonClick",async()=>{var Ce;if((0,et._$)()){(0,et.gB)(et.Kk.enterPreview);return}const{initialData:{goback_url:De}}=this.props;await this.playDesignPageLeaveAnimation(),location.replace(De||"/dashboard/"+(((Ce=MB.currentOrg)==null?void 0:Ce.cid)||"me"))}),(0,n.Z)(this,"handlePlayButtonClick",async(Ce,De,Fe)=>{let{isInspect:$e,isComment:at}=Fe;await this.playDesignPageLeaveAnimation();const gt={previewMode:$e?"inspect":at?"comment":"preview",projectCid:Ce,screenCid:De};this.setState({isPreview:!0,previewData:gt})}),(0,n.Z)(this,"handleDesignDidMount",()=>{this.setState({isLoading:!1,isDesignCollapse:!1})}),(0,n.Z)(this,"handleBackToDesign",()=>{this.setState({isPreview:!1,isDesignCollapse:!1})}),(0,n.Z)(this,"keyboardManager",new nt.Sm),this.state={isLoading:!0,isDataLoaded:!1,isDesignCollapse:!0,isPreview:!1,previewData:null,projectAlike:null,projectMeta:null,projectShare:void 0};const{popupHelper:W,designOptions:Y,api:J,initialData:ee,prepareProjectUpper:he,sharing:me,password:de,isHtmlZip:Ee,isSquare:ie,isEmbedV2:ye}=k,Se=!(Ee||ie||ye),{requestData:Pe,renderDesign:be}=(0,st.nr)({api:J,popupHelper:W,experienceLoginModalHelper:ft.m,initialData:ee,designOptions:Y,prepareProjectUpper:he,onBackButtonClick:this.handleBackButtonClick,onPlayButtonClick:this.handlePlayButtonClick,onComponentDidMount:this.handleDesignDidMount,sharing:me,password:de,showGuide:Se});this.requestData=Pe,this.renderDesign=be}componentDidMount(){const k=performance.now(),{projectUpperCid:U,initialData:W,designOptions:Y}=this.props;let J=!1;location.pathname.includes((0,pt.S3)("review"))&&(J=!0),Promise.all([this.requestData(U,J),new Promise(ee=>setTimeout(ee,800))]).then(ee=>{let[{projectAlike:he,projectMeta:me,projectShare:de}]=ee;this.setState({projectAlike:he,projectMeta:me,projectShare:de},()=>{this.setState({isDataLoaded:!0})});const Ee=performance.now(),ie=Math.ceil((Ee-k)/1e3);typeof Ie.U1=="function"&&(0,Ie.U1)("load_success_project",{load_time:ie,project_name:W.projectName,project_cid:U,project_type:"\u539F\u578B V8",success:1,source:Y.isExperience?"\u7D20\u6750\u5E7F\u573A-\u7F16\u8F91\u539F\u578B":window.opener?document.referrer&&Lt(new URL(document.referrer))?"hover \u7F16\u8F91\u6309\u94AE":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u7F16\u8F91":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u65B0\u6807\u7B7E\u9875\u7F16\u8F91",preview_type:"\u53EA\u8BFB\u6A21\u5F0F"}),ie>30&&(0,qe.uT)("\u7F16\u8F91\u533A----\u9879\u76EE\u6253\u5F00\u8D85\u8FC730s")}).catch(ee=>{console.error("[ExampleApp] requestData failed",ee),typeof Ie.U1=="function"&&(0,Ie.U1)("load_success_project",{project_type:"\u539F\u578B V8",success:0,error_type:ee,preview_type:"\u53EA\u8BFB\u6A21\u5F0F"})})}render(){const{screenCid:k,designOptions:U,isHtmlZip:W}=this.props,{isLoading:Y,isDataLoaded:J,isDesignCollapse:ee,projectAlike:he,projectMeta:me,projectShare:de}=this.state,{renderDesign:Ee}=this,{isWonderShare:ie}=U;return de!=null&&de.screen_visible_switch&&(de==null?void 0:de.screen_visible_list.length)===0?(0,d.jsx)(w.Z,{errorType:404,customTitle:I18N.dModule.zero_screen_err_title,customDes:I18N.dModule.zero_screen_err_des,isShowSecondaryBtn:!1,primaryClick:()=>backToHomePageWithSaTrack("zh-CN","\u539F\u578B-\u5206\u4EAB\u94FE\u63A5\u9875\u9762\u4E3A\u7A7A")}):(0,d.jsx)(nt.XC.Provider,{value:this.keyboardManager,children:(0,d.jsx)(bt.Z,{children:(0,d.jsxs)(tt,{className:"example-app",children:[J&&(0,d.jsx)(j.Fragment,{children:(0,d.jsx)(rt.R,{screenCid:k,isCollapse:ee,projectAlike:he,projectMeta:me,renderDesign:Ee,projectShare:de,isHtmlZip:W})}),Y&&(0,d.jsx)(g.Z,{className:"mb-loading",isNormal:ie})]})})})}}(0,n.Z)(Xt,"propTypes",{api:C().object,initialData:C().object,projectUpperCid:C().string,screenCid:C().string,designOptions:C().object,prepareProjectUpper:C().func,popupHelper:C().object,sharing:C().object,password:C().string,isHtmlZip:C().bool,isSquare:C().bool,isEmbedV2:C().bool});class mr extends j.PureComponent{constructor(k){var U;super(k),U=this,(0,n.Z)(this,"playDesignPageLeaveAnimation",function(De){return De===void 0&&(De=200),U.setState({isDesignCollapse:!0}),new Promise(Fe=>setTimeout(Fe,De))}),(0,n.Z)(this,"handleBackButtonClick",async()=>{var De;if((0,et._$)()){(0,et.gB)(et.Kk.enterPreview);return}const{initialData:{goback_url:Fe}}=this.props;await this.playDesignPageLeaveAnimation(),location.replace(Fe||"/dashboard/"+(((De=MB.currentOrg)==null?void 0:De.cid)||"me"))}),(0,n.Z)(this,"handlePlayButtonClick",async(De,Fe,$e)=>{let{isInspect:at,isComment:mt}=$e;await this.playDesignPageLeaveAnimation();const Ot={previewMode:at?"inspect":mt?"comment":"preview",projectCid:De,screenCid:Fe};this.setState({isPreview:!0,previewData:Ot})}),(0,n.Z)(this,"handleDesignDidMount",()=>{this.setState({isLoading:!1,isDesignCollapse:!1})}),(0,n.Z)(this,"handleBackToDesign",()=>{this.setState({isPreview:!1,isDesignCollapse:!1})}),(0,n.Z)(this,"keyboardManager",new nt.Sm),this.state={isLoading:!0,isDataLoaded:!1,isDesignCollapse:!0,isPreview:!1,previewData:null,projectAlike:null,projectMeta:null,projectShare:void 0};const{popupHelper:W,designOptions:Y,api:J,initialData:ee,prepareProjectUpper:he,sharing:me,password:de,isHtmlZip:Ee,isSquare:ie,isEmbedV2:ye,projectVersion:Se}=k,Pe=!(Ee||ie||ye),{requestData:be,renderDesign:Ce}=(0,st.oI)({api:J,popupHelper:W,experienceLoginModalHelper:ft.m,initialData:ee,designOptions:Y,prepareProjectUpper:he,onBackButtonClick:this.handleBackButtonClick,onPlayButtonClick:this.handlePlayButtonClick,onComponentDidMount:this.handleDesignDidMount,sharing:me,password:de,showGuide:Pe,projectVersion:Se});this.requestData=be,this.renderDesign=Ce,MB.isVersion=!0}componentDidMount(){const k=performance.now(),{projectUpperCid:U,initialData:W,designOptions:Y}=this.props;let J=!1;location.pathname.includes((0,pt.S3)("review"))&&(J=!0),Promise.all([this.requestData(U,J),new Promise(ee=>setTimeout(ee,800))]).then(ee=>{let[{projectAlike:he,projectMeta:me,projectShare:de}]=ee;this.setState({projectAlike:he,projectMeta:me,projectShare:de},()=>{this.setState({isDataLoaded:!0})});const Ee=performance.now(),ie=Math.ceil((Ee-k)/1e3);typeof Ie.U1=="function"&&(0,Ie.U1)("load_success_project",{load_time:ie,project_name:W.projectName,project_cid:U,project_type:"\u539F\u578B V8",success:1,source:Y.isExperience?"\u7D20\u6750\u5E7F\u573A-\u7F16\u8F91\u539F\u578B":window.opener?document.referrer&&Lt(new URL(document.referrer))?"hover \u7F16\u8F91\u6309\u94AE":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u7F16\u8F91":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u65B0\u6807\u7B7E\u9875\u7F16\u8F91",preview_type:"\u7248\u672C\u7BA1\u7406"}),ie>30&&(0,qe.uT)("\u7F16\u8F91\u533A----\u9879\u76EE\u6253\u5F00\u8D85\u8FC730s")}).catch(ee=>{console.error("[ExampleApp] requestData failed",ee),typeof Ie.U1=="function"&&(0,Ie.U1)("load_success_project",{project_type:"\u539F\u578B V8",success:0,error_type:ee,preview_type:"\u7248\u672C\u7BA1\u7406"})})}render(){const{screenCid:k,designOptions:U,isHtmlZip:W}=this.props,{isLoading:Y,isDataLoaded:J,isDesignCollapse:ee,projectAlike:he,projectMeta:me,projectShare:de}=this.state,{renderDesign:Ee}=this,{isWonderShare:ie}=U;return de!=null&&de.screen_visible_switch&&(de==null?void 0:de.screen_visible_list.length)===0?(0,d.jsx)(w.Z,{errorType:404,customTitle:I18N.dModule.zero_screen_err_title,customDes:I18N.dModule.zero_screen_err_des,isShowSecondaryBtn:!1,primaryClick:()=>backToHomePageWithSaTrack("zh-CN","\u539F\u578B-\u5206\u4EAB\u94FE\u63A5\u9875\u9762\u4E3A\u7A7A")}):(0,d.jsx)(nt.XC.Provider,{value:this.keyboardManager,children:(0,d.jsx)(bt.Z,{children:(0,d.jsxs)(tt,{className:"example-app",children:[J&&(0,d.jsx)(j.Fragment,{children:(0,d.jsx)(rt.R,{screenCid:k,isCollapse:ee,projectAlike:he,projectMeta:me,renderDesign:Ee,projectShare:de,isHtmlZip:W})}),Y&&(0,d.jsx)(g.Z,{className:"mb-loading",isNormal:ie})]})})})}}(0,n.Z)(mr,"propTypes",{api:C().object,initialData:C().object,projectUpperCid:C().string,screenCid:C().string,designOptions:C().object,prepareProjectUpper:C().func,popupHelper:C().object,sharing:C().object,password:C().string,isHtmlZip:C().bool,isSquare:C().bool,isEmbedV2:C().bool,projectVersion:C().string});class vr extends j.PureComponent{constructor(k){var U;super(k),U=this,(0,n.Z)(this,"playDesignPageLeaveAnimation",function(Ce){return Ce===void 0&&(Ce=200),U.setState({isDesignCollapse:!0}),new Promise(De=>setTimeout(De,Ce))}),(0,n.Z)(this,"handleBackButtonClick",async()=>{var Ce;if((0,et._$)()){(0,et.gB)(et.Kk.enterPreview);return}const{initialData:{goback_url:De}}=this.props;await this.playDesignPageLeaveAnimation(),location.replace(De||"/dashboard/"+(((Ce=MB.currentOrg)==null?void 0:Ce.cid)||"me"))}),(0,n.Z)(this,"handlePlayButtonClick",async(Ce,De,Fe)=>{let{isInspect:$e,isComment:at}=Fe;await this.playDesignPageLeaveAnimation();const gt={previewMode:$e?"inspect":at?"comment":"preview",projectCid:Ce,screenCid:De};this.setState({isPreview:!0,previewData:gt})}),(0,n.Z)(this,"handleDesignDidMount",()=>{this.setState({isLoading:!1,isDesignCollapse:!1})}),(0,n.Z)(this,"handleBackToDesign",()=>{this.setState({isPreview:!1,isDesignCollapse:!1})}),(0,n.Z)(this,"keyboardManager",new nt.Sm),this.state={isLoading:!0,isDataLoaded:!1,isDesignCollapse:!0,isPreview:!1,previewData:null,projectAlike:null,projectMeta:null};const{popupHelper:W,designOptions:Y,api:J,initialData:ee,prepareProjectUpper:he,sharing:me,password:de,isHtmlZip:Ee,isSquare:ie,isEmbedV2:ye}=k,Se=!(Ee||ie||ye),{requestData:Pe,renderDesign:be}=(0,st.lS)({api:J,popupHelper:W,experienceLoginModalHelper:ft.m,initialData:ee,designOptions:Y,prepareProjectUpper:he,onBackButtonClick:this.handleBackButtonClick,onPlayButtonClick:this.handlePlayButtonClick,onComponentDidMount:this.handleDesignDidMount,sharing:me,password:de,showGuide:Se});this.requestData=Pe,this.renderDesign=be}componentDidMount(){const k=performance.now(),{projectUpperCid:U,initialData:W,designOptions:Y}=this.props;Promise.all([this.requestData(U),new Promise(J=>setTimeout(J,800))]).then(J=>{let[{projectAlike:ee,projectMeta:he}]=J;this.setState({projectAlike:ee,projectMeta:he},()=>{this.setState({isDataLoaded:!0})});const me=performance.now(),de=Math.ceil((me-k)/1e3);typeof Ie.U1=="function"&&(0,Ie.U1)("load_success_project",{load_time:de,project_name:W.projectName,project_cid:U,project_type:"\u539F\u578B V8",success:1,source:Y.isExperience?"\u7D20\u6750\u5E7F\u573A-\u7F16\u8F91\u539F\u578B":window.opener?document.referrer&&Lt(new URL(document.referrer))?"hover \u7F16\u8F91\u6309\u94AE":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u7F16\u8F91":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u65B0\u6807\u7B7E\u9875\u7F16\u8F91"}),de>30&&(0,qe.uT)("\u7F16\u8F91\u533A----\u9879\u76EE\u6253\u5F00\u8D85\u8FC730s")}).catch(J=>{console.error("[ExampleApp] requestData failed",J),typeof Ie.U1=="function"&&(0,Ie.U1)("load_success_project",{project_type:"\u539F\u578B V8",success:0,error_type:J})})}render(){const{screenCid:k,designOptions:U,isHtmlZip:W}=this.props,{isLoading:Y,isDataLoaded:J,isDesignCollapse:ee,projectAlike:he,projectMeta:me}=this.state,{renderDesign:de}=this,{isWonderShare:Ee}=U;return(0,d.jsx)(nt.XC.Provider,{value:this.keyboardManager,children:(0,d.jsx)(bt.Z,{children:(0,d.jsxs)(tt,{className:"example-app",children:[J&&(0,d.jsx)(j.Fragment,{children:(0,d.jsx)(rt.R,{screenCid:k,isCollapse:ee,projectAlike:he,projectMeta:me,renderDesign:de,isHtmlZip:W})}),Y&&(0,d.jsx)(g.Z,{className:"mb-loading",isNormal:Ee})]})})})}}(0,n.Z)(vr,"propTypes",{api:C().object,initialData:C().object,projectUpperCid:C().string,screenCid:C().string,designOptions:C().object,prepareProjectUpper:C().func,popupHelper:C().object,sharing:C().object,password:C().string,isHtmlZip:C().bool,isSquare:C().bool,isEmbedV2:C().bool});var Mr=t(92029);const rr="hzv3",Pr="pid",Jr="pbj",Qr="psol",Nr="psv2am",pn=()=>isBasicObject(window[TAG_HTML_ZIP_V3]),yr=()=>(0,Mr.hK)(window[rr],"missing htmlZipV3 data"),qr=async()=>(yr(),window[rr][Pr]),Fr=async()=>{yr();const{project_basic:V,screen_aligns:k,project_metas:U,screen_glues:W,screen_metas:Y}=window[rr][Jr];return{projectBasic:V,screenAlignList:k,projectMetaList:U,screenGlueList:W,screenMetaList:Y,projectScreenObjectList:window[rr][Qr]}},en=async()=>(yr(),{artboards:Object.values(window[rr][Nr]).map(V=>{let{artboard:k}=V;return k})}),tn=async V=>(yr(),window[rr][Nr][V]),hn=async()=>{yr();const{project_share:V}=window[TAG_HTML_ZIP_V3][TAG_PROJECT_BASIC_JSON];return{projectShare:V}},Gr={requestPreviewInitialData:qr,requestProjectFullDataByAccessToken:async V=>{let{projectEncryptedPassword:k}=V;const{projectMetaList:[U],screenGlueList:W,screenMetaList:Y,projectScreenObjectList:J,projectBasic:ee,screenAlignList:he}=await Fr(),{password:me}=ee;if(me&&k!==me)throw new Error("error password");return{projectMeta:U,screenGlueList:W,screenMetaList:Y,projectScreenObjectList:J,projectBasic:ee,screenAlignList:he}},requestSketchArtboardList:en,requestSketchArtboardById:tn,requestProjectShare:async V=>({projectShare:{screen_visible_switch:!1,screen_visible_list:[]}}),fetchDataProjectBasic:Fr};var Hr=t(61134),rn=t(46131),nn=t(47518);t.p="./mb-proto2/";const on=document.getElementById("workspace"),sn=async()=>{var V;const k=dr({isHTMLZip:!0});(0,ut.tq)()&&$("body").addClass("mobile");let U=await(0,D.vn)();const{isOnPremises:W,isWonderShare:Y,projectUpper:J,projectMeta:ee}=U;U={...U,projectName:J.name,is_on_premises:W,is_wonder_share:Y,project_basic:J,project_meta:ee};const he=(0,nn.D)({project:J}),{locale:me,projectName:de,is_on_premises:Ee,is_wonder_share:ie}=U,ye=await(0,rn.Q)(me);document.title=""+(0,le.FQ)(J.name||J.title),!Ee&&(0,Ie.wb)(),(0,Hr.N_)("isOnPremises",!!Ee),(0,Hr.N_)("isWonderShare",!!ie);const{projectAccessToken:Se,projectEncryptedPassword:Pe,isPasswordRequired:be}=U,Ce=(V=new URLSearchParams(location.search))==null?void 0:V.get("view_mode"),De=window.HZv5_PREVIEW_MODE||"";if(Ce?Ce==="device":De==="device")(0,At.v)(ye,de),await He({initialData:U,previewOptions:k,api:Gr,projectAccessToken:Se,projectEncryptedPassword:Pe,isPasswordRequired:be,sharing:he,$root:document.getElementById("workspace")});else{const mt={isDesign:!0,isExperience:!1,isLoggedExperience:!1,isOnPremises:!!Ee,isWonderShare:!!ie,guideType:void 0};y.render((0,d.jsx)(vr,{initialData:U,designOptions:mt,api:Gr,projectAccessToken:Se,projectEncryptedPassword:Pe,isPasswordRequired:be,sharing:he,isHtmlZip:!0}),on)}};document.addEventListener("DOMContentLoaded",async()=>{await sn()})},78467:(G,B,t)=>{"use strict";t.d(B,{HM:()=>c,mB:()=>n});var y=t(77276),D=t(45090),w=t(46198),j=t(95534),h=t(25797),R=t(35269);const i=document.getElementById("workspace"),s=(0,D.createGlobalStyle)([".btn-list{display:flex;flex-direction:row-reverse;justify-content:center;.primary{margin-left:20px;}.regular{margin-left:0 !important;}}"]),S=(_,f,m)=>{ReactDOM.render(_jsxs(_Fragment,{children:[_jsx(s,{}),_jsx(CrashedPage,{errorType:_.status||401,customTitle:f,customDes:m})]}),i)},n=async _=>{var f;let m,b,a,o,e;try{({user:e}=await(0,h.EE)("/api/web/v3/initial"))}catch(r){m=()=>{w.render((0,R.jsx)(j.Z,{isOpen:!0,type:"signin",source:"proto-org-preview",onConfirm:()=>location.reload()}),document.getElementById("IBOT_MODAL_ROOT"))},b="\u767B\u5F55",o=()=>{w.render((0,R.jsx)(j.Z,{isOpen:!0,type:"signup",source:"proto-org-preview",onConfirm:()=>location.reload()}),document.getElementById("IBOT_MODAL_ROOT"))},a="\u6CE8\u518C",e={}}w.render((0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(s,{}),(0,R.jsx)(y.Z,{errorType:_.status||401,identity:1,account:(f=e)==null?void 0:f.email,primaryBtnText:b,primaryBtnClick:m,secondaryBtnText:a,secondaryBtnClick:o})]}),i)},c=(_,f)=>{let m="";_==="zh-CN"?m="/":_==="jp"?m="https://mockitt.wondershare.jp":m="https://mockitt.wondershare.com",location.replace(m)}},57690:(G,B,t)=>{"use strict";t.d(B,{F:()=>D,b:()=>w});var y=t(45090);const D=(0,y.createGlobalStyle)(["::-webkit-scrollbar-track{background-color:transparent;}::-webkit-scrollbar{width:6px;height:6px;}::-webkit-scrollbar-thumb{background-color:",";border-radius:4px;&:hover{background-color:",";}}::-webkit-scrollbar-corner{background-color:transparent;}.widget.panel{::-webkit-scrollbar-thumb{background-color:#d2d2d8;&:hover{background-color:",";}}}"],j=>j.theme.color_background_split,j=>j.theme.color_background_split_hover,j=>j.theme.color_background_split_hover),w=(0,y.createGlobalStyle)([".ModalPortal,.CoreModalPortal,.OverlayPortal{min-width:initial !important;}"])},52378:(G,B,t)=>{"use strict";t.d(B,{$M:()=>n,Ai:()=>f,EJ:()=>e,Mc:()=>b,Ps:()=>c,bN:()=>a,iw:()=>_,rG:()=>m});var y=t(170),D=t(26131),w=t(2888),j=t(22246),h=t(66918),R=t(13738),i=t(19635),s=t(69432),S=t(60731);const n=r=>y[r]||null,c=r=>{let{prefix:l,iconName:v}=r;switch(l){case"fab":return D[v];case"far":return w[v];case"fas":return j[v];default:return null}},_=r=>{if(h[r])return h[r];throw new Error("iconCat and iconId is undefined")},f=r=>{if(R[r])return R[r];throw new Error("iconCat and iconId is undefined")},m=r=>{if(i[r])return i[r];throw new Error("iconCat and iconId is undefined")},b=r=>{if(s[r])return s[r];throw new Error("iconCat and iconId is undefined")},a=r=>{if(S[r])return S[r];throw new Error("iconCat and iconId is undefined")},o=(r,l,v)=>{if(r&&(l!=="unset"||v)){let P=v?"url(#"+v+")":l;const C=r.children;C&&C.length>0&&C.forEach(M=>{const d=M.getAttribute("fill"),L=M.getAttribute("stroke");L&&L!=="none"?(M.setAttribute("stroke",P),(!d||d==="none")&&M.setAttribute("fill","none")):d&&d!=="none"?(M.setAttribute("fill",P),(!L||L==="none")&&M.setAttribute("stroke","none")):!d&&!L&&M.setAttribute("fill",P),o(M,P)})}},e=(r,l,v)=>{const P='<svg xmlns="http://www.w3.org/2000/svg">'+r+"</svg>",M=new DOMParser().parseFromString(P,"text/html"),d=M.querySelector("svg");return M.querySelector("parsererror")?r:(o(d,l,v),d.innerHTML)}},48290:(G,B,t)=>{"use strict";t.d(B,{C:()=>w,S:()=>j});var y=t(94189);const D=h=>("0"+parseInt(h).toString(16)).slice(-2),w=h=>!h||h==="rgba(0, 0, 0, 0)"||h==="transparent"?"transparent":(h=h.match(/^rgb[a]*\((\d+),\s*(\d+),\s*(\d+)/),"#"+D(h[1])+D(h[2])+D(h[3])),j=h=>(0,y.LW)((0,y.LS)(h))},21800:(G,B,t)=>{"use strict";t.d(B,{$e:()=>o,KR:()=>n,SP:()=>m,Ur:()=>i,W_:()=>S,_4:()=>s,ih:()=>e,nJ:()=>c,oe:()=>R});var y=t(18582),D=t(54635);const w="Italic",j=500,h={invisible:0,thin:100,extraLight:200,light:300,regular:400,medium:500,semiBold:600,bold:700,extraBold:800,black:900,extraBlack:1e3},R={12:17,13:19,14:20,16:23,18:25,20:28,28:39,36:50,48:68,72:101},i=(r,l)=>{const v=h[r]||400;return l?Math.max(v,700):v},s=r=>{let l;return Object.entries(h).every(v=>{let[P,C]=v;return C===r?(l=P,!1):!0}),l||"regular"},S=r=>r.includes(w)?r.replace(w,""):r,n=r=>r.includes(w),c=r=>{const l=S(r);return h[l]>=j},_=y.filter(r=>{let{isShowOnMBServer:l}=r;return!l}),f=r=>{let{label:l,family:v,limitedDevices:P}=r;return{label:l,value:v,limitedDevices:P}},m=_.map(f),b=r=>r.includes(w)?""+I18N.dUtils.rich_text_settings.weight[r.replace(w,"")]+I18N.dUtils.rich_text_settings.weight.italic:I18N.dUtils.rich_text_settings.weight[r],a=r=>{const l=y.find(v=>{let{family:P}=v;return P===r});return l?l.typeList.map(v=>({label:b(v),value:v})):[]},o=(r,l)=>{const v=_.find(P=>{let{family:C}=P;return C===r});return v?v.label+"-"+b(l):r+"-"+l},e=(0,D.LL)(a)},2909:(G,B,t)=>{"use strict";t.d(B,{CB:()=>j,Kd:()=>w,No:()=>D});var y=t(41768);const D=h=>{switch(h){case"iphone":case"ipad":case"apple_watch":return"ios";case"android":return"android";default:return"others"}},w=(h,R)=>{let{width:i,orientation:s}=R;const S=s==="landscape";let n="customize";return!S&&h.width===i||S&&h.height===i?n=h.device:Object.entries(y.YE).forEach(c=>{let[_]=c;(!S&&_.width===i||S&&_.height===i)&&(n=_.device)}),!h.template&&!h.combo&&["android","ipad","iphone"].includes(h.device)&&["android","ipad","iphone"].includes(n)},j=h=>!h.template&&!h.combo&&["android","ipad","iphone"].includes(h.device)},33258:(G,B,t)=>{"use strict";t.d(B,{SZ:()=>j,WP:()=>R,Wi:()=>h});var y=t(2909),D=t(18166),w=t(70423);const j=s=>{let{screenGlue:S,project:n,screen:c}=s;return S.type==="project-main"&&(n.width===c.width&&c.height>=n.height||n.height===c.width&&c.height>=n.width)},h=(s,S)=>{const n=(0,y.No)(S),c=s.orientation;return"mb-screen "+((0,w.V5)()?"mac":(0,w.ED)()?"windows":"other-os")+" "+n+" "+S+" "+c},R=(s,S)=>{const c=(0,D.YC)(s.sup||"root",S).children.map(m=>m.data),f=c.findIndex(m=>m.cid===s.key)+1;c.splice(f,0,null),c.forEach((m,b)=>{if(m&&(m.sup!==s.sup||m.zIndex!==b+1)){const a=sdkStore.getHotItem(m.cid),o={...a,hotAttr:{...a.hotAttr,zIndex:b+1}};sdkStore.updateHotItem(o)}})},i=s=>s.attr instanceof Object&&!!s.attr.bgcolor},21586:(G,B,t)=>{"use strict";t.d(B,{R:()=>w});var y=t(18166),D=t(29661);const w=h=>{const R=new Set(h.map(i=>i.cid));return h.filter(i=>!R.has(i.parent_cid)).sort((i,s)=>i.position-s.position)[0]},j=h=>{const{screenTreeData:R}=generateScreenDataEssentials(h);return findHomeScreenPageTreeNode(R)}},1e3:(G,B,t)=>{"use strict";t.d(B,{Mn:()=>n,U1:()=>j,tv:()=>R,wb:()=>w});var y=t(66914);const D=function(){if(!window.dataLayer||!Array.isArray(window.dataLayer))return!1;const c=arguments.length<=0?void 0:arguments[0];let _=arguments.length<=1?void 0:arguments[1];Object.prototype.toString.call(_)!=="[object Object]"&&(console.warn("ga data's type is not object, and data is",_),_={});const f={};Object.entries(_).forEach(m=>{let[b,a]=m;f["mockitt_"+b]=a}),window.dataLayer.push({event:"saas_interaction",event_action:c,...f})},w=ENV.NO_TRACK?()=>{}:y.wb,j=ENV.NO_TRACK?()=>{}:function(){(0,y.U1)(...arguments)},h=ENV.NO_TRACK?()=>{}:c=>{let{paramName:_,defaultValue:f,valueType:m,callback:b}=c;return(0,y.be)({paramName:_,defaultValue:f,valueType:m,callback:b})},R=ENV.NO_TRACK?()=>{}:y.pj,i=ENV.IS_WONDER_SHARE?c=>{if(!window.gtag)return console.error("gtag is not a function");window.gtag("config","UA-4839360-64",{user_id:c,transport_type:"beacon"})}:()=>{},s={"https://mockittapp.wondershare.com/proto":"B3-V8\u539F\u578B\u5185\u5206\u4EAB"},S=()=>{const c=Object.keys(s).sort((_,f)=>f.length-_.length);return s[c.find(_=>window.location.href.indexOf(_)!==-1)]},n=async c=>{try{await fetch("https://mockittapp.wondershare.com/invite_track?entry="+S()+"&entry_term="+c)}catch(_){console.error(_)}}},70423:(G,B,t)=>{"use strict";t.d(B,{B0:()=>_,CL:()=>h,Dt:()=>S,ED:()=>w,IF:()=>f,Md:()=>m,Rv:()=>j,V5:()=>D,_j:()=>b,d:()=>y,i7:()=>R,li:()=>a,tq:()=>s,vU:()=>i});const y=()=>window.MB_DESKTOP_VERSION||window.isElectron||/Electron/i.test(navigator.userAgent),D=()=>/(Macintosh)/i.test(navigator.userAgent),w=()=>/(Windows)/i.test(navigator.userAgent),j=()=>/(Lark)/i.test(navigator.userAgent),h=()=>/MicroMessenger/i.test(navigator.userAgent),R=()=>/Chrome/i.test(navigator.userAgent),i=()=>/Firefox/i.test(navigator.userAgent),s=()=>/(iPod|iPhone|iPad|Android|MobileClient)/.test(navigator.userAgent),S=()=>/Android/i.test(navigator.userAgent),n=()=>/(iPad)/.test(navigator.userAgent),c=()=>/(iPod|iPhone|iPad)/.test(navigator.userAgent),_=()=>!!(window.webkit&&window.webkit.messageHandlers),f=()=>navigator.standalone,m=()=>/\/uichina$/.test(location.pathname),b=()=>/\/forum$/.test(location.pathname),a=()=>/(MobileClient)/.test(navigator.userAgent)},39488:G=>{(function(B){var t,y={},D={16:!1,18:!1,17:!1,91:!1},w="all",j={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},h={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220,numpad_subtract:109,numpad_add:107,numpad_0:96,numpad_1:97,numpad_2:98},R=function(g){return h[g]||g.toUpperCase().charCodeAt(0)},i=[];for(t=1;t<20;t++)h["f"+t]=111+t;function s(g,T){for(var x=g.length;x--;)if(g[x]===T)return x;return-1}function S(g,T){if(g.length!=T.length)return!1;for(var x=0;x<g.length;x++)if(g[x]!==T[x])return!1;return!0}var n={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function c(g){for(t in D)D[t]=g[n[t]]}function _(g){var T,x,X,oe,ne,fe;if(T=g.keyCode,s(i,T)==-1&&i.push(T),(T==93||T==224)&&(T=91),T in D){D[T]=!0;for(X in j)j[X]==T&&(b[X]=!0);return}if(c(g),!!b.filter.call(this,g)&&T in y){for(fe=P(),oe=0;oe<y[T].length;oe++)if(x=y[T][oe],x.scope==fe||x.scope=="all"){ne=x.mods.length>0;for(X in D)(!D[X]&&s(x.mods,+X)>-1||D[X]&&s(x.mods,+X)==-1)&&(ne=!1);(x.mods.length==0&&!D[16]&&!D[18]&&!D[17]&&!D[91]||ne)&&(b.track.call(this,x),x.method(g,x)===!1&&(g.preventDefault?g.preventDefault():g.returnValue=!1,g.stopPropagation&&g.stopPropagation(),g.cancelBubble&&(g.cancelBubble=!0)))}}}function f(g){var T=g.keyCode,x,X=s(i,T);if(X>=0&&i.splice(X,1),(T==93||T==224)&&(T=91),T in D){D[T]=!1;for(x in j)j[x]==T&&(b[x]=!1)}}function m(){for(t in D)D[t]=!1;for(t in j)b[t]=!1}function b(g,T,x){var X,oe;X=M(g),x===void 0&&(x=T,T="all");for(var ne=0;ne<X.length;ne++)oe=[],g=X[ne].split("+"),g.length>1&&(oe=d(g),g=[g[g.length-1]]),g=g[0],g=R(g),g in y||(y[g]=[]),y[g].push({shortcut:X[ne],scope:T,method:x,key:X[ne],mods:oe})}function a(g,T){var x,X,oe=[],ne,fe,Z;for(x=M(g),fe=0;fe<x.length;fe++){if(X=x[fe].split("+"),X.length>1&&(oe=d(X)),g=X[X.length-1],g=R(g),T===void 0&&(T=P()),!y[g])return;for(ne=0;ne<y[g].length;ne++)Z=y[g][ne],Z.scope===T&&S(Z.mods,oe)&&(y[g][ne]={})}}function o(g){return typeof g=="string"&&(g=R(g)),s(i,g)!=-1}function e(){return i.slice(0)}function r(g){var T=(g.target||g.srcElement).tagName;return!(T=="INPUT"||T=="SELECT"||T=="TEXTAREA")}function l(g){}for(t in j)b[t]=!1;function v(g){w=g||"all"}function P(){return w||"all"}function C(g){var T,x,X;for(T in y)for(x=y[T],X=0;X<x.length;)x[X].scope===g?x.splice(X,1):X++}function M(g){var T;return g=g.replace(/\s/g,""),T=g.split(","),T[T.length-1]==""&&(T[T.length-2]+=","),T}function d(g){for(var T=g.slice(0,g.length-1),x=0;x<T.length;x++)T[x]=j[T[x]];return T}function L(g,T,x){g.addEventListener?g.addEventListener(T,x,!1):g.attachEvent&&g.attachEvent("on"+T,function(){x(window.event)})}L(document,"keydown",function(g){_(g)}),L(document,"keyup",f),L(window,"focus",m);var K=B.key;function I(){var g=B.key;return B.key=K,g}B.key=b,B.key.setScope=v,B.key.getScope=P,B.key.deleteScope=C,B.key.filter=r,B.key.isPressed=o,B.key.getPressedKeyCodes=e,B.key.noConflict=I,B.key.unbind=a,B.key.track=l,G.exports=b})(window)},51575:(G,B,t)=>{G=t.nmd(G),function(){var y,D,w,j,h,R,i,s,S,n,c=[].slice,_=[].indexOf||function(a){for(var o=0,e=this.length;o<e;o++)if(o in this&&this[o]===a)return o;return-1},f=function(a,o){for(var e in o)m.call(o,e)&&(a[e]=o[e]);function r(){this.constructor=a}return r.prototype=o.prototype,a.prototype=new r,a.__super__=o.prototype,a},m={}.hasOwnProperty,b=function(a,o){return function(){return a.apply(o,arguments)}};w={bind:function(a,o){var e,r,l,v,P;for(r=a.split(" "),this.hasOwnProperty("_callbacks")||this._callbacks||(this._callbacks={}),l=0,v=r.length;l<v;l++)P=r[l],(e=this._callbacks)[P]||(e[P]=[]),this._callbacks[P].push(o);return this},one:function(a,o){var e;return this.bind(a,e=function(){return this.unbind(a,e),o.apply(this,arguments)})},trigger:function(){var a,o,e,r,l,v,P;if(a=1<=arguments.length?c.call(arguments,0):[],e=a.shift(),v=(P=this._callbacks)!=null?P[e]:void 0,!!v){for(r=0,l=v.length;r<l&&(o=v[r],o.apply(this,a)!==!1);r++);return!0}},listenTo:function(a,o,e){return a.bind(o,e),this.listeningTo||(this.listeningTo=[]),this.listeningTo.push({obj:a,ev:o,callback:e}),this},listenToOnce:function(a,o,e){var r,l;return l=this.listeningToOnce||(this.listeningToOnce=[]),a.bind(o,r=function(){var v,P,C,M,d;for(P=-1,v=C=0,M=l.length;C<M;v=++C)d=l[v],d.obj===a&&d.ev===o&&d.callback===r&&(P=v);return a.unbind(o,r),P!==-1&&l.splice(P,1),e.apply(this,arguments)}),l.push({obj:a,ev:o,callback:r}),this},stopListening:function(a,o,e){var r,l,v,P,C,M,d,L,K,I,g,T,x,X,oe,ne,fe,Z;if(arguments.length===0){for(ne=[this.listeningTo,this.listeningToOnce],C=0,L=ne.length;C<L;C++)if(T=ne[C],!!(T!=null&&T.length))for(M=0,K=T.length;M<K;M++)x=T[M],x.obj.unbind(x.ev,x.callback);this.listeningTo=void 0,this.listeningToOnce=void 0}else if(a){for(o=o?o.split(" "):[void 0],fe=[this.listeningTo,this.listeningToOnce],d=0,I=fe.length;d<I;d++)if(T=fe[d],!!T)for(X=0,g=o.length;X<g;X++)for(l=o[X],P=oe=Z=T.length-1;Z<=0?oe<=0:oe>=0;P=Z<=0?++oe:--oe)x=T[P],x.obj===a&&(e&&x.callback!==e||(!l||l===x.ev?(x.obj.unbind(x.ev,x.callback),P!==-1&&T.splice(P,1)):l&&(v=x.ev.split(" "),_.call(v,l)>=0&&(v=function(){var Q,ae,le;for(le=[],ae=0,Q=v.length;ae<Q;ae++)r=v[ae],r!==l&&le.push(r);return le}(),x.ev=y.trim(v.join(" ")),x.obj.unbind(l,x.callback)))))}return this},unbind:function(a,o){var e,r,l,v,P,C,M,d,L,K;if(arguments.length===0)return this._callbacks={},this;if(!a)return this;for(r=a.split(" "),v=0,C=r.length;v<C;v++)if(L=r[v],d=(K=this._callbacks)!=null?K[L]:void 0,!!d){if(!o){delete this._callbacks[L];continue}for(l=P=0,M=d.length;P<M;l=++P)if(e=d[l],e===o){d=d.slice(),d.splice(l,1),this._callbacks[L]=d;break}}return this}},w.on=w.bind,w.off=w.unbind,j={trace:!0,logPrefix:"(App)",log:function(){var a;if(a=1<=arguments.length?c.call(arguments,0):[],!!this.trace)return this.logPrefix&&a.unshift(this.logPrefix),typeof console<"u"&&console!==null&&typeof console.log=="function"&&console.log.apply(console,a),this}},n=["included","extended"],R=function(){a.include=function(o){var e,r,l;if(!o)throw new Error("include(obj) requires obj");for(e in o)l=o[e],_.call(n,e)<0&&(this.prototype[e]=l);return(r=o.included)!=null&&r.apply(this),this},a.extend=function(o){var e,r,l;if(!o)throw new Error("extend(obj) requires obj");for(e in o)l=o[e],_.call(n,e)<0&&(this[e]=l);return(r=o.extended)!=null&&r.apply(this),this},a.proxy=function(o){return function(e){return function(){return o.apply(e,arguments)}}(this)},a.prototype.proxy=function(o){return function(e){return function(){return o.apply(e,arguments)}}(this)};function a(){typeof this.init=="function"&&this.init.apply(this,arguments)}return a}(),h=function(a){f(o,a),o.extend(w),o.include(w),o.records=[],o.irecords={},o.attributes=[],o.configure=function(){var e,r;return r=arguments[0],e=2<=arguments.length?c.call(arguments,1):[],this.className=r,this.deleteAll(),e.length&&(this.attributes=e),this.attributes&&(this.attributes=S(this.attributes)),this.attributes||(this.attributes=[]),this.unbind(),this},o.toString=function(){return this.className+"("+this.attributes.join(", ")+")"},o.find=function(e,r){var l;return r==null&&(r=this.notFound),((l=this.irecords[e])!=null?l.clone():void 0)||(typeof r=="function"?r(e):void 0)},o.findAll=function(e,r){var l,v,P,C;for(C=[],v=0,P=e.length;v<P;v++)l=e[v],this.find(l,r)&&C.push(this.find(l));return C},o.notFound=function(e){return null},o.exists=function(e){return!!this.irecords[e]},o.addRecord=function(e,r){var l;return(l=this.irecords[e.id||e.cid])?l.refresh(e):(e.id||(e.id=e.cid),this.irecords[e.id]=this.irecords[e.cid]=e,r!==void 0?this.records.splice(r,0,e):this.records.push(e)),e},o.refresh=function(e,r){var l,v,P,C,M;for(r==null&&(r={}),r.clear&&this.deleteAll(),C=this.fromJSON(e),Array.isArray(C)||(C=[C]),l=0,v=C.length;l<v;l++)P=C[l],this.addRecord(P);return this.sort(),M=this.cloneArray(C),this.trigger("refresh",M,r),M},o.select=function(e){var r,l,v,P,C;for(P=this.records,C=[],r=0,l=P.length;r<l;r++)v=P[r],e(v)&&C.push(v.clone());return C},o.findByAttribute=function(e,r){var l,v,P,C;for(C=this.records,l=0,v=C.length;l<v;l++)if(P=C[l],P[e]===r)return P.clone();return null},o.findAllByAttribute=function(e,r){return this.select(function(l){return l[e]===r})},o.each=function(e){var r,l,v,P,C;for(P=this.records,C=[],r=0,l=P.length;r<l;r++)v=P[r],C.push(e(v.clone()));return C},o.all=function(){return this.cloneArray(this.records)},o.slice=function(e,r){return e==null&&(e=0),this.cloneArray(this.records.slice(e,r))},o.first=function(e){var r;return e==null&&(e=1),e>1?this.cloneArray(this.records.slice(0,e)):(r=this.records[0])!=null?r.clone():void 0},o.last=function(e){var r;return typeof e=="number"?this.cloneArray(this.records.slice(-e)):(r=this.records[this.records.length-1])!=null?r.clone():void 0},o.count=function(){return this.records.length},o.deleteAll=function(){return this.records=[],this.irecords={}},o.destroyAll=function(e){var r,l,v,P,C;for(P=this.records,C=[],r=0,l=P.length;r<l;r++)v=P[r],C.push(v.destroy(e));return C},o.update=function(e,r,l){return this.find(e).updateAttributes(r,l)},o.create=function(e,r){var l;return l=new this(e),l.save(r)},o.destroy=function(e,r){return this.find(e).destroy(r)},o.change=function(e){return typeof e=="function"?this.bind("change",e):this.trigger.apply(this,["change"].concat(c.call(arguments)))},o.fetch=function(e){return typeof e=="function"?this.bind("fetch",e):this.trigger.apply(this,["fetch"].concat(c.call(arguments)))},o.toJSON=function(){return this.records},o.beforeFromJSON=function(e){return e},o.fromJSON=function(e){var r,l,v,P;if(e)if(typeof e=="string"&&(e=JSON.parse(e)),e=this.beforeFromJSON(e),Array.isArray(e)){for(v=[],r=0,l=e.length;r<l;r++)P=e[r],P instanceof this?v.push(P):v.push(new this(P));return v}else return e instanceof this?e:new this(e)},o.fromForm=function(){var e;return(e=new this).fromForm.apply(e,arguments)},o.sort=function(){return this.comparator&&this.records.sort(this.comparator),this},o.cloneArray=function(e){var r,l,v,P;for(v=[],r=0,l=e.length;r<l;r++)P=e[r],v.push(P.clone());return v},o.idCounter=0,o.uid=function(e){var r;return e==null&&(e=""),r=e+this.idCounter++,this.exists(r)&&(r=this.uid(e)),r};function o(e){o.__super__.constructor.apply(this,arguments),this.constructor.uuid!=null&&typeof this.constructor.uuid=="function"?(this.cid=this.constructor.uuid(),this.id||(this.id=this.cid)):this.cid=(e!=null?e.cid:void 0)||this.constructor.uid("c-"),e&&this.load(e)}return o.prototype.isNew=function(){return!this.exists()},o.prototype.isValid=function(){return!this.validate()},o.prototype.validate=function(){},o.prototype.load=function(e){var r,l;e.id&&(this.id=e.id);for(r in e)if(l=e[r],typeof this[r]=="function"){if(typeof l=="function")continue;this[r](l)}else this[r]=l;return this},o.prototype.attributes=function(){var e,r,l,v,P;for(P={},v=this.constructor.attributes,e=0,l=v.length;e<l;e++)r=v[e],r in this&&(typeof this[r]=="function"?P[r]=this[r]():P[r]=this[r]);return this.id&&(P.id=this.id),P},o.prototype.eql=function(e){return e&&e.constructor===this.constructor&&(e.cid===this.cid||e.id&&e.id===this.id)},o.prototype.save=function(e){var r,l;return e==null&&(e={}),e.validate!==!1&&(r=this.validate(),r)?(this.trigger("error",this,r),!1):(this.trigger("beforeSave",this,e),l=this.isNew()?this.create(e):this.update(e),this.stripCloneAttrs(),this.trigger("save",l,e),l)},o.prototype.stripCloneAttrs=function(){var e,r,l;if(!this.hasOwnProperty("cid")){r=this;for(e in r)m.call(r,e)&&(l=r[e],_.call(this.constructor.attributes,e)>=0&&delete this[e]);return this}},o.prototype.updateAttribute=function(e,r,l){var v;return v={},v[e]=r,this.updateAttributes(v,l)},o.prototype.updateAttributes=function(e,r){return this.load(e),this.save(r)},o.prototype.changeID=function(e){var r;if(e!==this.id)return r=this.constructor.irecords,r[e]=r[this.id],this.cid!==this.id&&delete r[this.id],this.id=e,this.save()},o.prototype.remove=function(e){var r,l,v,P,C;for(e==null&&(e={}),C=this.constructor.records.slice(0),r=l=0,v=C.length;l<v;r=++l)if(P=C[r],!!this.eql(P)){C.splice(r,1);break}if(this.constructor.records=C,e.clear)return delete this.constructor.irecords[this.id],delete this.constructor.irecords[this.cid]},o.prototype.destroy=function(e){return e==null&&(e={}),e.clear==null&&(e.clear=!0),this.trigger("beforeDestroy",this,e),this.remove(e),this.destroyed=!0,this.trigger("destroy",this,e),this.trigger("change",this,"destroy",e),this.listeningTo&&this.stopListening(),this.unbind(),this},o.prototype.dup=function(e){var r,l;return e==null&&(e=!0),r=this.attributes(),e?delete r.id:r.cid=this.cid,l=new this.constructor(r),e||this._callbacks&&(l._callbacks=this._callbacks),l},o.prototype.clone=function(){return s(this)},o.prototype.reload=function(){var e;return this.isNew()?this:(e=this.constructor.find(this.id),this.load(e.attributes()),e)},o.prototype.refresh=function(e){return e=this.constructor.fromJSON(e),e.id&&this.id!==e.id&&this.changeID(e.id),this.constructor.irecords[this.id].load(e),this.trigger("refresh",this),this.trigger("change",this,"refresh"),this},o.prototype.toJSON=function(){return this.attributes()},o.prototype.toString=function(){return"<"+this.constructor.className+" ("+JSON.stringify(this)+")>"},o.prototype.fromForm=function(e){var r,l,v,P,C,M,d,L,K,I,g,T,x,X;for(X={},g=y(e).find("[type=checkbox]:not([value])"),l=0,M=g.length;l<M;l++)r=g[l],X[r.name]=y(r).prop("checked");for(T=y(e).find('[type=checkbox][name$="[]"]'),v=0,d=T.length;v<d;v++)r=T[v],K=r.name.replace(/\[\]$/,""),X[K]||(X[K]=[]),y(r).prop("checked")&&X[K].push(r.value);for(x=y(e).serializeArray(),C=0,L=x.length;C<L;C++)P=x[C],X[I=P.name]||(X[I]=P.value);return this.load(X)},o.prototype.exists=function(){return this.constructor.exists(this.id)},o.prototype.update=function(e){var r,l;return this.trigger("beforeUpdate",this,e),l=this.constructor.irecords,l[this.id].load(this.attributes()),this.constructor.sort(),r=l[this.id].clone(),r.trigger("update",r,e),r.trigger("change",r,"update",e),r},o.prototype.create=function(e){var r,l;return this.trigger("beforeCreate",this,e),this.id||(this.id=this.cid),l=this.dup(!1),this.constructor.addRecord(l,e.idx),this.constructor.sort(),r=l.clone(),r.trigger("create",r,e),r.trigger("change",r,"create",e),r},o.prototype.bind=function(){var e;return e=this.constructor.irecords[this.id]||this,w.bind.apply(e,arguments)},o.prototype.one=function(){var e;return e=this.constructor.irecords[this.id]||this,w.one.apply(e,arguments)},o.prototype.unbind=function(){var e;return e=this.constructor.irecords[this.id]||this,w.unbind.apply(e,arguments)},o.prototype.trigger=function(){var e;return w.trigger.apply(this,arguments),arguments[0]==="refresh"?!0:(e=this.constructor).trigger.apply(e,arguments)},o}(R),h.prototype.on=h.prototype.bind,h.prototype.off=h.prototype.unbind,D=function(a){f(o,a),o.include(w),o.include(j),o.prototype.eventSplitter=/^(\S+)\s*(.*)$/,o.prototype.tag="div";function o(e){this.release=b(this.release,this);var r,l,v,P,C;this.options=e,P=this.options;for(l in P)C=P[l],this[l]=C;for(this.el||(this.el=document.createElement(this.tag)),this.el=y(this.el),this.className&&this.el.addClass(this.className),this.attributes&&this.el.attr(this.attributes),this.events||(this.events=this.constructor.events),this.elements||(this.elements=this.constructor.elements),r=this;v=r.constructor.__super__;)v.events&&(this.events=y.extend({},v.events,this.events)),v.elements&&(this.elements=y.extend({},v.elements,this.elements)),r=v;this.events&&this.delegateEvents(this.events),this.elements&&this.refreshElements(),o.__super__.constructor.apply(this,arguments)}return o.prototype.release=function(){return this.trigger("release",this),this.el.remove(),this.unbind(),this.stopListening()},o.prototype.$=function(e){return this.el.find(e)},o.prototype.delegateEvents=function(e){var r,l,v,P,C,M;C=[];for(l in e){if(P=e[l],typeof P=="function")P=function(d){return function(L){return function(){return L.apply(d,arguments),!0}}}(this)(P);else{if(!this[P])throw new Error(P+" doesn't exist");P=function(d){return function(L){return function(){return d[L].apply(d,arguments),!0}}}(this)(P)}v=l.match(this.eventSplitter),r=v[1],M=v[2],M===""?C.push(this.el.bind(r,P)):C.push(this.el.on(r,M,P))}return C},o.prototype.refreshElements=function(){var e,r,l,v;r=this.elements,l=[];for(e in r)v=r[e],l.push(this[v]=this.$(e));return l},o.prototype.delay=function(e,r){return setTimeout(this.proxy(e),r||0)},o.prototype.html=function(e){return this.el.html(e.el||e),this.refreshElements(),this.el},o.prototype.append=function(){var e,r,l;return r=1<=arguments.length?c.call(arguments,0):[],r=function(){var v,P,C;for(C=[],v=0,P=r.length;v<P;v++)e=r[v],C.push(e.el||e);return C}(),(l=this.el).append.apply(l,r),this.refreshElements(),this.el},o.prototype.appendTo=function(e){return this.el.appendTo(e.el||e),this.refreshElements(),this.el},o.prototype.prepend=function(){var e,r,l;return r=1<=arguments.length?c.call(arguments,0):[],r=function(){var v,P,C;for(C=[],v=0,P=r.length;v<P;v++)e=r[v],C.push(e.el||e);return C}(),(l=this.el).prepend.apply(l,r),this.refreshElements(),this.el},o.prototype.replace=function(e){var r,l,v;return e=e.el||e,typeof e=="string"&&(e=y.trim(e)),v=[this.el,y(((l=y.parseHTML(e))!=null?l[0]:void 0)||e)],r=v[0],this.el=v[1],r.replaceWith(this.el),this.delegateEvents(this.events),this.refreshElements(),this.el},o}(R),y=(typeof window<"u"&&window!==null?window.jQuery:void 0)||(typeof window<"u"&&window!==null?window.Zepto:void 0)||function(a){return a},s=Object.create||function(a){var o;return o=function(){},o.prototype=a,new o},S=function(a){return Array.prototype.slice.call(a,0)},i=this.Spine={},G!==null&&(G.exports=i),i.version="1.6.0",i.$=y,i.Events=w,i.Log=j,i.Module=R,i.Controller=D,i.Model=h,R.extend.call(i,w),R.create=R.sub=D.create=D.sub=h.sub=function(a,o){var e;return e=function(r){f(l,r);function l(){return l.__super__.constructor.apply(this,arguments)}return l}(this),a&&e.include(a),o&&e.extend(o),typeof e.unbind=="function"&&e.unbind(),e},h.setup=function(a,o){var e;return o==null&&(o=[]),e=function(r){f(l,r);function l(){return l.__super__.constructor.apply(this,arguments)}return l}(this),e.configure.apply(e,[a].concat(c.call(o))),e},i.Class=R}.call(window)},44766:(G,B,t)=>{"use strict";t.d(B,{Fs:()=>c,L9:()=>s,lA:()=>_,lo:()=>r});var y=t(27444),D=t(777),w=t(67631),j=t(26844),h=t(14634),R=t(44386);const i=async M=>{let{projectMetaCid:d,projectMetaType:L,screenMetaCidList:K,projectBasicEncryptedPassword:I,accessToken:g=""}=M;if(K.length===0)return[];const T="/project-buffer/"+(0,j.bL)(L)+"/all/"+d+"?password="+I+"&access_token="+g,x=await(0,R.n3)(T,{localKeyList:K});return await(0,w.Of)({projectBufferData:x,parseConcatGzipDataToObjectList:h._D,projectMetaType:L})},s=async M=>{let{projectMetaList:d,screenMetaList:L,projectBasicEncryptedPassword:K=""}=M;const I=[];for(const g of d){const T=(0,y.eO)(L.filter(x=>x.project_meta_cid===g.cid).map(x=>x.cid),1024);for(const x of T)I.push(...await i({projectMetaCid:g.cid,projectMetaType:g.type,screenMetaCidList:x,projectBasicEncryptedPassword:K}))}return I},S=async M=>{let{projectMetaList:d,screenMetaList:L,projectBasicEncryptedPassword:K="",accessToken:I=""}=M;const g=[];for(const T of d){const x=L.filter(oe=>oe.project_meta_cid===T.cid).map(oe=>oe.cid);x.length>2048&&console.warn("[fdPSOL] big proj: "+x.length);const X=(0,y.eO)(x,1024);for(const oe of X)g.push(...await i({projectMetaCid:T.cid,projectMetaType:T.type,screenMetaCidList:oe,projectBasicEncryptedPassword:K,accessToken:I}))}return g},n=async M=>{let{userLocale:d}=M;const{user_combo_groups:L,screen_aligns:K,project_metas:I,screen_glues:g,screen_metas:T}=await fetchGetJSON("/api/web/v3/project_upper/user_combo_groups");return console.log("[fdUSG] pm#"+I.length+" sg#"+g.length+" sm#"+T.length+" | ucg#"+L.length+" sa#"+K.length),{userComboGroupList:L,screenAlignList:K,projectMetaList:I,screenGlueList:g,screenMetaList:T,projectScreenObjectList:await S({projectMetaList:I,screenMetaList:T})}},c=async M=>{let{projectBasicCid:d,userLocale:L}=M;const{project_basic:K,screen_aligns:I,project_metas:g,screen_glues:T,screen_metas:x}=await(0,R.EE)("/api/web/v3/project_upper/project_basics/"+d);return console.log("[fdPB] pm#"+g.length+" sg#"+T.length+" sm#"+x.length+" | sa#"+I.length),{projectBasic:K,screenAlignList:I,projectMetaList:g,screenGlueList:T,screenMetaList:x,projectScreenObjectList:await S({projectMetaList:g,screenMetaList:x})}},_=async M=>{let{projectBasicAccessToken:d,projectBasicEncryptedPassword:L="",userLocale:K,projectVersion:I}=M;const{project_basic:g,screen_aligns:T,project_metas:x,screen_glues:X,screen_metas:oe}=await(0,R.EE)("/api/web/v3/project_upper/project_basics/"+d+"?password="+L+(I?"&version="+I:"")),ne=X.find(Z=>Z.type===j._H.PROJECT_TRASHCAN),fe=ne?oe.filter(Z=>Z.screen_glue_cid!==ne.cid):oe;return console.log("[fdPB+] pm#"+x.length+" sg#"+X.length+" sm#"+oe.length+"/"+fe.length+" | sa#"+T.length),{projectBasic:g,screenAlignList:T,projectMetaList:x,screenGlueList:X,screenMetaList:fe,projectScreenObjectList:await S({projectMetaList:x,screenMetaList:fe,projectBasicEncryptedPassword:L,accessToken:d})}},f=async M=>{let{projectBasicAccessToken:d,projectBasicEncryptedPassword:L="",userLocale:K}=M;const{project_basic:I,screen_aligns:g,project_metas:T,screen_glues:x,screen_metas:X}=await fetchGetJSON("/api/web/v3/project_upper/project_basics/"+d+"?password="+L);return console.log("[fdPBbAT] pm#"+T.length+" sg#"+x.length+" sm#"+X.length+" | sa#"+g.length),{projectBasic:I,screenAlignList:g,projectMetaList:T,screenGlueList:x,screenMetaList:X,projectScreenObjectList:await S({projectMetaList:T,screenMetaList:X,projectBasicEncryptedPassword:L,accessToken:d})}},m=async M=>{let{projectUpperCid:d,isFromIframe:L=!1}=M;const{market_template:K,screen_aligns:I,project_metas:g,screen_glues:T,screen_metas:x}=await fetchGetJSON("/api/community/v1/market_template/"+d+(L?"?is_from_iframe=true":""));return console.log("[fdMT] pm#"+g.length+" sg#"+T.length+" sm#"+x.length+" | sa#"+I.length),{projectUpper:K,screenAlignList:I,projectMetaList:g,screenGlueList:T,screenMetaList:x,projectScreenObjectList:await S({projectMetaList:g,screenMetaList:x})}},b=async M=>{let{projectUpperCid:d,isFromIframe:L=1}=M;const{data:K,market_template:I,project_metas:g}=await fetchGetJSON("/api/community/v1/market_template/"+d+(L?"?is_from_iframe=true":""));return{screenMetaList:K,projectUpper:I,projectMetaList:g}},a=async M=>{let{projectUpperCid:d}=M;const{reviewable_project:L,screen_aligns:K,project_metas:I,screen_glues:g,screen_metas:T}=await fetchGetJSON("/api/community/v1/reviewable_project/"+d);return console.log("[fdRP] pm#"+I.length+" sg#"+g.length+" sm#"+T.length+" | sa#"+K.length),{projectUpper:L,screenAlignList:K,projectMetaList:I,screenGlueList:g,screenMetaList:T,projectScreenObjectList:await S({projectMetaList:I,screenMetaList:T})}},o=async M=>{let{projectUpperCid:d}=M;const{reviewable_project:L,screen_aligns:K,project_metas:I}=await fetchGetJSON("/api/community/v1/reviewable_project/"+d);return{projectUpper:L,projectMetaList:I,screenAlignList:K}},e=async M=>{let{projectUpperCid:d}=M;const{product:L,screen_aligns:K,project_metas:I,screen_glues:g,screen_metas:T}=await fetchGetJSON("/api/web/v3/product/"+d);return console.log("[fdCP] pm#"+I.length+" sg#"+g.length+" sm#"+T.length+" | sa#"+K.length),{projectUpper:L,screenAlignList:K,projectMetaList:I,screenGlueList:g,screenMetaList:T,projectScreenObjectList:await S({projectMetaList:I,screenMetaList:T})}},r=async(M,d)=>{let{teamCid:L,userLocale:K}=M;const{name:I,type:g,attr:T={},device:x,model:X,width:oe,height:ne,subProject:fe,zboardTag:Z,visibility:Q}=d,ae=D.eM,{userId:le,upperCid:ge,zboardTabs:Ae,projectMetaCid:Te}=await(0,R.Gf)("/project-buffer/"+g+"/check-init/project-upper?upperType="+ae,{presetOption:{locale:K,name:I,type:g,device:x,model:X,width:oe,height:ne},railsExtra:{team_cid:L,visibility:Q,name:I,type:g,attr:T,device:x,model:X,width:oe,height:ne,subProject:fe,zboardTag:Z}});return{userId:le,upperCid:ge,upperType:ae,zboardTabs:Ae,projectMetaCid:Te}},l=async M=>{let{projectBasicCid:d,projectBasicType:L,teamCid:K}=M;const I=UPPER_META_PROJECT_BASIC,{userId:g,upperCid:T,projectMetaCid:x}=await fetchPostJSON("/project-buffer/"+L+"/check-duplicate/project-upper?upperAction=duplicate-project-basic&upperCid="+d,{railsExtra:{team_cid:K}});return{userId:g,upperCid:T,upperType:I,projectMetaCid:x}},v=async M=>{let{upperCid:d,projectMetaCid:L,projectMetaType:K,screenGlueCid:I,screenMetaCidList:g,screenGlueCidList:T=[],nextUpperCid:x,nextProjectMetaCid:X,nextScreenGlueCid:oe}=M;const{userId:ne}=await fetchPostJSON("/project-buffer/"+K+"/check-transfer/screen-meta?upperCid="+d,{projectMetaCid:L,screenGlueCid:I,screenMetaCidList:g,screenGlueCidList:T,nextUpperCid:x,nextProjectMetaCid:X,nextScreenGlueCid:oe});return{userId:ne,upperCid:d,nextUpperCid:x}},P=async M=>{let{encryptedPassword:d,accessToken:L}=M;const{urlHtmlZip:K}=await fetchPostJSON("/nodekiq/build-html-zip",{encryptedPassword:d,accessToken:L});return{urlHtmlZip:K}},C=async M=>{let{encryptedPassword:d,accessToken:L}=M;const{urlApk:K}=await fetchPostJSON("/nodekiq/build-apk",{encryptedPassword:d,accessToken:L});return{urlApk:K}}},70826:(G,B,t)=>{"use strict";t.d(B,{df:()=>h,nQ:()=>i,vf:()=>s});var y=t(84766),D=t(26844);const w=_=>{let{projectStore:f,itemList:m=[],screenStateCid:b,screenMetaCid:a,screenGlueCid:o,isFollowItemLinkCidRef:e=!0,isFollowItemPanelScreenGlueRef:r=!0,isFollowPanelTemplateOnly:l=!1}=_;const v=new Set,P=new Set;for(const{cid:C,name:M,link_cids:d,screen_glue_cid:L,tableData:K}of m)if(P.add(C),e&&M==="table"&&K.links.forEach(I=>{I.forEach(g=>{g&&P.add(g)})}),e&&d&&P.add(d),r&&M==="panel"&&L)if(l){const I=f.getLocalScreenGlueByCid(L);I&&I.type===SCREEN_GLUE_TYPE.PANEL_TEMPLATE&&v.add(L)}else v.add(L);return{branchScreenGlueCidSet:v,nodeScreenGlueCidSet:new Set([o]),nodeScreenMetaCidSet:new Set([a]),nodeScreenStateCidSet:new Set([b]),nodeItemCidSet:P}},j=_=>{let{screenStateCid:f,remapScreenStateCid:m=f,screenMetaCid:b,remapScreenMetaCid:a=b,screenGlueCid:o,remapScreenGlueCid:e=o,projectMetaCid:r,remapProjectMetaCid:l=r}=_;return{remapProjectMetaMap:new Map([[r,[l]]]),remapScreenGlueMap:new Map([[o,[e]]]),remapScreenMetaMap:new Map([[b,[a]]]),remapScreenStateMap:new Map([[f,[m]]]),ignoreProjectMetaCidSet:new Set([l]),ignoreScreenGlueCidSet:new Set([e]),ignoreScreenMetaCidSet:new Set([a]),ignoreScreenStateCidSet:new Set([m])}},h=_=>{let{projectStore:f,screenMetaList:m=[],screenGlueCid:b,isFollowItemPanelScreenGlueRef:a=!0,isFollowPanelTemplateOnly:o=!1}=_;const e=new Set,r=new Set;for(const{cid:l}of m){r.add(l);const v=f.getLocalScreenRuntimeStateByCid(l);for(const P of Object.values(v.itemListMap))for(const{name:C,screen_glue_cid:M}of P)if(a&&C==="panel"&&M)if(o){const d=f.getLocalScreenGlueByCid(M);d&&d.type===D._H.PANEL_TEMPLATE&&e.add(M)}else e.add(M)}return{branchScreenGlueCidSet:e,branchScreenMetaCidSet:r,nodeScreenGlueCidSet:new Set([b])}},R=_=>{let{screenMetaList:f=[],remapScreenMetaList:m=[],screenGlueCid:b,remapScreenGlueCid:a=b,projectMetaCid:o,remapProjectMetaCid:e=o}=_;const r=new Map;for(let l=0,v=m.length;l<v;l++){const P=m[l];if(!P)continue;const C=f[l];r.set(C.cid,[P.cid,P])}return{remapProjectMetaMap:new Map([[o,[e]]]),remapScreenGlueMap:new Map([[b,[a]]]),remapScreenMetaMap:r,ignoreProjectMetaCidSet:new Set([e]),ignoreScreenGlueCidSet:new Set([a])}},i=_=>{let{screenGlueList:f=[]}=_;return{branchScreenGlueCidSet:new Set(f.map(m=>m.cid))}},s=_=>{let{screenGlueList:f=[],remapScreenGlueList:m=[],projectMetaCid:b,remapProjectMetaCid:a=b}=_;const o=new Map;for(let e=0,r=m.length;e<r;e++){const l=m[e];if(!l)continue;const v=f[e];o.set(v.cid,[l.cid,l])}return{remapProjectMetaMap:new Map([[b,[a]]]),remapScreenGlueMap:o,ignoreProjectMetaCidSet:new Set([a])}},S=()=>({isBranchProjectMeta:!0}),n=_=>{let{projectMetaCid:f,remapProjectMetaCid:m=f}=_;return{remapProjectMetaMap:new Map([[f,[m]]]),ignoreProjectMetaCidSet:new Set([m])}},c=(_,f)=>{for(const{screenGlue:m,screenMetaNodeList:b}of f.screenGlueNodeList){const a=b.map(P=>{let{screenMeta:C}=P;return C}),o=new Set(a.map(P=>{let{cid:C}=P;return C}));_.screenMetaDataStore.filterMapLocalList(P=>P.screen_glue_cid===m.cid&&!o.has(P.cid)&&a.push(P));const e=new Map,r="root",l=createCidTreeBuilder(r);for(const P of a)l.add(P.cid,P.position||0,P.parent_cid||r);const v=l.build();walkCidTreeJSON(v,(P,C,M)=>e.set(P,C));for(const P of a){const C=e.get(P.cid);C!==P.position&&(o.has(P.cid)?P.position=C:b.push({...P,position:C}))}}}},37506:(G,B,t)=>{"use strict";t.d(B,{$t:()=>R,AM:()=>r,HJ:()=>l,Js:()=>c,OK:()=>s,Py:()=>y,Qd:()=>S,Qg:()=>n,SG:()=>e,TG:()=>j,Uf:()=>b,_G:()=>P,aj:()=>w,dM:()=>a,gi:()=>v,jk:()=>_,qb:()=>h,v1:()=>f,w_:()=>D,y7:()=>i});const y="projectMetaCid",D="refProjectMetaCid",w="screenGlueCid",j="refScreenGlueCid",h="screenMetaCid",R="refScreenMetaCid",i="screenStateCid",s="refScreenStateCid",S="itemGroupCid",n="itemCid",c="refItemCid",_="refExternalUpperCid",f="refExternalArtboardCid",m="default",b={projectMetaCid:"p",screenGlueCid:"sg",screenMetaCid:"s",screenStateCid:"ss",itemGroupCid:"ig",itemCid:"i"},a=d=>""+(d||"")+Date.now().toString(36)+Math.random().toString(36).slice(2,8),o=()=>a(b.projectMetaCid),e=()=>a(b.screenMetaCid),r=()=>a(b.screenGlueCid),l=()=>a(b.screenStateCid),v=()=>a(b.itemGroupCid),P=()=>a(b.itemCid),C=function(d,L){return d===void 0&&(d=new Map),L===void 0&&(L=new Set),{cidMap:d,dedupCidSet:L,onCid:(K,I)=>{if(I==="refProjectMetaCid"||I==="refScreenGlueCid"||I==="refScreenMetaCid"||I==="refScreenStateCid"||I==="refItemCid"||I==="refExternalUpperCid"||I==="refExternalArtboardCid"||d.has(K))return;let g;do g=a(b[I]);while(L.has(g));d.set(K,g),L.add(g)},getCid:(K,I)=>I==="refExternalUpperCid"||I==="refExternalArtboardCid"?K:d.get(K)||K}},M=function(d,L){return d===void 0&&(d=new Map),L===void 0&&(L=new Set),{cidMap:d,dedupCidSet:L,onCid:(K,I)=>{if(I==="refProjectMetaCid"||I==="refScreenGlueCid"||I==="refScreenMetaCid"||I==="refScreenStateCid"||I==="refItemCid"||I==="refExternalUpperCid"||I==="refExternalArtboardCid"||I==="screenMetaCid"||I==="screenStateCid"||K==="default"||d.has(K))return;let g;do g=a(b[I]);while(L.has(g));d.set(K,g),L.add(g)},getCid:(K,I)=>I==="refExternalUpperCid"||I==="refExternalArtboardCid"?K:d.get(K)||K}}},53236:(G,B,t)=>{"use strict";t.d(B,{CH:()=>s,xm:()=>i});var y=t(37506),D=t(34934),w=t(15566);const j=S=>{let{projectMeta:n,screenGlueList:c,screenMetaList:_,screenObjectList:f}=S;const m=toListMapByMapCid(_,o=>o.screen_glue_cid),b=toMapByCid(f),a=[];for(const o of c){const e=[],r=m[o.cid];if(r)for(const l of r){const v=[];for(const{data:P,itemList:C}of b[l.cid].stateList)v.push({screenState:P,itemList:C});e.push({screenMeta:l,screenStateNodeList:v})}a.push({screenGlue:o,screenMetaNodeList:e})}return{projectMeta:n,screenGlueNodeList:a}},h=S=>{let{projectMeta:n,screenGlueNodeList:c}=S;const _=[],f=[],m=[];for(const{screenGlue:b,screenMetaNodeList:a}of c){for(const{screenMeta:o,screenStateNodeList:e}of a){const r=[];for(const{screenState:l,itemList:v}of e)r.push(createScreenStateObject(l,v,n.type));m.push(createScreenObject(o.cid,r)),f.push(o)}_.push(b)}return{projectMeta:n,screenGlueList:_,screenMetaList:f,screenObjectList:m}},R=S=>{let{projectMetaList:n,screenGlueList:c,screenMetaList:_,screenObjectList:f}=S;const m=toListMapByMapCid(c,e=>e.project_meta_cid),b=toListMapByMapCid(_,e=>e.project_meta_cid+"/"+e.screen_glue_cid),a=toMapByCid(f),o=[];for(const e of n){const r=[];for(const l of m[e.cid]){const v=[],P=b[e.cid+"/"+l.cid];if(P)for(const C of P){const M=[];for(const{data:d,itemList:L}of a[C.cid].stateList)M.push({screenState:d,itemList:L});v.push({screenMeta:C,screenStateNodeList:M})}r.push({screenGlue:l,screenMetaNodeList:v})}o.push({projectMeta:e,screenGlueNodeList:r})}return o},i=(S,n)=>{let{branchScreenGlueCidSet:c,branchScreenMetaCidSet:_,branchScreenStateCidSet:f,isBranchProjectMeta:m=!1,nodeScreenGlueCidSet:b,nodeScreenMetaCidSet:a,nodeScreenStateCidSet:o,nodeItemCidSet:e}=n;const r=S.getLocalProjectMeta(),l=[],v=b&&b.size>=1,P=a&&a.size>=1,C=o&&o.size>=1,M=e&&e.size>=1&&(d=>e.has(d.cid));for(const d of S.getLocalScreenGlueList()){const L=m||c&&c.has(d.cid);if(!(L||v&&b.has(d.cid)))continue;const K=[];for(const I of S.getLocalScreenMetaListByScreenGlueCid(d.cid)){const g=L||_&&_.has(I.cid);if(!(g||P&&a.has(I.cid)))continue;const T=[],{dataMap:x,itemListMap:X}=S.getLocalScreenRuntimeStateByCid(I.cid),oe=Object.keys(x);for(const ne of oe){const fe=x[ne],Z=g||f&&f.has(fe.cid);if(!(Z||C&&o.has(fe.cid)))continue;const Q=X[ne];T.push({screenState:fe,itemList:Z?Q:M?Q.filter(M):[]})}K.push({screenMeta:I,screenStateNodeList:T})}l.push({screenGlue:d,screenMetaNodeList:K})}return{projectMeta:r,screenGlueNodeList:l}},s=(S,n)=>{let{remapProjectMetaMap:c,remapScreenGlueMap:_,remapScreenMetaMap:f,remapScreenStateMap:m,remapItemMap:b,ignoreProjectMetaCidSet:a,ignoreScreenGlueCidSet:o,ignoreScreenMetaCidSet:e,ignoreScreenStateCidSet:r,ignoreItemCidSet:l}=n;const v=c&&c.size>=1,P=_&&_.size>=1,C=f&&f.size>=1,M=m&&m.size>=1,d=b&&b.size>=1,L=new Map,K=new Map,I=oe=>{for(const[ne,[fe,Z]]of oe)L.set(ne,fe),Z!==void 0&&K.set(ne,Z)};v&&I(c),P&&I(_),C&&I(f),M&&I(m),d&&I(b);const g=v||P,T=g||C,x=T||M;(0,w.V$)(S,(oe,ne)=>{(g&&ne===y.aj||T&&ne===y.qb||x&&ne===y.y7||ne===y.Qd||ne===y.Qg)&&!L.has(oe)&&L.set(oe,(0,y.dM)((oe||"").slice(0,11)||y.Uf[ne]))});const X=oe=>L.get(oe)||oe;return{projectDocument:(0,w.HW)(S,(oe,ne)=>fe=>{const Z=oe(fe,X),Q=K.get(fe.cid);return Q===void 0?Z:ne(Object.assign(Z,Q))}),ignoreProjectMetaCidSet:a,ignoreScreenGlueCidSet:o,ignoreScreenMetaCidSet:e,ignoreScreenStateCidSet:r,ignoreItemCidSet:l}}},77276:(G,B,t)=>{"use strict";var y;function D(a,o,e){return o=w(o),o in a?Object.defineProperty(a,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[o]=e,a}function w(a){var o=j(a,"string");return typeof o=="symbol"?o:String(o)}function j(a,o){if(typeof a!="object"||a===null)return a;var e=a[Symbol.toPrimitive];if(e!==void 0){var r=e.call(a,o||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(a)}y=!0;var h=m(t(7627)),R=f(t(7485)),i=t(54420),s=f(t(44774)),S=t(98295),n=m(t(37310)),c=t(35269);function _(a){if(typeof WeakMap!="function")return null;var o=new WeakMap,e=new WeakMap;return(_=function(r){return r?e:o})(a)}function f(a,o){if(!o&&a&&a.__esModule)return a;if(a===null||typeof a!="object"&&typeof a!="function")return{default:a};var e=_(o);if(e&&e.has(a))return e.get(a);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in a)if(v!=="default"&&Object.prototype.hasOwnProperty.call(a,v)){var P=l?Object.getOwnPropertyDescriptor(a,v):null;P&&(P.get||P.set)?Object.defineProperty(r,v,P):r[v]=a[v]}return r.default=a,e&&e.set(a,r),r}function m(a){return a&&a.__esModule?a:{default:a}}class b extends R.PureComponent{constructor(o){super(o),D(this,"typeText",{title_403:{"zh-CN":"\u5BF9\u4E0D\u8D77\uFF0C\u4F60\u6CA1\u6709\u8BBF\u95EE\u6743\u9650",en:"Permission denied",jp:""},des_403_0:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650",en:"Current account "+this.props.account+", permission denied.",jp:""},des_403_1:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650\uFF0C\u8BF7\u8054\u7CFB\u4F01\u4E1A\u7BA1\u7406\u5458",en:"Current account "+this.props.account+", permission denied. Please contact administrator. ",jp:""},des_403_2:{"zh-CN":"\u60A8\u8FD8\u6CA1\u6709\u767B\u5F55\uFF0C\u8BF7\u767B\u5F55\u540E\u5C1D\u8BD5\u8BBF\u95EE",en:"",jp:""},des_403_3:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u9879\u76EE\u6570\u8D85\u9650\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied.",jp:""},des_403_4:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u4F01\u4E1A\u7248\u8FC7\u671F\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied. Please contact administrator. ",jp:""},title_404:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u9875\u9762\u627E\u4E0D\u5230\u4E86",en:"Sorry, the page you are looking for can\u2019t be found",jp:""},des_404:{"zh-CN":"\u53EF\u80FD\u9875\u9762\u5DF2\u5220\u9664\u6216\u8BBF\u95EE\u5730\u5740\u5DF2\u6539\u53D8\uFF0C\u53EF\u4EE5\u5C1D\u8BD5\u8054\u7CFB\u9879\u76EE\u521B\u5EFA\u8005",en:"Page deleted or address changed, please contact project creator.",jp:""},title_link_expired:{"zh-CN":"\u94FE\u63A5\u5DF2\u5931\u6548",en:"Page deleted or address changed, please contact project creator.",jp:""},des_link_expired:{"zh-CN":"\u8BE5\u94FE\u63A5\u5DF2\u5931\u6548\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u4EBA\u83B7\u53D6\u6700\u65B0\u5206\u4EAB\u94FE\u63A5",en:"Page deleted or address changed, please contact project creator.",jp:""},title_5xx:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u65E0\u6CD5\u8FDE\u63A5\u58A8\u5200\u670D\u52A1\u5668",en:"Sorry, unable to connect to Mockitt server",jp:""},des_5xx:{"zh-CN":(0,c.jsxs)("div",{className:"proposal text-left",children:[(0,c.jsx)("p",{children:"\u8BF7\u5C1D\u8BD5\u4EE5\u4E0B\u65B9\u6CD5\uFF1A"}),(0,c.jsxs)("ul",{className:"text-list",children:[(0,c.jsx)("li",{children:"\u5982\u679C\u60A8\u5F00\u4E86\u7F51\u7EDC\u4EE3\u7406\uFF08VPN\uFF09\uFF0C\u5EFA\u8BAE\u60A8\u5B8C\u5168\u5173\u95ED\u540E\u518D\u5237\u65B0\u58A8\u5200"}),(0,c.jsx)("li",{children:"\u5982\u679C\u4E0D\u662F\u4E0A\u8FF0\u539F\u56E0\u5BFC\u81F4\u7684\uFF0C\u8BF7\u60A8\u8FDE\u63A5\u624B\u673A\u70ED\u70B9\u6216\u5207\u6362\u53E6\u4E00\u4E2A\u7F51\u7EDC"})]}),(0,c.jsx)("p",{children:"\u82E5\u4F9D\u65E7\u65E0\u6CD5\u6B63\u5E38\u8FDB\u5165\u58A8\u5200\uFF0C\u8BF7\u8054\u7CFB\u5BA2\u670D"})]}),en:(0,c.jsxs)("div",{className:"proposal text-left",children:[(0,c.jsx)("p",{children:"Please try the following methods:"}),(0,c.jsxs)("ul",{className:"text-list",children:[(0,c.jsx)("li",{children:"If your VPN is on, please turn it off then refresh Mockitt."}),(0,c.jsx)("li",{children:"If not, please switch to another network."})]}),(0,c.jsx)("p",{children:"If the problem stays, please contact support."})]}),jp:""},title_0:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u9875\u9762\u5D29\u6E83\u4E86",en:"Sorry, this page is corrupted",jp:""},des_0:{"zh-CN":"\u8BF7\u5C1D\u8BD5\u5237\u65B0\u9875\u9762\u6216\u5173\u95ED\u518D\u91CD\u65B0\u6253\u5F00\u58A8\u5200\uFF0C\u82E5\u65E0\u6CD5\u89E3\u51B3\u8BF7\u8054\u7CFB\u5BA2\u670D",en:"Please refresh this page or close this page and start Mockitt again. If the problem stays, please contact  support.",jp:""},goHome:{"zh-CN":"\u8FD4\u56DE\u58A8\u5200\u9996\u9875",en:"Back to Homepage",jp:""},checkoutAccount:{"zh-CN":"\u5207\u6362\u8D26\u53F7",en:"Checkout account",jp:""},reloadPage:{"zh-CN":"\u5237\u65B0\u9875\u9762",en:"Refresh this page",jp:""},contactUs:{"zh-CN":"\u8054\u7CFB\u5BA2\u670D",en:"Support",jp:""}}),D(this,"clickGoHome",()=>{let e="",{locale:r}=this.props;r==="zh-CN"?e="/":r==="jp"?e="https://mockitt.wondershare.jp":e="https://mockitt.wondershare.com",window.top!==window.self?window.top.location.replace(e):location.replace(e)}),D(this,"clickReloadPage",()=>{window.location.reload()}),D(this,"clickContactUs",()=>{let e="",{locale:r}=this.props;if(r==="zh-CN"){document.getElementById("mdOnlineSupport")&&document.getElementById("mdOnlineSupport").click();return}else r==="jp"?e="https://support.wondershare.jp":e="https://support.wondershare.com/product/mockitt.html";window.open(e)}),D(this,"getConfig",()=>{const{errorType:e,primaryBtnText:r,primaryBtnClick:l,secondaryBtnText:v,secondaryBtnClick:P,locale:C}=this.props,{typeText:M,clickGoHome:d,clickContactUs:L,clickReloadPage:K}=this;let I,g,T="",x=null,X;switch(!0){case e===S.ERROR_TYPE_403:I=M.goHome[C],g=d,X=s.errImg403;break;case e===S.ERROR_TYPE_404:I=M.goHome[C],g=d,T=M.contactUs[C],x=L,X=s.errImg404;break;case e===S.ERROR_LINK_EXPIRED:I=M.goHome[C],g=d,X=s.errImg404;break;case S.ERROR_TYPE_5XX.includes(e):I=M.reloadPage[C],g=K,T=M.contactUs[C],x=L,X=s.errImg500;break;default:I=M.reloadPage[C],g=K,T=M.contactUs[C],x=L,X=s.errImgDefault;break}return r&&(I=r),l&&(g=l),v&&(T=v),P&&(x=P),{svgBg:X,primaryText:I,primaryClick:g,secondaryText:T,secondaryClick:x}}),D(this,"handleClickLogo",()=>{let{isLogoClickable:e,logoUrl:r}=this.props;e&&(window.top!==window.self?window.top.location.href=r:window.location.href=r)}),this.commonConfig=this.getConfig()}render(){const{errorType:o,identity:e,locale:r,customTitle:l,customDes:v,account:P,isShowPrimaryBtn:C,isShowSecondaryBtn:M,isLogoClickable:d}=this.props,{typeText:L,commonConfig:K}=this,{svgBg:I,primaryText:g,primaryClick:T,secondaryText:x,secondaryClick:X}=K;let oe,ne,fe="title_"+o,Z="des_"+o;return o===S.ERROR_TYPE_403?Z=P?"des_"+o+"_"+e:"des_"+o+"_2":S.ERROR_TYPE_5XX.includes(o)&&(fe="title_5xx",Z="des_5xx"),oe=l||(L[fe]?L[fe][r]:L.title_0[r]),ne=v||(L[Z]?L[Z][r]:L.des_0[r]),(0,c.jsxs)(i.StyledCrashedPage,{children:[(0,c.jsx)("div",{className:"logo",children:(0,c.jsx)("span",{className:d?"logo-clickable":"",onClick:this.handleClickLogo,children:(0,c.jsx)(s.default,{source:I})})}),(0,c.jsxs)("div",{className:"content",children:[(0,c.jsx)("p",{className:"title",children:oe}),typeof ne=="string"?(0,c.jsx)("p",{className:"proposal",children:ne}):ne]}),(0,c.jsxs)("div",{className:"btn-list",children:[C&&T&&g&&(0,c.jsx)("a",{className:"btn primary",onClick:T,children:g}),M&&X&&x&&(0,c.jsx)("a",{className:"btn regular",onClick:X,children:x}),x===L.contactUs[r]&&(0,c.jsx)(n.default,{})]})]})}}D(b,"propTypes",{locale:h.default.oneOf(["zh-CN","en","jp"]),identity:h.default.oneOf([0,1]),customTitle:h.default.string,customDes:h.default.string,isShowPrimaryBtn:h.default.bool,primaryBtnText:h.default.string,primaryBtnClick:h.default.func,isShowSecondaryBtn:h.default.bool,secondaryBtnText:h.default.string,secondaryBtnClick:h.default.func,errorType:h.default.oneOf([0,403,404,500,501,502,503,504,505,S.ERROR_LINK_EXPIRED]).isRequired,account:h.default.string,isLogoClickable:h.default.bool,logoUrl:h.default.string}),D(b,"defaultProps",{locale:"zh-CN",isShowPrimaryBtn:!0,isShowSecondaryBtn:!0,identity:0,errorType:0,isLogoClickable:!0,logoUrl:"/"}),B.Z=b},20209:(G,B,t)=>{"use strict";t.d(B,{a7:()=>L,xP:()=>C,zO:()=>a});var y=t(7485),D=t(7627),w=t.n(D),j="--mb--rich-text-editor",h="--mb--rich-text",R={fontFamily:"Arial",fontSize:16,fontWeight:"regular",color:"#101010",letterSpacing:0,fontStyle:"normal",textDecoration:"none"},i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},s=function(q,p){if(!(q instanceof p))throw new TypeError("Cannot call a class as a function")},S=function(){function q(p,A){for(var u=0;u<A.length;u++){var E=A[u];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,A,u){return A&&q(p.prototype,A),u&&q(p,u),p}}(),n=Object.assign||function(q){for(var p=1;p<arguments.length;p++){var A=arguments[p];for(var u in A)Object.prototype.hasOwnProperty.call(A,u)&&(q[u]=A[u])}return q},c=function(q,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);q.prototype=Object.create(p&&p.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(q,p):q.__proto__=p)},_=function(q,p){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:q},f=function(){function q(p,A){var u=[],E=!0,O=!1,z=void 0;try{for(var re=p[Symbol.iterator](),se;!(E=(se=re.next()).done)&&(u.push(se.value),!(A&&u.length===A));E=!0);}catch(ce){O=!0,z=ce}finally{try{!E&&re.return&&re.return()}finally{if(O)throw z}}return u}return function(p,A){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return q(p,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(q){if(Array.isArray(q)){for(var p=0,A=Array(q.length);p<q.length;p++)A[p]=q[p];return A}else return Array.from(q)},b={defaultStyle:R,getStyleStr:{},clipboard:{stripOutsidePastedStyle:!0}},a=function(p){Object.entries(p).forEach(function(A){var u=f(A,2),E=u[0],O=u[1];b[E]=n({},b[E],O)})};function o(q,p){var A="NORMAL_LINE_HEIGHT_MEASURE_NODE",u=document.getElementById(A);u||(u=document.createElement("div"),u.id=A,document.body.appendChild(u)),u.style.whiteSpace="pre",u.style.lineHeight="normal",q&&(u.style.fontFamily=q),p&&(u.style.fontSize=p+"px"),u.innerHTML=" ";var E=u.getBoundingClientRect();return E.height}var e=b.defaultStyle,r=["fontFamily","fontWeight","fontSize","color","fontStyle","textDecoration","letterSpacing","lineHeight"],l=function(p){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],u=arguments[2];if(u==="paraSpacing")return p[A[0]].paraSpacing},v=function q(p,A){if(A==="fontFamily")return p.fontFamily||e.fontFamily;if(A==="fontWeight")return p.fontWeight||e.fontWeight;if(A==="boldType")return Number(p.boldType)?1:0;if(A==="fontSize")return p.fontSize||e.fontSize;if(A==="color")return p.color||e.color;if(A==="fontStyle")return p.fontStyle||e.fontStyle;if(A==="textDecoration")return p.textDecoration||e.textDecoration;if(A==="letterSpacing")return p.letterSpacing||e.letterSpacing;if(A==="lineHeight"){var u=p.lineHeight;return!u||u==="normal"?Math.ceil(o(q(p,"fontFamily"),q(p,"fontSize"))):u}},P=function(p){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0],u=arguments[2],E=A[0],O=A[1],z=p[E].children[O];return v(z,u)},C=function(p,A,u){if(!p)return null;var E={fontFamily:P(p,A,"fontFamily"),fontWeight:P(p,A,"fontWeight"),boldType:P(p,A,"boldType"),fontSize:P(p,A,"fontSize"),color:P(p,A,"color"),fontStyle:P(p,A,"fontStyle"),textDecoration:P(p,A,"textDecoration"),letterSpacing:P(p,A,"letterSpacing"),lineHeight:P(p,A,"lineHeight"),paraSpacing:l(p,A,"paraSpacing")};return u?E[u]:E},M={thin:100,extraLight:200,light:300,regular:400,medium:500,semiBold:600,bold:700,extraBold:800,black:900},d=["medium","semiBold","bold","extraBold","black"],L=function(p,A){var u=M[p];return d.includes(p)?u:Number(A)?700:u},K=function(p,A,u){var E=I(p);return Number(u)?A:E},I=function(p){return M[p]?p:Object.keys(M).find(function(A){return String(M[A])===String(p)})||"regular"},g=function(p,A){var u=T(p),E=A.replace(/'|"/g,""),O=["fontSize","lineHeight","letterSpacing","paraSpacing"];return O.includes(u)&&E.slice(-2)==="px"&&(E=Number(E.slice(0,-2))),E},T=function(p){return p==="marginTop"?"paraSpacing":p},x=function(p,A,u){var E={};return r.forEach(function(O){var z=g(O,p[O])||A[O];E[O]=z}),E.fontFamily=(E.fontFamily||"").split(",")[0].trim(),E.fontWeight=K(E.fontWeight,A.fontWeight,u),E},X=function(p,A){var u=p===A.length-1&&A.length>1?p-1:p;return Number(A[u].style.marginBottom.replace("px",""))},oe=function(p,A){var u=Array.from(p.getElementsByTagName("p")),E=void 0;return u.length===0?E=[{paraSpacing:A.paraSpacing,children:[n({},A.child,{text:""})]}]:E=u.map(function(O,z,re){var se=void 0,ce=Array.from(O.getElementsByTagName("span"));return ce.length===0?se=[n({},A.child,{text:""})]:se=ce.map(function(_e){return n({text:_e.innerText.replace(/(\r\n|\n|\r)/gm,""),boldType:Number(_e.dataset.boldtype)?1:0},x(_e.style,A.child,Number(_e.dataset.boldtype)))}),{paraSpacing:X(z,re),children:se}}),E},ne=[["&","&amp;"],["<","&lt;"],[">","&gt;"]],fe=[].concat(ne).reverse(),Z=function(p){var A=p;return ne.forEach(function(u){var E=f(u,2),O=E[0],z=E[1];return A=A.replace(new RegExp(O,"g"),z)}),A},Q=function(p){var A=p;return fe.forEach(function(u){var E=f(u,2),O=E[0],z=E[1];return A=A.replace(new RegExp(z,"g"),O)}),A},ae=b.getStyleStr,le=function(p){return p.replace(/[A-Z]/g,function(A){return"-"+A.toLowerCase()})},ge=function(p){var A=Object.entries(p).map(function(u){var E=f(u,2),O=E[0],z=E[1];return le(O)+":"+z+";"});return A.join(" ")},Ae=function(p){var A=p.paraSpacing;return{lineHeight:0,marginBottom:A+"px"}},Te=function(p){return ae.fontFamily?ae.fontFamily(p):p},Re=function(p){var A=v(p,"fontFamily"),u=v(p,"fontWeight"),E=v(p,"boldType");return{fontFamily:Te(A),fontWeight:L(u,E),fontSize:v(p,"fontSize")+"px",color:v(p,"color"),fontStyle:v(p,"fontStyle"),letterSpacing:v(p,"letterSpacing")+"px",lineHeight:v(p,"lineHeight")+"px",textDecoration:v(p,"textDecoration")}},ue=function(p,A,u){for(var E="",O={start:[0,0,0],end:[]},z=A||O,re=f(z.start,3),se=re[0],ce=re[1],_e=re[2],Le=f(z.end,3),We=Le[0],Ze=Le[1],He=Le[2],Ke=[],Ne=se;;Ne++){for(var st=p[Ne],Ie=[],tt=Ne===se,qe=Ne===We,rt=Ne===se?ce:0;;rt++){var pt=tt&&rt===ce,et=qe&&rt===Ze,Ct=st.children[rt],Pt=Ct.text.slice(pt?_e:0,et?He:Ct.text.length),Lt=Z(Pt);if(Ie.push('<span class="'+h+'" data-boldtype="'+v(Ct,"boldType")+'" style="'+ge(Re(Ct))+'">'+(Ct.text===""?"<br>":Lt)+"</span>"),u&&(E+=Pt),rt===(et?Ze:st.children.length-1))break}var Mt=Ie.join("");if(Ke.push('<p style="'+ge(Ae(st))+'">'+Mt+"</p>"),u&&Ne!==We&&(E+=`
`),Ne===(qe?We:p.length-1))break}var Xt=Ke.join("");return u?{text:E,HTML:Xt}:Xt},Be=function(p){var A=new RegExp(h);return A.test(p)},xe=function(p){var A=p.parentNode;return Array.from(A.childNodes).indexOf(p)},je=function(p){var A=[],u=window.getSelection(),E=void 0,O=void 0;p==="focus"?(E=u.focusNode,O=u.focusOffset):p==="anchor"&&(E=u.anchorNode,O=u.anchorOffset);var z=E.nodeName==="#text"?E.parentNode:E,re=z.closest("."+j+" span"),se=z.closest("."+j+" p");if(!se)A=[0,0,O];else if(!re&&se)A=[xe(se),0,O];else if(re&&se){for(var ce=z;ce.parentNode.nodeName!=="P";)ce=ce.parentNode;A=[xe(se),xe(ce),O]}return A},ze=function(p){var A=p.start,u=p.end;return A.every(function(E,O){return E===u[O]})},Ue=function(p){for(var A=p.start,u=p.end,E="forwards",O="backwards",z=0;z<A.length;z++){if(A[z]>u[z])return O;if(A[z]<u[z])return E}return E},Ge=function(p,A){var u=Ue(p),E=(typeof A>"u"?"undefined":i(A))==="object"?Ue(A):A;return E&&E!==u?{start:p.end,end:p.start}:n({},p)},Ve=function(p){return{start:[0,0,0],end:[p.length-1,p[p.length-1].children.length-1,p[p.length-1].children[p[p.length-1].children.length-1].text.length]}},ht=function(p,A,u){var E=u.start,O=u.end,z=E[0],re=f(O,2),se=re[0],ce=re[1],_e=[],Le=[];return p.forEach(function(We,Ze,He){if(Ze<z||Ze>se)_e.push(n({},We));else if(Ze===z)if(A.length===0){var Ke=lt(He[z],E),Ne=Ke.before,st=lt(He[se],O),Ie=st.after;_e.push({paraSpacing:We.paraSpacing,children:Ne.length+Ie.length===0?[n({},He[se].children[ce],{text:""})]:[].concat(m(Ne),m(Ie))}),Le[0]=z,Le[1]=Ne.length?Ne.length-1:0,Le[2]=Ne.length?Ne[Ne.length-1].text.length:0}else A.forEach(function(tt,qe){var rt,pt={paraSpacing:tt.paraSpacing!==void 0?tt.paraSpacing:We.paraSpacing,children:[]};if(qe===0){var et,Ct=lt(He[z],E),Pt=Ct.before;Pt.length>0&&(et=pt.children).push.apply(et,m(Pt))}if((rt=pt.children).push.apply(rt,m(tt.children)),qe===A.length-1){var Lt;Le[0]=z+A.length-1,Le[1]=pt.children.length-1,Le[2]=tt.children[tt.children.length-1].text.length;var Mt=lt(He[se],O),Xt=Mt.after;Xt.length>0&&(Lt=pt.children).push.apply(Lt,m(Xt))}_e.push(pt)})}),{paras:_e,selection:{start:Le,end:Le}}},lt=function(p,A){var u=f(A,3),E=u[0],O=u[1],z=u[2],re=[],se=[];return p.children.forEach(function(ce,_e){_e<O&&re.push(n({},ce)),_e>O&&se.push(n({},ce)),_e===O&&z!==0&&re.push(n({},ce,{text:ce.text.slice(0,z)})),_e===O&&z!==ce.text.length&&se.push(n({},ce,{text:ce.text.slice(z)}))}),{before:re,after:se}},Yt=function(p,A,u){var E=u.start,O=u.end,z=A.replace(/[\r\n\t\v\f]+/g,`
`).split(/\n/),re=z.length===1&&z[0]==="",se=f(E,2),ce=se[0],_e=se[1],Le=f(O,2),We=Le[0],Ze=Le[1],He=[],Ke=[];return p.forEach(function(Ne,st,Ie){if(st<ce||st>We)He.push(n({},Ne));else if(st===ce)if(re){var tt=lt(Ie[ce],E),qe=tt.before,rt=lt(Ie[We],O),pt=rt.after;He.push({paraSpacing:Ne.paraSpacing,children:qe.length+pt.length===0?[n({},Ie[We].children[Ze],{text:""})]:[].concat(m(qe),m(pt))}),Ke[0]=ce,Ke[1]=qe.length?qe.length-1:0,Ke[2]=qe.length?qe[qe.length-1].text.length:0}else{var et=Ie[ce].children[_e];z.forEach(function(Ct,Pt){var Lt=n({},et,{text:Ct}),Mt={paraSpacing:Ne.paraSpacing,children:[]};if(Pt===0){var Xt=lt(Ie[ce],E),mr=Xt.before;if(mr.length>0){var vr;mr[mr.length-1].text+=Ct,(vr=Mt.children).push.apply(vr,m(mr))}else Mt.children.push(Lt)}if(Pt>0&&Mt.children.push(Lt),Pt===z.length-1){var Mr;Ke[0]=ce+z.length-1,Ke[1]=Mt.children.length-1,Ke[2]=Mt.children[Mt.children.length-1].text.length;var rr=lt(Ie[We],O),Pr=rr.after;Pr.length>0&&(Mr=Mt.children).push.apply(Mr,m(Pr))}He.push(Mt)})}}),{paras:He,selection:{start:Ke,end:Ke}}},Dt=b.defaultStyle,sr="Courier New",ir=function(p){var A=[],u=function(se){return se.replace(/<!--.*?-->/g,"")},E=function(se){return/<body>([^]*?)<\/body>/.test(se)?se.match(/<body>([^]*?)<\/body>/)[1]:se},O=function(se){return se.trim()},z=function(se){return se.replace(/[\r\n\t\v\f]/g,F)};return A.push.apply(A,[u,E,O,z]),A.reduce(function(re,se){return se(re)},p)},ar=function(p){for(var A=ir(p),u=0,E=[],O=[],z=0;u!==A.length;){var re=nt(A,u),se=f(re,5),ce=se[1],_e=se[2],Le=se[3],We=se[4];if(ce){var Ze=vt(ce);if(tr.includes(Ze)){u+=ce.length;continue}if(Ft.includes(Ze)&&!O[z]){var He=lr(ce);O[z]={paraSpacing:He,children:[]}}var Ke=bt(ce,E);E.push(Ke)}if(_e)(function(){var qe=er(E),rt=_e.split(F);rt.forEach(function(pt,et){var Ct=Q(pt),Pt=n({text:Ct},qe);O[z]||(O[z]={paraSpacing:0,children:[]}),O[z].children.push(Pt),et<rt.length-1&&(z+=1)})})();else if(ce&&vt(ce)===_r&&We){var Ne=er(E),st=n({text:""},Ne);O[z]||(O[z]={paraSpacing:0,children:[]}),O[z].children.push(st)}if(We){var Ie=vt(Le);Ft.includes(Ie)?E.length=0:E.pop(),Ft.includes(Ie)&&O[z]&&O[z].children.length&&(z+=1)}if(!ce&&Le&&tr.includes(vt(Le))){u+=Le.length;continue}var tt=(ce?ce.length:0)+(_e?_e.length:0)+(We?Le.length:0);if(tt===0){console.warn("RichTextEditor: manually break infinite loop while parsing pasted HTML");break}u+=tt}return O[O.length-1]&&!O[O.length-1].children.length&&O.pop(),O},vt=function(p){return p.match(/<\/??([^/]*?(?=\s|>))/)[1]},cr=new RegExp(/(<(?!\/).*?>)?(.*?)(<(\/?).*?>)/),nt=function(p,A){return p.slice(A).match(cr)},lr=function(p){var A=vt(p),u=p.match(new RegExp("margin"+St.source))||p.match(new RegExp("margin-bottom"+St.source));if(u){var E=u[1].split(" "),O=E.length<3?0:2;return Number(E[O].replace(/px$/,""))}else return!u&&/^h\d$/.test(A)?fr(A):0},pr=function(p){if(p==1)return 10;if(p==2)return 13;if(p==3)return 16;if(p==4)return 18;if(p==5)return 24;if(p==6)return 32;if(p==7)return 48},bt=function(p,A){var u=ut(p,A);return{fontFamily:ur(p),fontWeight:Qt(p),fontSize:u,textDecoration:dr(p),color:qt(p),lineHeight:zt(p,u),letterSpacing:Vt(p)}},St=/:\s?(.*?);/,Jt=/="(.*?)"/,ur=function(p){var A=vt(p),u=void 0;return A==="font"?u=p.replace(/&quot;/g,"").match(new RegExp("family"+Jt.source)):u=p.replace(/&quot;/g,"").match(new RegExp("font-family"+St.source)),!u&&A==="pre"?sr:u?u[1].split(",")[0].trim():void 0},Qt=function(p){var A=vt(p);if(A==="b"||A==="strong")return"bold";var u=p.match(new RegExp("font-weight"+St.source));return u?I(u[1]):/^h\d$/.test(A)?"bold":void 0},ut=function(p,A){var u=A.length>0?A[A.length-1].fontSize:Dt.fontSize,E=vt(p),O=void 0;if(E==="font"?O=p.match(new RegExp("size"+Jt.source)):O=p.match(new RegExp("font-size"+St.source)),!O)return/^h\d$/.test(E)?hr(E):u;if(/px$/.test(O[1]))return parseInt(O[1].replace(/px$/,""));if(isNaN(O[1]))if(/rem$/.test(O[1])){var z=Dt.fontSize;return Math.round(z*O[1].replace(/rem$/,""))}else return/em$/.test(O[1])?Math.round(u*O[1].replace(/em$/,"")):u;else return pr(O[1])},dr=function(p){var A=vt(p);if(A==="u")return"underline";if(A==="s")return"line-through";var u=p.match(new RegExp("text-decoration"+St.source))||p.match(new RegExp("text-decoration-line"+St.source));return u?/underline/.test(u[1])?"underline":/line-through/.test(u[1])?"line-through":"none":"none"},qt=function(p){var A=p.match(/((?!-).{1}|^)color:\s?(.*?);/);return A?A[2]:void 0},zt=function(p,A){var u=p.match(new RegExp("line-height"+St.source));if(u){if(/px$/.test(u[1]))return Number(u[1].replace(/px$/,""));if(isNaN(u[1]))return;var E=A;return Math.round(E*u[1])}},Vt=function(p){var A=p.match(new RegExp("letter-spacing"+St.source));if(A)return/px$/.test(A[1])?Number(A[1].replace(/px$/,"")):A[1]==="normal"?0:void 0},hr=function(p){var A=Dt.fontSize;if(p==="h1")return parseInt(A*2);if(p==="h2")return parseInt(A*1.5);if(p==="h3")return parseInt(A*1.17);if(p==="h4")return parseInt(A*1);if(p==="h5")return parseInt(A*.83);if(p==="h6")return parseInt(A*.67)},fr=function(p){var A=Dt.fontSize;if(p==="h1")return parseInt(A*.67);if(p==="h2")return parseInt(A*.83);if(p==="h3")return parseInt(A*1);if(p==="h4")return parseInt(A*1.33);if(p==="h5")return parseInt(A*1.67);if(p==="h6")return parseInt(A*2.33)},er=function(p){return p.reduce(function(A,u){return Object.entries(u).forEach(function(E){var O=f(E,2),z=O[0],re=O[1];re!==void 0&&(A[z]=re)}),A},{})},Ft=["div","ul","li","p","h1","h2","h3","h4","h5","h6","address","article","aside","blockquote","dd","dl","dt","table","tfoot","footer","header","hgroup","hr","main","nav","pre","section"],tr=["img","input"],_r="br",F="__MB__NL__2349639398",ke=function(p,A){return Yt(p,"",A)};function Xe(q){q.stopPropagation(),q.nativeEvent.stopImmediatePropagation()}var dt=function(p,A,u){var E=p.children.reduce(function(O,z,re){return re!==A?O.push(n({},z)):O.push.apply(O,[n({},z,{text:z.text.slice(0,u)}),n({},z,{text:z.text.slice(u)})]),O},[]);return{paraSpacing:p.paraSpacing,children:E}},Et=function(p,A){var u=f(p,3),E=u[0],O=u[1],z=u[2],re=A[E].children[O].text;return re==="<br>"?!1:z>0&&z<re.length},At=function(p,A,u){var E=[].concat(m(u)),O=[].concat(m(p)),z=[].concat(m(A)),re=Et(O,E);if(re){var se=O,ce=f(se,3),_e=ce[0],Le=ce[1],We=ce[2],Ze=dt(E[_e],Le,We);E[_e]=Ze,O=[_e,Le+1,0]}re&&(p[0]===A[0]&&(z[1]+=1),p[0]===A[0]&&p[1]===A[1]&&(z[2]-=p[2]));var He=Et(z,E);if(He){var Ke=f(z,3),Ne=Ke[0],st=Ke[1],Ie=Ke[2],tt=dt(E[Ne],st,Ie);E[Ne]=tt}return{boundary:{start:O,end:z},paras:E}},It=function(p,A,u){var E=f(u.start,2),O=E[0],z=E[1],re=f(u.end,2),se=re[0],ce=re[1],_e=Math.max(A,z,ce)+1;return p*_e+A>=O*_e+z&&p*_e+A<=se*_e+ce},Tt=["fontFamily","fontSize"],jt=function(p,A,u){var E=Math.ceil(o(p,A));return E===u},Bt=function(p){var A=p.span,u=p.attr,E=p.value,O=n({},A);return Tt.includes(u)&&jt(O.fontFamily,O.fontSize,O.lineHeight)?(O[u]=E,O.lineHeight=Math.ceil(o(O.fontFamily,O.fontSize))):O[u]=E,u=="fontFamily"&&(O.fontWeight="regular"),O},N=function(p){var A=p.start,u=p.end;return A.every(function(E,O){return E===u[O]})},H=function(p){var A=p.paras,u=p.boundary,E=p.attr,O=p.value,z=void 0,re=void 0;if(u){var se=u.start,ce=u.end,_e=At(se,ce,A);z=_e.boundary,re=_e.paras}var Le=(re||A).map(function(We,Ze){var He=We.children.map(function(Ke,Ne){return!u||It(Ze,Ne,z)?Bt({span:Ke,attr:E,value:O}):n({},Ke)});return{paraSpacing:We.paraSpacing,children:He}});return{paras:Le,boundary:z}},te=function(p,A){var u=f(A.start,1),E=u[0],O=f(A.end,1),z=O[0];return p>=E&&p<=z},pe=function(p){var A=p.paras,u=p.boundary,E=p.value;return A.map(function(O,z){var re=O.children.map(function(se,ce){return!u||te(z,u)?Bt({span:se,attr:"lineHeight",value:E}):n({},se)});return{paraSpacing:O.paraSpacing,children:re}})},Me=function(p){var A=p.paras,u=p.boundary,E=p.value;return A.map(function(O,z){var re=!u||te(z,u)?E:O.paraSpacing;return{paraSpacing:re,children:O.children}})},Oe=function(p){var A=p.paras,u=p.boundary,E=p.attr,O=p.value,z=void 0,re=void 0;if(Ye.includes(E)){if(u&&N(u))return;var se=H({paras:A,boundary:u,attr:E,value:O});z=se.paras,re=se.boundary}else E===ve?z=pe({paras:A,boundary:u,value:O}):E===Je&&(z=Me({paras:A,boundary:u,value:O}));return{paras:z,boundary:re||u}},Ye=["fontFamily","fontWeight","boldType","fontSize","color","fontStyle","textDecoration","letterSpacing"],ve="lineHeight",Je="paraSpacing",Qe=function(p){return["text"].concat(Ye,[ve,Je]).includes(p)};function it(q,p){p===void 0&&(p={});var A=p.insertAt;if(!(!q||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],E=document.createElement("style");E.type="text/css",A==="top"&&u.firstChild?u.insertBefore(E,u.firstChild):u.appendChild(E),E.styleSheet?E.styleSheet.cssText=q:E.appendChild(document.createTextNode(q))}}var ot=`.--mb--rich-text-editor {
  outline: none;
  border-color: transparent;
  user-select: text;
}

  .--mb--rich-text-editor p {
    margin: 0;
  }

  .--mb--rich-text-editor p:last-child {
    margin-bottom: 0 !important;
  }
`;it(ot);var ft=50,Zt=function(q){c(p,q);function p(A){s(this,p);var u=_(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return u.getInitialSelection=function(E){var O=E.paras,z=E.selection;return z||Ve(O)},u.getPresentState=function(){return u.state.present},u.pushPresentState=function(E){return new Promise(function(O,z){var re=u.state,se=re.past,ce=re.present,_e=[].concat(m(se),[ce]);_e.length+1>ft&&_e.shift(),u.setState({past:_e,present:E,future:[]},O)})},u.buildEditorBridge=function(E){return E(u.getPresentState,u.handleSetRichAttr)},u.manuallyUpdate=function(){return u.$editor.innerHTML=ue(u.getPresentState().paras)},u.restoreSelection=function(){return new Promise(function(E,O){var z=u.getPresentState(),re=z.selection,se=f(re.start,3),ce=se[0],_e=se[1],Le=se[2],We=f(re.end,3),Ze=We[0],He=We[1],Ke=We[2],Ne=u.$editor.childNodes[ce].childNodes[_e],st=Ne.childNodes[0].nodeName==="#text"?Ne.childNodes[0]:Ne,Ie=u.$editor.childNodes[Ze].childNodes[He],tt=Ie.childNodes[0].nodeName==="#text"?Ie.childNodes[0]:Ie,qe=document.createRange();qe.setStart(st,Le);var rt=window.getSelection();rt.removeAllRanges(),rt.addRange(qe),rt.extend(tt,Ke),E()})},u.handleSetRichAttr=function(E,O){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"add",re=u.state,se=re.past,ce=re.present,_e=ce.paras,Le=ce.selection,We=Ge(Le,"forwards"),Ze=Oe({attr:E,value:O,paras:_e,boundary:We});if(Ze){var He=void 0;z==="add"?(He=[].concat(m(se),[ce]),He.length+1>ft&&He.shift()):z==="replaceLast"&&(He=se);var Ke=Ge(Ze.boundary,Le);u.setState({past:He,present:{paras:Ze.paras,selection:Ke},future:[]})}},u.handleSetBoldType=function(){var E=u.getPresentState(),O=E.paras,z=E.selection,re=C(O,z.start,"boldType");u.handleSetRichAttr("boldType",1-re)},u.handleSetItalic=function(){var E=u.getPresentState(),O=E.paras,z=E.selection,re=C(O,z.start,"fontStyle");re!=="italic"?u.handleSetRichAttr("fontStyle","italic"):u.handleSetRichAttr("fontStyle","normal")},u.handleSetLineThrough=function(){var E=u.getPresentState(),O=E.paras,z=E.selection,re=C(O,z.start,"textDecoration");re!=="line-through"?u.handleSetRichAttr("textDecoration","line-through"):u.handleSetRichAttr("textDecoration","none")},u.handleSetUnderline=function(){var E=u.getPresentState(),O=E.paras,z=E.selection,re=C(O,z.start,"textDecoration");re!=="underline"?u.handleSetRichAttr("textDecoration","underline"):u.handleSetRichAttr("textDecoration","none")},u.handleSetFontSize=function(E){var O=u.getPresentState(),z=O.paras,re=O.selection,se=C(z,re.start,"fontSize"),ce=E==="increase"?se+1:se-1<1?1:se-1;u.handleSetRichAttr("fontSize",ce)},u.handleSelectionChange=function(E){if(!u.isInputtingComposition){var O=u.getSelection();u.setSelection(O),u.recordlastFocusStyle()}},u.getSelection=function(){var E=je("anchor"),O=je("focus");return{start:E,end:O}},u.setSelection=function(E){u.setState(n({},u.state,{present:n({},u.state.present,{selection:E})}))},u.recordlastFocusStyle=function(){var E=window.getSelection(),O=void 0;if(E.focusNode.nodeName==="SPAN")O=E.focusNode;else if(E.focusNode.nodeName==="#text")O=E.focusNode.parentNode;else if(E.focusNode.nodeName==="P")O=E.focusNode.childNodes[0];else return u.lastFocusStyle={paraSpacing:0,child:{}};var z=O.parentNode,re=xe(z),se=xe(O),ce=u.getPresentState(),_e=ce.paras;u.lastFocusStyle={paraSpacing:_e[re].paraSpacing,child:n({},_e[re].children[se],{text:void 0})}},u.popSelectionChange=function(){u.props.onSelectionChange&&u.props.onSelectionChange(u.getPresentState())},u.handleInput=function(E){if(!u.isInputtingComposition){var O=oe(E.target,u.lastFocusStyle),z=u.getSelection();u.setParasAndSelection(O,z)}},u.handleCompositionStart=function(E){u.toggleCompositionFlag()},u.handleCompositionEnd=function(E){u.toggleCompositionFlag();var O=oe(E.target,u.lastFocusStyle),z=u.getSelection();u.setParasAndSelection(O,z)},u.toggleCompositionFlag=function(){return u.isInputtingComposition=!u.isInputtingComposition},u.setParasAndSelection=function(E,O){u.pushPresentState({paras:E,selection:O}).then(u.popContentChange)},u.popContentChange=function(){u.props.onContentChange&&u.props.onContentChange(u.getPresentState())},u.handleKeyDown=function(E){E.key===" "&&Xe(E);var O=E.metaKey||E.ctrlKey,z=E.shiftKey;if((E.key==="a"||E.keyCode===65)&&O&&(E.preventDefault(),u.setSelection(Ve(u.getPresentState().paras))),(E.key==="b"||E.keyCode===66)&&O&&(E.preventDefault(),u.handleSetBoldType()),(E.key==="i"||E.keyCode===73)&&O&&(E.preventDefault(),u.handleSetItalic()),(E.key==="u"||E.keyCode===85)&&O&&(E.preventDefault(),u.handleSetUnderline()),(E.key==="s"||E.keyCode===83)&&O&&z&&(E.preventDefault(),u.handleSetLineThrough()),(E.key==="z"||E.keyCode===90)&&O)return E.preventDefault(),u.handleUndo();if((E.key==="y"||E.keyCode===89)&&O)return E.preventDefault(),u.handleRedo();if((E.key==="."||E.keyCode===190)&&O&&z)return E.preventDefault(),u.handleSetFontSize("increase");if((E.key===","||E.keyCode===188)&&O&&z)return E.preventDefault(),u.handleSetFontSize("decrease")},u.handleUndo=function(){var E=u.state,O=E.past,z=E.present,re=E.future;if(O.length!==0){var se=O[O.length-1],ce=O.slice(0,O.length-1),_e=[z].concat(m(re));1+ce.length+_e.length>ft&&_e.pop(),u.setState({past:ce,present:se,future:_e})}},u.handleRedo=function(){var E=u.state,O=E.past,z=E.present,re=E.future;if(re.length!==0){var se=re[0],ce=re.slice(1),_e=[].concat(m(O),[z]);1+_e.length+ce.length>ft&&_e.shift(),u.setState({past:_e,present:se,future:ce})}},u.handleCopy=function(E){var O=u.getPresentState(),z=O.paras,re=O.selection;if(!ze(re)){var se=Ge(re,"forwards"),ce=ue(z,se,!0),_e=ce.HTML,Le=ce.text;E.clipboardData.setData("text/html",_e),E.clipboardData.setData("text/plain",Le),E.preventDefault()}},u.handleCut=function(E){var O=u.getPresentState(),z=O.paras,re=O.selection;if(!ze(re)){var se=Ge(re,"forwards"),ce=ue(z,se);E.clipboardData.setData("text/html",ce);var _e=ke(z,se),Le=_e.paras,We=_e.selection;u.setParasAndSelection(Le,We),E.preventDefault()}},u.handlePaste=function(E){E.preventDefault();var O=b.clipboard.stripOutsidePastedStyle,z=E.clipboardData.getData("text/html").replace(/^<meta.*?>/,""),re=Be(z);O&&!re?u.insertPastedAsPlainText(E):u.insertPastedAsHTML(E)},u.insertPastedAsHTML=function(E){var O=u.getPresentState(),z=O.paras,re=O.selection,se=Ge(re,"forwards"),ce=E.clipboardData.getData("text/html").replace(/^<meta.*?>/,"");if(ce){var _e=ar(ce),Le=ht(z,_e,se),We=Le.paras,Ze=Le.selection;u.setParasAndSelection(We,Ze)}},u.insertPastedAsPlainText=function(E){var O=u.getPresentState(),z=O.paras,re=O.selection,se=Ge(re,"forwards"),ce=E.clipboardData.getData("text/plain"),_e=Yt(z,ce,se),Le=_e.paras,We=_e.selection;u.setParasAndSelection(Le,We)},u.lastFocusStyle=null,u.isInputtingComposition=!1,u.state={past:[],present:{paras:A.store.paras,selection:u.getInitialSelection(A.store)},future:[]},u}return S(p,[{key:"componentDidMount",value:function(){var u=this;this.buildEditorBridge(this.props.editorBridgeBuilder),setTimeout(function(){return u.restoreSelection().then(u.popSelectionChange)},0)}},{key:"componentDidUpdate",value:function(){var u=this;this.$editor.childNodes.length===0&&this.manuallyUpdate(),this.restoreSelection().catch(function(E){console.warn(E),u.manuallyUpdate()}).then(this.popSelectionChange)}},{key:"render",value:function(){var u=this,E=this.getPresentState(),O=E.paras;return y.createElement("div",{contentEditable:!0,dangerouslySetInnerHTML:{__html:ue(O)},ref:function(re){return u.$editor=re},className:j,style:this.props.style,onKeyDown:this.handleKeyDown,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd,onInput:this.handleInput,onSelect:this.handleSelectionChange,onCopy:this.handleCopy,onCut:this.handleCut,onPaste:this.handlePaste})}}]),p}(y.PureComponent);Zt.propTypes={style:w().object,store:w().object,onSelectionChange:w().func,onContentChange:w().func,editorBridgeBuilder:w().func};var $t={getStore:function(){},setAttr:function(){}},Cr=function(p){return function(){return p()}},Wr=function(p){return function(A,u,E){return p(A,u,E)}},Ur=function(p,A){$t.getStore=Cr(p),$t.setAttr=Wr(A)},Xr=function(q){c(p,q);function p(){return s(this,p),_(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return S(p,[{key:"render",value:function(){return y.createElement(Zt,n({},this.props,{editorBridgeBuilder:Ur}))}}]),p}(y.Component),Yr=null},95890:(G,B,t)=>{"use strict";t.d(B,{Sm:()=>c,WX:()=>f,XC:()=>S,e7:()=>n,k:()=>_});var y=t(7485),D=t(26250),w=t.n(D),j=t(77359),h=t.n(j);const R=()=>/(Macintosh)/i.test(navigator.userAgent),i=new Map;function s(m){if(!m)return;let b=i.get(m);if(b!==void 0)return b;const a=m.split("+");if(R()){const o=e=>e==="mod"?"\u2318":e==="alt"?"\u2325":e==="shift"?"\u21E7":e==="ctrl"?"\u2303":e==="backspace"?"\u232B":e==="del"?"Delete":e.charAt(0).toUpperCase()+e.slice(1);b=a.map(o).join("")}else{const o=e=>e==="mod"?"Ctrl":e.toLowerCase()==="alt"?"Alt":e.toLowerCase()==="shift"?"Shift":e.toLowerCase()==="ctrl"?"Ctrl":e==="backspace"?"Backspace":e==="del"?"Delete":e.toLowerCase()==="return"?"Enter":e.charAt(0).toUpperCase()+e.slice(1);b=a.map(o).join("+")}return i.set(m,b),b}const S=(0,y.createContext)(void 0);var n;(function(m){m[m.Normal=0]="Normal",m[m.Mode=100]="Mode",m[m.FloatingPanel=200]="FloatingPanel",m[m.Input=201]="Input",m[m.TextEditor=300]="TextEditor",m[m.BlockingPanel=400]="BlockingPanel"})(n||(n={}));class c{constructor(){this.keys=new Map,this.globalKeys=new Map,this.sheetsBound=new Set}createHandler(b,a){return a===void 0&&(a=!1),o=>this.invoke(b,a)}invoke(b,a){a===void 0&&(a=!1);const o=a?this.globalKeys.get(b):this.keys.get(b);return o&&o.length>0?(o[0].keys[b](),!1):!0}bind(b){if(b.isGlobal)for(const[a]of Object.entries(b.keys)){const o=this.globalKeys.get(a);if(o)o.push(b),o.sort((e,r)=>r.priority-e.priority);else{const e=this.createHandler(a,!0);w().bindGlobal(a,e),this.globalKeys.set(a,[b])}}else for(const[a]of Object.entries(b.keys)){const o=this.keys.get(a);if(o)o.push(b),o.sort((e,r)=>r.priority-e.priority);else{const e=this.createHandler(a);w().bind(a,e),this.keys.set(a,[b])}}this.sheetsBound.add(b)}unbind(b){b.isGlobal?this.globalKeys.forEach((a,o)=>{h().remove(a,e=>e===b)}):this.keys.forEach((a,o)=>{h().remove(a,e=>e===b)}),this.sheetsBound.delete(b)}pause(){w().pause()}unpause(){w().unpause()}}function _(m){const b=(0,y.useContext)(S);return(0,y.useEffect)(()=>{b.pause();const a=o=>{o.key==="Escape"&&!o.shiftKey&&!o.metaKey&&!o.ctrlKey&&!o.altKey&&(o.preventDefault(),m.dismiss())};return document.addEventListener("keydown",a),()=>{b.unpause(),document.removeEventListener("keydown",a)}}),null}const f=(0,y.memo)(m=>{const b=(0,y.useContext)(S);return(0,y.useEffect)(()=>(b.bind(m.sheet),()=>{b.unbind(m.sheet)})),null})},75985:(G,B,t)=>{(function(){var y=t(55983),D=t(97279).utf8,w=t(85884),j=t(97279).bin,h=function(R,i){R.constructor==String?i&&i.encoding==="binary"?R=j.stringToBytes(R):R=D.stringToBytes(R):w(R)?R=Array.prototype.slice.call(R,0):!Array.isArray(R)&&R.constructor!==Uint8Array&&(R=R.toString());for(var s=y.bytesToWords(R),S=R.length*8,n=1732584193,c=-271733879,_=-1732584194,f=271733878,m=0;m<s.length;m++)s[m]=(s[m]<<8|s[m]>>>24)&16711935|(s[m]<<24|s[m]>>>8)&4278255360;s[S>>>5]|=128<<S%32,s[(S+64>>>9<<4)+14]=S;for(var b=h._ff,a=h._gg,o=h._hh,e=h._ii,m=0;m<s.length;m+=16){var r=n,l=c,v=_,P=f;n=b(n,c,_,f,s[m+0],7,-680876936),f=b(f,n,c,_,s[m+1],12,-389564586),_=b(_,f,n,c,s[m+2],17,606105819),c=b(c,_,f,n,s[m+3],22,-1044525330),n=b(n,c,_,f,s[m+4],7,-176418897),f=b(f,n,c,_,s[m+5],12,1200080426),_=b(_,f,n,c,s[m+6],17,-1473231341),c=b(c,_,f,n,s[m+7],22,-45705983),n=b(n,c,_,f,s[m+8],7,1770035416),f=b(f,n,c,_,s[m+9],12,-1958414417),_=b(_,f,n,c,s[m+10],17,-42063),c=b(c,_,f,n,s[m+11],22,-1990404162),n=b(n,c,_,f,s[m+12],7,1804603682),f=b(f,n,c,_,s[m+13],12,-40341101),_=b(_,f,n,c,s[m+14],17,-1502002290),c=b(c,_,f,n,s[m+15],22,1236535329),n=a(n,c,_,f,s[m+1],5,-165796510),f=a(f,n,c,_,s[m+6],9,-1069501632),_=a(_,f,n,c,s[m+11],14,643717713),c=a(c,_,f,n,s[m+0],20,-373897302),n=a(n,c,_,f,s[m+5],5,-701558691),f=a(f,n,c,_,s[m+10],9,38016083),_=a(_,f,n,c,s[m+15],14,-660478335),c=a(c,_,f,n,s[m+4],20,-405537848),n=a(n,c,_,f,s[m+9],5,568446438),f=a(f,n,c,_,s[m+14],9,-1019803690),_=a(_,f,n,c,s[m+3],14,-187363961),c=a(c,_,f,n,s[m+8],20,1163531501),n=a(n,c,_,f,s[m+13],5,-1444681467),f=a(f,n,c,_,s[m+2],9,-51403784),_=a(_,f,n,c,s[m+7],14,1735328473),c=a(c,_,f,n,s[m+12],20,-1926607734),n=o(n,c,_,f,s[m+5],4,-378558),f=o(f,n,c,_,s[m+8],11,-2022574463),_=o(_,f,n,c,s[m+11],16,1839030562),c=o(c,_,f,n,s[m+14],23,-35309556),n=o(n,c,_,f,s[m+1],4,-1530992060),f=o(f,n,c,_,s[m+4],11,1272893353),_=o(_,f,n,c,s[m+7],16,-155497632),c=o(c,_,f,n,s[m+10],23,-1094730640),n=o(n,c,_,f,s[m+13],4,681279174),f=o(f,n,c,_,s[m+0],11,-358537222),_=o(_,f,n,c,s[m+3],16,-722521979),c=o(c,_,f,n,s[m+6],23,76029189),n=o(n,c,_,f,s[m+9],4,-640364487),f=o(f,n,c,_,s[m+12],11,-421815835),_=o(_,f,n,c,s[m+15],16,530742520),c=o(c,_,f,n,s[m+2],23,-995338651),n=e(n,c,_,f,s[m+0],6,-198630844),f=e(f,n,c,_,s[m+7],10,1126891415),_=e(_,f,n,c,s[m+14],15,-1416354905),c=e(c,_,f,n,s[m+5],21,-57434055),n=e(n,c,_,f,s[m+12],6,1700485571),f=e(f,n,c,_,s[m+3],10,-1894986606),_=e(_,f,n,c,s[m+10],15,-1051523),c=e(c,_,f,n,s[m+1],21,-2054922799),n=e(n,c,_,f,s[m+8],6,1873313359),f=e(f,n,c,_,s[m+15],10,-30611744),_=e(_,f,n,c,s[m+6],15,-1560198380),c=e(c,_,f,n,s[m+13],21,1309151649),n=e(n,c,_,f,s[m+4],6,-145523070),f=e(f,n,c,_,s[m+11],10,-1120210379),_=e(_,f,n,c,s[m+2],15,718787259),c=e(c,_,f,n,s[m+9],21,-343485551),n=n+r>>>0,c=c+l>>>0,_=_+v>>>0,f=f+P>>>0}return y.endian([n,c,_,f])};h._ff=function(R,i,s,S,n,c,_){var f=R+(i&s|~i&S)+(n>>>0)+_;return(f<<c|f>>>32-c)+i},h._gg=function(R,i,s,S,n,c,_){var f=R+(i&S|s&~S)+(n>>>0)+_;return(f<<c|f>>>32-c)+i},h._hh=function(R,i,s,S,n,c,_){var f=R+(i^s^S)+(n>>>0)+_;return(f<<c|f>>>32-c)+i},h._ii=function(R,i,s,S,n,c,_){var f=R+(s^(i|~S))+(n>>>0)+_;return(f<<c|f>>>32-c)+i},h._blocksize=16,h._digestsize=16,G.exports=function(R,i){if(R==null)throw new Error("Illegal argument "+R);var s=y.wordsToBytes(h(R,i));return i&&i.asBytes?s:i&&i.asString?j.bytesToString(s):y.bytesToHex(s)}})()},46198:(G,B,t)=>{"use strict";function y(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y)}catch(D){console.error(D)}}y(),G.exports=t(23801)},71617:(G,B)=>{"use strict";/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=Symbol.for("react.element"),y=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),R=Symbol.for("react.context"),i=Symbol.for("react.server_context"),s=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),c=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),m;m=Symbol.for("react.module.reference");function b(a){if(typeof a=="object"&&a!==null){var o=a.$$typeof;switch(o){case t:switch(a=a.type,a){case D:case j:case w:case S:case n:return a;default:switch(a=a&&a.$$typeof,a){case i:case R:case s:case _:case c:case h:return a;default:return o}}case y:return o}}}B.ContextConsumer=R,B.ContextProvider=h,B.Element=t,B.ForwardRef=s,B.Fragment=D,B.Lazy=_,B.Memo=c,B.Portal=y,B.Profiler=j,B.StrictMode=w,B.Suspense=S,B.SuspenseList=n,B.isAsyncMode=function(){return!1},B.isConcurrentMode=function(){return!1},B.isContextConsumer=function(a){return b(a)===R},B.isContextProvider=function(a){return b(a)===h},B.isElement=function(a){return typeof a=="object"&&a!==null&&a.$$typeof===t},B.isForwardRef=function(a){return b(a)===s},B.isFragment=function(a){return b(a)===D},B.isLazy=function(a){return b(a)===_},B.isMemo=function(a){return b(a)===c},B.isPortal=function(a){return b(a)===y},B.isProfiler=function(a){return b(a)===j},B.isStrictMode=function(a){return b(a)===w},B.isSuspense=function(a){return b(a)===S},B.isSuspenseList=function(a){return b(a)===n},B.isValidElementType=function(a){return typeof a=="string"||typeof a=="function"||a===D||a===j||a===w||a===S||a===n||a===f||typeof a=="object"&&a!==null&&(a.$$typeof===_||a.$$typeof===c||a.$$typeof===h||a.$$typeof===R||a.$$typeof===s||a.$$typeof===m||a.getModuleId!==void 0)},B.typeOf=b},89870:(G,B,t)=>{"use strict";t.d(B,{$j:()=>y.$j,I0:()=>y.I0,v9:()=>y.v9,wU:()=>y.wU,zt:()=>y.zt});var y=t(79973),D=t(86312),w=t(26521);(0,w.F)(D.m)},7485:(G,B,t)=>{"use strict";G.exports=t(67887)},84515:G=>{"use strict";G.exports=canvg},29750:G=>{"use strict";G.exports=dompurify},75177:G=>{"use strict";G.exports=html2canvas}},Rr={};function we(G){var B=Rr[G];if(B!==void 0)return B.exports;var t=Rr[G]={id:G,loaded:!1,exports:{}};return xr[G].call(t.exports,t,t.exports,we),t.loaded=!0,t.exports}we.m=xr,we.amdO={},(()=>{var G=[];we.O=(B,t,y,D)=>{if(t){D=D||0;for(var w=G.length;w>0&&G[w-1][2]>D;w--)G[w]=G[w-1];G[w]=[t,y,D];return}for(var j=1/0,w=0;w<G.length;w++){for(var[t,y,D]=G[w],h=!0,R=0;R<t.length;R++)(D&!1||j>=D)&&Object.keys(we.O).every(_=>we.O[_](t[R]))?t.splice(R--,1):(h=!1,D<j&&(j=D));if(h){G.splice(w--,1);var i=y();i!==void 0&&(B=i)}}return B}})(),we.n=G=>{var B=G&&G.__esModule?()=>G.default:()=>G;return we.d(B,{a:B}),B},(()=>{var G=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,B;we.t=function(t,y){if(y&1&&(t=this(t)),y&8||typeof t=="object"&&t&&(y&4&&t.__esModule||y&16&&typeof t.then=="function"))return t;var D=Object.create(null);we.r(D);var w={};B=B||[null,G({}),G([]),G(G)];for(var j=y&2&&t;typeof j=="object"&&!~B.indexOf(j);j=G(j))Object.getOwnPropertyNames(j).forEach(h=>w[h]=()=>t[h]);return w.default=()=>t,we.d(D,w),D}})(),we.d=(G,B)=>{for(var t in B)we.o(B,t)&&!we.o(G,t)&&Object.defineProperty(G,t,{enumerable:!0,get:B[t]})},we.f={},we.e=G=>Promise.all(Object.keys(we.f).reduce((B,t)=>(we.f[t](G,B),B),[])),we.u=G=>""+G+"-"+{164:"125fa74e444b2f5f3cc9",848:"62b50b79e71492e4ef46",856:"3a2635ad3882fb2c4e69"}[G]+".js",we.miniCssF=G=>{},we.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(G){if(typeof window=="object")return window}}(),we.hmd=G=>(G=Object.create(G),G.children||(G.children=[]),Object.defineProperty(G,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+G.id)}}),G),we.o=(G,B)=>Object.prototype.hasOwnProperty.call(G,B),(()=>{var G={},B="@mockingbot/mb-proto:";we.l=(t,y,D,w)=>{if(G[t]){G[t].push(y);return}var j,h;if(D!==void 0)for(var R=document.getElementsByTagName("script"),i=0;i<R.length;i++){var s=R[i];if(s.getAttribute("src")==t||s.getAttribute("data-webpack")==B+D){j=s;break}}j||(h=!0,j=document.createElement("script"),j.charset="utf-8",j.timeout=120,we.nc&&j.setAttribute("nonce",we.nc),j.setAttribute("data-webpack",B+D),j.src=t),G[t]=[y];var S=(c,_)=>{j.onerror=j.onload=null,clearTimeout(n);var f=G[t];if(delete G[t],j.parentNode&&j.parentNode.removeChild(j),f&&f.forEach(m=>m(_)),c)return c(_)},n=setTimeout(S.bind(null,void 0,{type:"timeout",target:j}),12e4);j.onerror=S.bind(null,j.onerror),j.onload=S.bind(null,j.onload),h&&document.head.appendChild(j)}})(),we.r=G=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})},we.nmd=G=>(G.paths=[],G.children||(G.children=[]),G),we.j=96,we.p="/mb-proto2/",(()=>{var G={96:0};we.f.j=(y,D)=>{var w=we.o(G,y)?G[y]:void 0;if(w!==0)if(w)D.push(w[2]);else{var j=new Promise((s,S)=>w=G[y]=[s,S]);D.push(w[2]=j);var h=we.p+we.u(y),R=new Error,i=s=>{if(we.o(G,y)&&(w=G[y],w!==0&&(G[y]=void 0),w)){var S=s&&(s.type==="load"?"missing":s.type),n=s&&s.target&&s.target.src;R.message="Loading chunk "+y+` failed.
(`+S+": "+n+")",R.name="ChunkLoadError",R.type=S,R.request=n,w[1](R)}};we.l(h,i,"chunk-"+y,y)}},we.O.j=y=>G[y]===0;var B=(y,D)=>{var[w,j,h]=D,R,i,s=0;if(w.some(n=>G[n]!==0)){for(R in j)we.o(j,R)&&(we.m[R]=j[R]);if(h)var S=h(we)}for(y&&y(D);s<w.length;s++)i=w[s],we.o(G,i)&&G[i]&&G[i][0](),G[i]=0;return we.O(S)},t=self.webpackChunk_mockingbot_mb_proto=self.webpackChunk_mockingbot_mb_proto||[];t.forEach(B.bind(null,0)),t.push=B.bind(null,t.push.bind(t))})(),we.nc=void 0,we.O(void 0,[736],()=>we(76557)),we.O(void 0,[736],()=>we(57539)),we.O(void 0,[736],()=>we(99287));var kr=we.O(void 0,[736],()=>we(6301));kr=we.O(kr)})();

//# sourceMappingURL=preview-html-zip-b3d70c201e173afe1f28.js.map